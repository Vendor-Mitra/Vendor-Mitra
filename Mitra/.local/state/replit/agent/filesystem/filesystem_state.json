{"file_contents":{"IMAGE_UPLOAD_FEATURE.md":{"content":"# Image Upload Feature for Suppliers\n\n## Overview\nThe supplier dashboard now includes a comprehensive image upload system that allows suppliers to add product images using either their device's camera or by selecting from their gallery.\n\n## Features\n\n### 1. Camera Capture\n- **Direct Camera Access**: Suppliers can take photos directly using their device's camera\n- **Back Camera Default**: Automatically uses the back camera for better product photography\n- **High Resolution**: Captures images at 1280x720 resolution for quality\n- **Preview & Retake**: Full-screen preview with option to retake photos\n- **Camera Controls**: Intuitive camera interface with capture, cancel, and retake buttons\n\n### 2. Gallery Upload\n- **File Selection**: Choose existing photos from device gallery\n- **Image Format Support**: Supports all common image formats (JPEG, PNG, WebP, etc.)\n- **Drag & Drop Ready**: Compatible with modern file upload interfaces\n\n### 3. Auto-Generated Images (Fallback)\n- **Smart Fallback**: If no image is uploaded, the system can auto-generate images based on product names\n- **API Integration**: Uses existing product image API for automatic image generation\n- **User Choice**: Suppliers can choose between manual upload or auto-generation\n\n## How to Use\n\n### Adding Product Images\n\n1. **Navigate to Supplier Dashboard**\n   - Go to the \"Product Catalog\" tab\n   - Click \"Add Product\" button\n\n2. **Upload Image**\n   - In the \"Product Image\" section, click \"Upload Image\"\n   - Choose between:\n     - **Choose from Gallery**: Select existing photos\n     - **Take Photo**: Use camera to capture new image\n\n3. **Camera Usage**\n   - Click \"Take Photo\" to open camera\n   - Position your product within the frame\n   - Tap the capture button (white circle)\n   - Preview the captured image\n   - Choose \"Use This Photo\" or \"Retake\"\n\n4. **Gallery Selection**\n   - Click \"Choose from Gallery\"\n   - Browse and select your desired image\n   - Image will be automatically added to the product\n\n5. **Auto-Generation (Optional)**\n   - If you don't have a photo, enter the product name\n   - Click \"Generate image for [product name]\"\n   - System will fetch a relevant image automatically\n\n### Flash Sale Images\n\nThe same image upload functionality is available when creating flash sales:\n- Navigate to \"Flash Sales\" tab\n- Click \"Create Flash Sale\"\n- Use the image upload section to add product photos\n\n## Technical Implementation\n\n### Components\n- **ImageUpload.jsx**: Main component handling camera and gallery uploads\n- **SupplierDashboard.jsx**: Integrated image upload in product and flash sale forms\n\n### Camera API\n- Uses `navigator.mediaDevices.getUserMedia()` for camera access\n- Canvas-based image capture for high-quality photos\n- Automatic camera stream management\n\n### File Handling\n- FileReader API for gallery image processing\n- Base64 encoding for image storage\n- Automatic format detection and validation\n\n## Browser Compatibility\n\n### Camera Features\n- **Mobile Browsers**: Full support (Chrome, Safari, Firefox)\n- **Desktop Browsers**: Limited support (requires HTTPS)\n- **HTTPS Required**: Camera access requires secure connection\n\n### Gallery Features\n- **All Modern Browsers**: Full support\n- **File Input**: Standard HTML5 file input with image filtering\n\n## Security & Privacy\n\n- **Local Processing**: Images are processed locally before upload\n- **No External Storage**: Images are not stored on external servers during capture\n- **Permission Based**: Camera access requires explicit user permission\n- **Secure Context**: Camera features require HTTPS connection\n\n## Troubleshooting\n\n### Camera Not Working\n1. Ensure you're using HTTPS (required for camera access)\n2. Check browser permissions for camera access\n3. Try refreshing the page and granting permissions again\n4. Use a mobile device for best camera experience\n\n### Image Upload Issues\n1. Check file format (JPEG, PNG, WebP supported)\n2. Ensure file size is reasonable (< 10MB recommended)\n3. Try selecting a different image from gallery\n\n### Auto-Generation Fails\n1. Check internet connection\n2. Try a more specific product name\n3. Use manual upload as fallback\n\n## Future Enhancements\n\n- **Image Editing**: Basic cropping and filtering options\n- **Multiple Images**: Support for multiple product photos\n- **Image Optimization**: Automatic compression and resizing\n- **Cloud Storage**: Integration with cloud image storage services\n- **AI Enhancement**: AI-powered image quality improvement\n","size_bytes":4467},"README.md":{"content":"# Mitra\nPlatform connecting vendors and suppliers\n","size_bytes":50},"README_IMAGE_INTEGRATION.md":{"content":"# Auto-Image Integration for Product Management\n\n## ðŸš€ Features\n- **Automatic Image Fetching**: When suppliers type product names, images are automatically fetched from Unsplash\n- **Smart Caching**: Images are cached to avoid repeated API calls\n- **Fallback Support**: Different placeholder images for vegetables, fruits, and grains\n- **Loading States**: Visual feedback while searching for images\n\n## âš ï¸ IMPORTANT: Get Your API Key Working!\n\n**Currently, you're seeing placeholder images because the Unsplash API key isn't configured.**\n\n### To Get Real Product Images:\n1. **Get free Unsplash API key** from [https://unsplash.com/developers](https://unsplash.com/developers)\n2. **Update** `src/config/api.js` with your key:\n   ```javascript\n   UNSPLASH_ACCESS_KEY: 'your_actual_key_here'\n   ```\n3. **Restart your app** - you'll see real product images!\n\n## ðŸ“‹ Setup Instructions\n\n### 1. Get Unsplash API Key (Free)\n1. Go to [https://unsplash.com/developers](https://unsplash.com/developers)\n2. Sign up for a free account\n3. Create a new application\n4. Copy your Access Key\n\n### 2. Configure API Key\n1. Open `src/config/api.js`\n2. Replace `YOUR_UNSPLASH_ACCESS_KEY_HERE` with your actual key:\n   ```javascript\n   UNSPLASH_ACCESS_KEY: 'your_actual_key_here'\n   ```\n\n### 3. Usage\n- **For Suppliers**: Simply type a product name (e.g., \"spinach\", \"apple\", \"tomato\")\n- **Auto-Image**: Image will be automatically fetched and displayed\n- **Cache**: Subsequent searches for the same product use cached images\n\n## ðŸ”§ How It Works\n\n### Image Fetching Flow\n1. Supplier types product name in \"Add Product\" form\n2. After 3+ characters, API call is made to Unsplash\n3. Search query includes \"food vegetable fruit\" for better results\n4. First matching image is selected and cached\n5. Image preview is updated in real-time\n\n### Caching System\n- **Memory Cache**: Images stored in browser memory\n- **API Call Reduction**: Same product names don't trigger new API calls\n- **Performance**: Instant image display for cached products\n\n### Fallback System (When API Key Not Configured)\n- **Vegetables**: Get vegetable-specific placeholder image\n- **Fruits**: Get fruit-specific placeholder image  \n- **Grains**: Get grain-specific placeholder image\n- **Others**: Get general food placeholder image\n\n## ðŸ“Š API Limits (Free Tier)\n- **Rate Limit**: 50 requests per hour\n- **Monthly Limit**: 5,000 requests\n- **Image Quality**: High-quality images with various sizes\n\n## ðŸŽ¯ Supported Product Types\n- **Vegetables**: spinach, tomato, potato, cucumber, onion, carrot, etc.\n- **Fruits**: apple, banana, orange, mango, grape, strawberry, etc.\n- **Grains**: rice, wheat, corn, oats, barley, quinoa, etc.\n- **Any Food Item**: The system searches with \"food\" context\n\n## ðŸ› ï¸ Technical Details\n\n### Files Modified\n- `src/utils/productImages.js` - Core image fetching utility with smart fallbacks\n- `src/config/api.js` - API configuration\n- `src/pages/SupplierDashboard.jsx` - Integration with add product form\n\n### Key Functions\n- `getProductImage(productName)` - Fetches and caches images\n- `getCachedProductImage(productName)` - Gets cached images\n- `getPlaceholderImage(productName)` - Gets appropriate placeholder based on product type\n- `clearImageCache()` - Clears image cache\n\n## ðŸš¨ Troubleshooting\n\n### No Images Loading\n1. **Check if API key is configured** in `src/config/api.js` â† **Most Common Issue**\n2. Verify internet connection\n3. Check browser console for error messages\n\n### Same Image for All Products\n- **This means your API key isn't working!** Follow the setup instructions above\n- The system is falling back to placeholder images\n\n### API Rate Limit Exceeded\n- Wait for the hour to reset\n- Consider upgrading to paid Unsplash plan\n- Images will fall back to appropriate placeholders\n\n### Image Quality Issues\n- Modify `IMAGE_QUALITY` in `src/config/api.js`\n- Options: 'thumb', 'small', 'regular', 'full'\n\n## ðŸ”„ Future Enhancements\n- **Multiple Image Sources**: Add Pixabay, Pexels APIs\n- **Image Upload**: Allow suppliers to upload custom images\n- **AI Enhancement**: Use AI to improve image matching\n- **Bulk Import**: Import multiple products with auto-images\n\n## ðŸ“ž Support\nIf you encounter issues:\n1. **First**: Make sure your API key is configured correctly\n2. Check browser console for errors\n3. Verify product names are descriptive (e.g., \"red tomato\" vs just \"tomato\")\n4. Ensure you have internet connection\n\n## ðŸŽ¯ Quick Test\n1. Configure your API key\n2. Go to Supplier Dashboard â†’ Add Product\n3. Type \"spinach\" â†’ Should show spinach image\n4. Type \"apple\" â†’ Should show apple image\n5. Type \"rice\" â†’ Should show rice image\n","size_bytes":4657},"STOCK_MANAGEMENT_SYSTEM.md":{"content":"# Stock Management System Documentation\n\n## Overview\n\nThis comprehensive stock management system automatically handles product inventory with real-time updates across all vendor sessions. When vendors purchase products, the system automatically decreases stock quantities and synchronizes changes across all open tabs/windows.\n\n## Key Features\n\n### âœ… Automatic Stock Updates\n- **Purchase Operations**: Automatically decreases stock when vendors buy products\n- **Restock Operations**: Suppliers can increase stock levels\n- **Set Stock**: Direct stock level management\n- **Real-time Sync**: Changes reflect instantly across all browser tabs\n\n### âœ… Stock Validation\n- **Availability Checks**: Prevents purchases when insufficient stock\n- **Quantity Validation**: Ensures stock never goes below zero\n- **Batch Operations**: Handle multiple product updates simultaneously\n\n### âœ… Real-time Communication\n- **Cross-tab Updates**: Uses localStorage events for real-time sync\n- **Event Broadcasting**: Stock changes broadcast to all components\n- **Live UI Updates**: Product lists update automatically\n\n## System Architecture\n\n### Core Components\n\n1. **StockManager** (`/src/utils/stockManager.js`)\n   - Main stock management class\n   - Handles all CRUD operations\n   - Provides transaction logging\n   - Manages batch operations\n\n2. **RealTimeSync** (`/src/utils/realTimeSync.js`)\n   - Real-time synchronization utility\n   - Cross-tab communication\n   - Event broadcasting system\n   - Stock update notifications\n\n3. **ProductDatabase** (`/src/data/userDatabase.js`)\n   - Enhanced with stock management methods\n   - Persistent localStorage storage\n   - Stock validation functions\n   - Batch update capabilities\n\n## Usage Examples\n\n### Basic Stock Operations\n\n```javascript\nimport stockManager from '../utils/stockManager'\n\n// Purchase operation (decreases stock)\nconst result = await stockManager.purchase(productId, quantity, {\n  vendorId: user.id,\n  orderId: 'ORD-123'\n})\n\n// Restock operation (increases stock)\nconst result = await stockManager.restock(productId, quantity, {\n  supplierId: supplier.id\n})\n\n// Set specific stock level\nconst result = await stockManager.setStock(productId, newStockValue)\n\n// Check stock availability\nconst availability = await stockManager.checkAvailability(productId, requestedQuantity)\n```\n\n### Real-time Updates\n\n```javascript\nimport realTimeSync from '../utils/realTimeSync'\n\n// Subscribe to stock updates\nconst unsubscribe = realTimeSync.subscribe('stock_update', (data) => {\n  console.log('Stock updated:', data.productName, data.newStock)\n  // Update UI accordingly\n})\n\n// Cleanup subscription\nunsubscribe()\n```\n\n## Integration Points\n\n### 1. Cart Component (`/src/pages/Cart.jsx`)\n- **Stock Validation**: Checks availability before purchase\n- **Automatic Updates**: Decreases stock on successful orders\n- **Real-time Sync**: Updates cart when stock changes\n- **Error Handling**: Prevents overselling\n\n### 2. FindItems Component (`/src/pages/FindItems.jsx`)\n- **Live Stock Display**: Shows current stock levels\n- **Real-time Updates**: Updates product list when stock changes\n- **Purchase Validation**: Prevents adding unavailable items to cart\n\n### 3. Stock Demo Component (`/src/components/StockManagement/StockDemo.jsx`)\n- **Interactive Testing**: Test all stock operations\n- **Live Monitoring**: Real-time activity logs\n- **Transaction History**: View recent stock changes\n- **Stock Overview**: Current inventory status\n\n## Data Flow\n\n```\n1. Vendor initiates purchase\n   â†“\n2. StockManager validates availability\n   â†“\n3. Stock decreased in ProductDatabase\n   â†“\n4. RealTimeSync broadcasts update\n   â†“\n5. All components receive update\n   â†“\n6. UI updates automatically\n```\n\n## Stock Status Indicators\n\n- **ðŸŸ¢ In Stock**: Stock > 10 units\n- **ðŸŸ¡ Low Stock**: Stock â‰¤ 10 units\n- **ðŸ”´ Out of Stock**: Stock = 0 units\n\n## Error Handling\n\n### Common Error Scenarios\n- **Product Not Found**: Invalid product ID\n- **Insufficient Stock**: Purchase quantity > available stock\n- **Invalid Quantity**: Negative or zero quantities\n- **Database Errors**: Storage/retrieval failures\n\n### Error Response Format\n```javascript\n{\n  success: false,\n  error: \"Error message\",\n  code: \"ERROR_CODE\",\n  data: { /* additional error context */ }\n}\n```\n\n## Testing the System\n\n### Manual Testing Steps\n\n1. **Open Multiple Tabs**: Navigate to FindItems page in multiple browser tabs\n2. **Add Products**: Use the supplier dashboard to add products with stock\n3. **Make Purchases**: Purchase items from one tab\n4. **Verify Updates**: Check that stock updates appear in all tabs instantly\n5. **Test Edge Cases**: Try purchasing more than available stock\n\n### Using the Stock Demo\n\n1. Navigate to the Stock Demo component\n2. Select a product from the dropdown\n3. Choose operation type (Purchase/Restock/Set Stock)\n4. Enter quantity and execute\n5. Monitor live logs and transaction history\n6. Verify real-time updates across tabs\n\n## Performance Considerations\n\n- **Batch Operations**: Use for multiple simultaneous updates\n- **Event Throttling**: Prevents excessive real-time updates\n- **Storage Cleanup**: Automatic cleanup of old sync events\n- **Transaction Logging**: Limited to 1000 recent transactions\n\n## Future Enhancements\n\n- **Stock Alerts**: Notifications for low stock levels\n- **Automatic Reordering**: Trigger restock when below threshold\n- **Analytics Dashboard**: Stock movement analytics\n- **Supplier Integration**: Direct supplier stock updates\n- **Mobile Optimization**: Enhanced mobile stock management\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Stock Not Updating**\n   - Check browser localStorage permissions\n   - Verify real-time sync subscriptions\n   - Clear localStorage and refresh\n\n2. **Inconsistent Stock Levels**\n   - Refresh all browser tabs\n   - Check for JavaScript errors in console\n   - Verify product database integrity\n\n3. **Purchase Failures**\n   - Check stock availability\n   - Verify product exists in database\n   - Review error logs in console\n\n### Debug Commands\n\n```javascript\n// Check current stock\nawait stockManager.getStock(productId)\n\n// View transaction history\nstockManager.getStockHistory(productId)\n\n// Clear all stock logs\nlocalStorage.removeItem('vendorMitraStockLogs')\n\n// Reset product database\nlocalStorage.removeItem('vendorMitraProducts')\n```\n\n## API Reference\n\n### StockManager Methods\n\n- `purchase(productId, quantity, options)` - Decrease stock\n- `restock(productId, quantity, options)` - Increase stock\n- `setStock(productId, newValue, options)` - Set specific stock level\n- `getStock(productId)` - Get current stock level\n- `checkAvailability(productId, quantity)` - Check if stock available\n- `batchPurchase(purchases)` - Handle multiple purchases\n- `getStockHistory(productId, limit)` - Get transaction history\n\n### RealTimeSync Events\n\n- `stock_update` - Stock level changed\n- `product_update` - Product added/modified/deleted\n- `bargain_update` - Bargain status changed\n\n## Security Considerations\n\n- **Client-side Only**: Current implementation is client-side\n- **Data Validation**: All inputs validated before processing\n- **Error Boundaries**: Graceful error handling\n- **Transaction Logging**: Audit trail for all operations\n\n---\n\n*This stock management system provides a robust foundation for inventory management in the VendorMitra platform, ensuring accurate stock tracking and real-time synchronization across all user sessions.*\n","size_bytes":7431},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n} ","size_bytes":80},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    \"./index.html\",\n    \"./src/**/*.{js,jsx,ts,tsx}\",\n  ],\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: '#f0fdf4',\n          100: '#dcfce7',\n          200: '#bbf7d0',\n          300: '#86efac',\n          400: '#4ade80',\n          500: '#22c55e',\n          600: '#16a34a',\n          700: '#15803d',\n          800: '#166534',\n          900: '#14532d',\n        },\n        secondary: {\n          50: '#fefce8',\n          100: '#fef9c3',\n          200: '#fef08a',\n          300: '#fde047',\n          400: '#facc15',\n          500: '#eab308',\n          600: '#ca8a04',\n          700: '#a16207',\n          800: '#854d0e',\n          900: '#713f12',\n        },\n        accent: {\n          50: '#fff7ed',\n          100: '#ffedd5',\n          200: '#fed7aa',\n          300: '#fdba74',\n          400: '#fb923c',\n          500: '#f97316',\n          600: '#ea580c',\n          700: '#c2410c',\n          800: '#9a3412',\n          900: '#7c2d12',\n        },\n        tomato: {\n          500: '#ef4444',\n        },\n        banana: {\n          500: '#fde047',\n        }\n      }\n    }\n  },\n  plugins: [],\n}\n","size_bytes":1189},"vite.config.js":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    host: \"0.0.0.0\",\n    port: 5000,\n    allowedHosts: true, // âœ… allow all hosts (works on Replit)\n  },\n});\n","size_bytes":285},"src/App.jsx":{"content":"import React from 'react'\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport { AuthProvider } from './contexts/AuthContext'\nimport { StatsProvider } from './contexts/StatsContext'\nimport { CartProvider } from './contexts/CartContext'\nimport { ProductProvider } from './contexts/ProductContext'\nimport Navbar from './components/Layout/Navbar'\nimport Footer from './components/Layout/Footer'\nimport SupplierLayout from './components/Layout/SupplierLayout'\nimport Home from './pages/Home'\nimport Dashboard from './pages/Dashboard'\nimport SupplierDashboard from './pages/SupplierDashboard'\nimport Login from './pages/Auth/Login'\nimport Register from './pages/Auth/Register'\nimport SupplierFinder from './pages/SupplierFinder'\nimport FlashSales from './pages/FlashSales'\nimport Marketplace from './pages/Marketplace'\nimport Profile from './pages/Profile'\nimport Organic from './pages/Organic'\nimport FindItems from './pages/FindItems'\nimport FindSales from './pages/FindSales'\nimport Cart from './pages/Cart'\nimport Bargains from './pages/Bargains'\nimport CollaborativeOrders from './pages/CollaborativeOrders'\nimport StockDemo from './components/StockManagement/StockDemo'\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <ProductProvider>\n          <StatsProvider>\n            <CartProvider>\n                <Routes>\n                  {/* Supplier Routes - Use SupplierLayout */}\n                  <Route path=\"/supplier-dashboard\" element={\n                    <SupplierLayout>\n                      <SupplierDashboard />\n                    </SupplierLayout>\n                  } />\n                  \n                  {/* Vendor Routes - Use Regular Layout */}\n                  <Route path=\"/\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Home />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/dashboard\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Dashboard />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/login\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Login />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/register\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Register />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/suppliers\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <SupplierFinder />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/find-items\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <FindItems />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/find-sales\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <FindSales />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/flash-sales\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <FlashSales />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/organic\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Organic />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/profile\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Profile />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/cart\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Cart />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/bargains\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <Bargains />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/collaborative-orders\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <CollaborativeOrders />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                  <Route path=\"/stock-demo\" element={\n                    <div className=\"min-h-screen flex flex-col\">\n                      <Navbar />\n                      <main className=\"flex-1\">\n                        <StockDemo />\n                      </main>\n                      <Footer />\n                    </div>\n                  } />\n                </Routes>\n            </CartProvider>\n          </StatsProvider>\n        </ProductProvider>\n      </AuthProvider>\n    </Router>\n  )\n}\n\nexport default App","size_bytes":6770},"src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  html {\n    font-family: 'Inter', system-ui, sans-serif;\n  }\n  \n  body {\n    @apply bg-gray-50 text-gray-900;\n  }\n}\n\n@layer components {\n  .btn-primary {\n    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200;\n  }\n  \n  .btn-secondary {\n    @apply bg-secondary-600 hover:bg-secondary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200;\n  }\n  \n  .card {\n    @apply bg-white rounded-lg shadow-md p-6;\n  }\n  \n  .input-field {\n    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;\n  }\n  \n  /* Map Marker Styles */\n  .custom-div-icon {\n    background: transparent;\n    border: none;\n  }\n  \n  .supplier-marker {\n    background: transparent;\n    border: none;\n  }\n  \n  .leaflet-popup-content-wrapper {\n    border-radius: 8px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n  \n  .leaflet-popup-content {\n    margin: 0;\n    padding: 0;\n  }\n  \n  .leaflet-popup-tip {\n    background: white;\n  }\n  \n  /* Marquee Animation for Live Deals Ticker */\n  @keyframes marquee {\n    0% {\n      transform: translateX(100%);\n    }\n    100% {\n      transform: translateX(-100%);\n    }\n  }\n  \n  .animate-marquee {\n    animation: marquee 20s linear infinite;\n  }\n}","size_bytes":1401},"src/main.jsx":{"content":"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.jsx'\nimport './index.css'\nimport 'leaflet/dist/leaflet.css';\n\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n) ","size_bytes":271},"src/components/ImageUpload.jsx":{"content":"import React, { useState, useRef, useEffect } from 'react'\nimport { Camera, Image, Upload, X, RotateCcw } from 'lucide-react'\n\nconst ImageUpload = ({ onImageSelect, currentImage, onRemoveImage }) => {\n  const [showOptions, setShowOptions] = useState(false)\n  const [capturedImage, setCapturedImage] = useState(null)\n  const [isCapturing, setIsCapturing] = useState(false)\n  const fileInputRef = useRef(null)\n  const videoRef = useRef(null)\n  const canvasRef = useRef(null)\n  const [stream, setStream] = useState(null)\n\n  // Cleanup effect to stop camera when component unmounts\n  useEffect(() => {\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop())\n      }\n      document.body.style.overflow = 'auto'\n    }\n  }, [stream])\n\n  const handleGalleryUpload = () => {\n    fileInputRef.current?.click()\n  }\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        onImageSelect(e.target.result)\n        setShowOptions(false)\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n\n  const startCamera = async () => {\n    try {\n      setIsCapturing(true)\n      // Prevent body scrolling when camera is active\n      document.body.style.overflow = 'hidden'\n      \n      const mediaStream = await navigator.mediaDevices.getUserMedia({ \n        video: { \n          facingMode: 'environment', // Use back camera by default\n          width: { ideal: 1280 },\n          height: { ideal: 720 }\n        } \n      })\n      setStream(mediaStream)\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream\n        // Wait for video to load before setting up orientation\n        videoRef.current.onloadedmetadata = () => {\n          // Force video to fit container properly\n          videoRef.current.style.transform = 'scaleX(-1)' // Mirror the video for better UX\n        }\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error)\n      alert('Unable to access camera. Please check permissions.')\n      setIsCapturing(false)\n      document.body.style.overflow = 'auto'\n    }\n  }\n\n  const stopCamera = () => {\n    if (stream) {\n      stream.getTracks().forEach(track => track.stop())\n      setStream(null)\n    }\n    setIsCapturing(false)\n    setCapturedImage(null)\n    // Restore body scrolling\n    document.body.style.overflow = 'auto'\n  }\n\n  const captureImage = () => {\n    if (videoRef.current && canvasRef.current) {\n      const video = videoRef.current\n      const canvas = canvasRef.current\n      const context = canvas.getContext('2d')\n\n      // Set canvas dimensions to match video\n      canvas.width = video.videoWidth\n      canvas.height = video.videoHeight\n\n      // Clear canvas\n      context.clearRect(0, 0, canvas.width, canvas.height)\n\n      // Flip the image horizontally to correct the mirror effect\n      context.save()\n      context.scale(-1, 1)\n      context.translate(-canvas.width, 0)\n      \n      // Draw video frame to canvas\n      context.drawImage(video, 0, 0, canvas.width, canvas.height)\n      \n      // Restore context\n      context.restore()\n\n      // Convert canvas to data URL\n      const imageDataUrl = canvas.toDataURL('image/jpeg', 0.8)\n      setCapturedImage(imageDataUrl)\n      onImageSelect(imageDataUrl)\n      \n      // Stop camera after capture\n      stopCamera()\n      setShowOptions(false)\n    }\n  }\n\n  const retakePhoto = () => {\n    setCapturedImage(null)\n    startCamera()\n  }\n\n  const handleRemoveImage = () => {\n    onRemoveImage()\n    setCapturedImage(null)\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Current Image Display */}\n      {(currentImage || capturedImage) && (\n        <div className=\"relative\">\n          <img \n            src={capturedImage || currentImage} \n            alt=\"Product\" \n            className=\"w-full h-48 object-cover rounded-lg border\"\n          />\n          <button\n            onClick={handleRemoveImage}\n            className=\"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      )}\n\n      {/* Upload Options */}\n      {!currentImage && !capturedImage && (\n        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n          <div className=\"space-y-4\">\n            <div className=\"text-gray-500\">\n              <Upload className=\"w-12 h-12 mx-auto mb-2\" />\n              <p className=\"text-sm\">Upload product image</p>\n            </div>\n            \n            <div className=\"flex gap-3 justify-center\">\n              <button\n                onClick={() => setShowOptions(true)}\n                className=\"btn-primary flex items-center gap-2\"\n              >\n                <Image className=\"w-4 h-4\" />\n                Upload Image\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Upload Options Modal */}\n      {showOptions && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Upload Image</h3>\n              <button\n                onClick={() => {\n                  setShowOptions(false)\n                  stopCamera()\n                }}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-3\">\n              <button\n                onClick={handleGalleryUpload}\n                className=\"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3\"\n              >\n                <Image className=\"w-6 h-6 text-blue-600\" />\n                <div className=\"text-left\">\n                  <div className=\"font-medium\">Choose from Gallery</div>\n                  <div className=\"text-sm text-gray-500\">Select an existing photo</div>\n                </div>\n              </button>\n\n              <button\n                onClick={startCamera}\n                className=\"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3\"\n              >\n                <Camera className=\"w-6 h-6 text-green-600\" />\n                <div className=\"text-left\">\n                  <div className=\"font-medium\">Take Photo</div>\n                  <div className=\"text-sm text-gray-500\">Use camera to capture</div>\n                </div>\n              </button>\n            </div>\n\n            {/* Hidden file input */}\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n          </div>\n        </div>\n      )}\n\n             {/* Camera Interface */}\n       {isCapturing && (\n         <div className=\"fixed inset-0 bg-black flex flex-col z-50\">\n           {/* Header */}\n           <div className=\"flex justify-between items-center p-4 bg-black text-white z-10\">\n             <button\n               onClick={stopCamera}\n               className=\"text-white hover:text-gray-300 p-2\"\n             >\n               <X className=\"w-6 h-6\" />\n             </button>\n             <span className=\"text-lg font-medium\">Take Photo</span>\n             <div className=\"w-10\"></div> {/* Spacer for centering */}\n           </div>\n\n           {/* Camera View */}\n           <div className=\"flex-1 relative overflow-hidden\">\n             <video\n               ref={videoRef}\n               autoPlay\n               playsInline\n               muted\n               className=\"w-full h-full object-cover\"\n               style={{ transform: 'scaleX(-1)' }}\n             />\n             \n             {/* Camera overlay with better positioning */}\n             <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n               <div className=\"border-2 border-white rounded-lg w-64 h-64 opacity-50\"></div>\n             </div>\n\n             {/* Instructions */}\n             <div className=\"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg\">\n               <p className=\"text-sm\">Position your product in the frame</p>\n             </div>\n           </div>\n\n           {/* Camera controls - Fixed at bottom */}\n           <div className=\"bg-black bg-opacity-90 p-6\">\n             <div className=\"flex items-center justify-center gap-8\">\n               <button\n                 onClick={stopCamera}\n                 className=\"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all\"\n               >\n                 <X className=\"w-6 h-6 text-white\" />\n               </button>\n               \n               <button\n                 onClick={captureImage}\n                 className=\"bg-white p-6 rounded-full hover:bg-gray-100 transition-all shadow-lg\"\n               >\n                 <div className=\"w-16 h-16 border-4 border-gray-800 rounded-full\"></div>\n               </button>\n\n               <button\n                 onClick={retakePhoto}\n                 className=\"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all\"\n               >\n                 <RotateCcw className=\"w-6 h-6 text-white\" />\n               </button>\n             </div>\n           </div>\n\n           {/* Hidden canvas for capturing */}\n           <canvas ref={canvasRef} className=\"hidden\" />\n         </div>\n       )}\n\n      {/* Captured Image Preview */}\n      {capturedImage && !isCapturing && (\n        <div className=\"fixed inset-0 bg-black flex flex-col z-50\">\n          <div className=\"flex justify-between items-center p-4 bg-black text-white\">\n            <button\n              onClick={retakePhoto}\n              className=\"text-white hover:text-gray-300 flex items-center gap-2\"\n            >\n              <RotateCcw className=\"w-4 h-4\" />\n              Retake\n            </button>\n            <span className=\"text-lg font-medium\">Preview</span>\n            <button\n              onClick={() => {\n                setCapturedImage(null)\n                setShowOptions(false)\n              }}\n              className=\"text-white hover:text-gray-300\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"flex-1 flex items-center justify-center p-4\">\n            <img\n              src={capturedImage}\n              alt=\"Captured\"\n              className=\"max-w-full max-h-full object-contain\"\n            />\n          </div>\n\n          <div className=\"p-4 bg-black\">\n            <button\n              onClick={() => {\n                onImageSelect(capturedImage)\n                setCapturedImage(null)\n                setShowOptions(false)\n              }}\n              className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-medium\"\n            >\n              Use This Photo\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ImageUpload\n","size_bytes":11255},"src/config/api.js":{"content":"// API Configuration\nexport const API_CONFIG = {\n  // Get your free Unsplash API key from: https://unsplash.com/developers\n  UNSPLASH_ACCESS_KEY: 'YOUR_UNSPLASH_ACCESS_KEY_HERE',\n  \n  // API endpoints\n  UNSPLASH_API_URL: 'https://api.unsplash.com/search/photos',\n  \n  // Rate limiting (free tier: 50 requests/hour)\n  MAX_REQUESTS_PER_HOUR: 50,\n  \n  // Image settings\n  IMAGE_QUALITY: 'regular', // 'thumb', 'small', 'regular', 'full'\n  IMAGE_ORIENTATION: 'landscape',\n  IMAGES_PER_REQUEST: 1\n}\n\n// Helper function to check if API key is configured\nexport function isApiKeyConfigured() {\n  return API_CONFIG.UNSPLASH_ACCESS_KEY && \n         API_CONFIG.UNSPLASH_ACCESS_KEY !== 'YOUR_UNSPLASH_ACCESS_KEY_HERE'\n}\n","size_bytes":709},"src/contexts/AuthContext.jsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react'\nimport { authenticateUser, authenticateUserOrSupplier, registerUser } from '../data/userDatabase'\n\nconst AuthContext = createContext()\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider')\n  }\n  return context\n}\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [userType, setUserType] = useState(null) // 'vendor' or 'supplier'\n\n  useEffect(() => {\n    // Check for stored user data on app load\n    const storedUser = localStorage.getItem('vendorMitraUser')\n    const storedUserType = localStorage.getItem('vendorMitraUserType')\n    \n    if (storedUser) {\n      setUser(JSON.parse(storedUser))\n      setUserType(storedUserType)\n    }\n    setLoading(false)\n  }, [])\n\n  const login = async (email, password) => {\n    try {\n      // Use the enhanced authentication that checks both users and suppliers\n      const authenticatedUser = authenticateUserOrSupplier(email, password)\n      if (authenticatedUser) {\n        setUser(authenticatedUser)\n        setUserType(authenticatedUser.userType)\n        localStorage.setItem('vendorMitraUser', JSON.stringify(authenticatedUser))\n        localStorage.setItem('vendorMitraUserType', authenticatedUser.userType)\n        return { success: true }\n      } else {\n        throw new Error('Invalid credentials')\n      }\n    } catch (error) {\n      return { success: false, error: error.message }\n    }\n  }\n\n  const register = async (userData) => {\n    try {\n      // Use the database registration\n      const newUser = registerUser(userData)\n      setUser(newUser)\n      setUserType(newUser.userType)\n      localStorage.setItem('vendorMitraUser', JSON.stringify(newUser))\n      localStorage.setItem('vendorMitraUserType', newUser.userType)\n      return { success: true }\n    } catch (error) {\n      return { success: false, error: error.message }\n    }\n  }\n\n  const logout = () => {\n    setUser(null)\n    setUserType(null)\n    localStorage.removeItem('vendorMitraUser')\n    localStorage.removeItem('vendorMitraUserType')\n    // Force page reload to clear any cached state\n    window.location.href = '/'\n  }\n\n  const updateProfile = (updates) => {\n    const updatedUser = { ...user, ...updates }\n    setUser(updatedUser)\n    localStorage.setItem('vendorMitraUser', JSON.stringify(updatedUser))\n  }\n\n  const value = {\n    user,\n    userType,\n    loading,\n    login,\n    register,\n    logout,\n    updateProfile\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  )\n} ","size_bytes":2730},"src/contexts/CartContext.jsx":{"content":"import React, { createContext, useContext, useState } from 'react'\n\nconst CartContext = createContext()\n\nexport const useCart = () => {\n  const context = useContext(CartContext)\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider')\n  }\n  console.log('useCart hook called, cart state:', context.cart)\n  return context\n}\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState([])\n\n  const addToCart = (item) => {\n    console.log('CartContext: Adding item to cart:', item)\n    setCart(prevCart => {\n      const existingItem = prevCart.find(cartItem => cartItem.id === item.id)\n      if (existingItem) {\n        const newCart = prevCart.map(cartItem =>\n          cartItem.id === item.id\n            ? { ...cartItem, quantity: cartItem.quantity + (item.quantity || 1) }\n            : cartItem\n        )\n        console.log('CartContext: Updated existing item, new cart:', newCart)\n        return newCart\n      }\n      const newCart = [...prevCart, { ...item, quantity: item.quantity || 1 }]\n      console.log('CartContext: Added new item, new cart:', newCart)\n      return newCart\n    })\n  }\n\n  const removeFromCart = (itemId) => {\n    setCart(prevCart => prevCart.filter(item => item.id !== itemId))\n  }\n\n  const updateQuantity = (itemId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(itemId)\n      return\n    }\n    setCart(prevCart =>\n      prevCart.map(item =>\n        item.id === itemId ? { ...item, quantity } : item\n      )\n    )\n  }\n\n  const clearCart = () => {\n    setCart([])\n  }\n\n  const getCartTotal = () => {\n    return cart.reduce((total, item) => {\n      const price = typeof item.price === 'string' \n        ? parseInt(item.price.replace(/[^\\d]/g, '')) \n        : item.price\n      return total + (price * item.quantity)\n    }, 0)\n  }\n\n  const getCartCount = () => {\n    return cart.reduce((count, item) => count + item.quantity, 0)\n  }\n\n  const value = {\n    cart,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartTotal,\n    getCartCount\n  }\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  )\n} ","size_bytes":2162},"src/contexts/LanguageContext.jsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react'\n\nconst LanguageContext = createContext()\n\nexport const useLanguage = () => {\n  const context = useContext(LanguageContext)\n  if (!context) {\n    throw new Error('useLanguage must be used within a LanguageProvider')\n  }\n  return context\n}\n\nexport const LanguageProvider = ({ children }) => {\n  const [currentLanguage, setCurrentLanguage] = useState('en')\n  const [translations, setTranslations] = useState({})\n\n  const languages = {\n    en: 'English',\n    hi: 'à¤¹à¤¿à¤‚à¤¦à¥€',\n    ta: 'à®¤à®®à®¿à®´à¯',\n    te: 'à°¤à±†à°²à±à°—à±',\n    bn: 'à¦¬à¦¾à¦‚à¦²à¦¾'\n  }\n\n  useEffect(() => {\n    // Load translations based on current language\n    import(`../i18n/${currentLanguage}.js`)\n      .then(module => setTranslations(module.default))\n      .catch(() => setTranslations({}))\n  }, [currentLanguage])\n\n  const t = (key) => {\n    return translations[key] || key\n  }\n\n  const changeLanguage = (lang) => {\n    setCurrentLanguage(lang)\n    localStorage.setItem('vendorMitraLanguage', lang)\n  }\n\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem('vendorMitraLanguage')\n    if (savedLanguage) {\n      setCurrentLanguage(savedLanguage)\n    }\n  }, [])\n\n  const value = {\n    currentLanguage,\n    languages,\n    t,\n    changeLanguage\n  }\n\n  return (\n    <LanguageContext.Provider value={value}>\n      {children}\n    </LanguageContext.Provider>\n  )\n} ","size_bytes":1435},"src/contexts/ProductContext.jsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react'\nimport productApi from '../services/productApi'\n\nconst ProductContext = createContext()\n\nexport const useProducts = () => {\n  const context = useContext(ProductContext)\n  if (!context) {\n    throw new Error('useProducts must be used within a ProductProvider')\n  }\n  return context\n}\n\nexport const ProductProvider = ({ children }) => {\n  const [products, setProducts] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  // Load all products\n  const loadProducts = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await productApi.getAllProducts()\n      if (response.success) {\n        // Remove duplicates by ID before setting\n        const uniqueProducts = response.data.filter((product, index, self) => \n          index === self.findIndex(p => p.id === product.id)\n        )\n        console.log('Loading products with duplicate removal:', uniqueProducts.length, 'unique products')\n        setProducts(uniqueProducts)\n        \n        // Also save to localStorage for persistence\n        localStorage.setItem('vendorMitraProducts', JSON.stringify(uniqueProducts))\n      } else {\n        setError(response.message)\n      }\n    } catch (err) {\n      setError('Failed to load products')\n      console.error('Error loading products:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Add new product\n  const addProduct = async (productData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await productApi.createProduct(productData)\n      if (response.success) {\n        setProducts(prev => [...prev, response.data])\n        return response.data\n      } else {\n        setError(response.message)\n        return null\n      }\n    } catch (err) {\n      setError('Failed to add product')\n      console.error('Error adding product:', err)\n      return null\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Update product\n  const updateProduct = async (id, updates) => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await productApi.updateProduct(id, updates)\n      if (response.success) {\n        setProducts(prev => prev.map(p => p.id === id ? response.data : p))\n        return response.data\n      } else {\n        setError(response.message)\n        return null\n      }\n    } catch (err) {\n      setError('Failed to update product')\n      console.error('Error updating product:', err)\n      return null\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Delete product\n  const deleteProduct = async (id) => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await productApi.deleteProduct(id)\n      if (response.success) {\n        setProducts(prev => prev.filter(p => p.id !== id))\n        return true\n      } else {\n        setError(response.message)\n        return false\n      }\n    } catch (err) {\n      setError('Failed to delete product')\n      console.error('Error deleting product:', err)\n      return false\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Get products by supplier\n  const getProductsBySupplier = (supplierId) => {\n    return products.filter(p => p.supplierId === supplierId)\n  }\n\n  // Get products by category\n  const getProductsByCategory = (category) => {\n    return products.filter(p => p.category?.toLowerCase() === category?.toLowerCase())\n  }\n\n  // Search products\n  const searchProducts = (query) => {\n    const searchTerm = query.toLowerCase()\n    return products.filter(p => \n      p.name.toLowerCase().includes(searchTerm) ||\n      p.description?.toLowerCase().includes(searchTerm) ||\n      p.category?.toLowerCase().includes(searchTerm) ||\n      p.supplierName?.toLowerCase().includes(searchTerm)\n    )\n  }\n\n  // Inventory management methods\n  const decreaseStock = async (productId, quantity, options = {}) => {\n    try {\n      const response = await productApi.decreaseStock(productId, quantity)\n      if (response.success) {\n        // Update local state with new stock level\n        setProducts(prev => prev.map(p => \n          p.id === productId \n            ? { ...p, stock: response.data.stock, quantity: response.data.quantity }\n            : p\n        ))\n        \n        // Features 1 & 2: Handle delivery and order updates if vendor info provided\n        if (options.vendorId && options.deliveryAddress) {\n          const { updateProductStockAfterPurchase } = await import('../utils/purchaseHandler')\n          await updateProductStockAfterPurchase(productId, quantity, options)\n        }\n        \n        return response\n      } else {\n        setError(response.message)\n        return response\n      }\n    } catch (err) {\n      setError('Failed to update stock')\n      console.error('Error updating stock:', err)\n      return { success: false, data: null, message: 'Failed to update stock', error: err.message }\n    }\n  }\n\n  const increaseStock = async (productId, quantity) => {\n    try {\n      const response = await productApi.increaseStock(productId, quantity)\n      if (response.success) {\n        // Update local state with new stock level\n        setProducts(prev => prev.map(p => \n          p.id === productId \n            ? { ...p, stock: response.data.stock, quantity: response.data.quantity }\n            : p\n        ))\n        return response\n      } else {\n        setError(response.message)\n        return response\n      }\n    } catch (err) {\n      setError('Failed to update stock')\n      console.error('Error updating stock:', err)\n      return { success: false, data: null, message: 'Failed to update stock', error: err.message }\n    }\n  }\n\n  const getAvailableStock = (productId) => {\n    const product = products.find(p => p.id === productId)\n    return product ? (product.stock || product.quantity || 0) : 0\n  }\n\n  // Initialize products  // Load all products on mount\n  useEffect(() => {\n    // First try to load from localStorage for immediate display\n    const savedProducts = localStorage.getItem('vendorMitraProducts')\n    if (savedProducts) {\n      try {\n        const parsedProducts = JSON.parse(savedProducts)\n        console.log('Loading products from localStorage:', parsedProducts.length, 'products')\n        setProducts(parsedProducts)\n      } catch (error) {\n        console.error('Error parsing saved products:', error)\n      }\n    }\n    \n    // Then load fresh data from API\n    loadProducts()\n  }, [])\n\n  // Subscribe to real-time product updates\n  useEffect(() => {\n    const unsubscribe = productApi.subscribeToUpdates((data) => {\n      console.log('Real-time product update received:', data)\n      \n      switch (data.action) {\n        case 'create':\n          setProducts(prev => {\n            const exists = prev.find(p => p.id === data.product.id)\n            if (exists) {\n              console.log('Product already exists in context, skipping duplicate:', data.product.id)\n              return prev\n            }\n            console.log('Adding new product to context:', data.product.id)\n            return [...prev, data.product]\n          })\n          break\n        case 'update':\n          setProducts(prev => prev.map(p => p.id === data.product.id ? data.product : p))\n          break\n        case 'delete':\n          console.log('Deleting product from context:', data.product.id)\n          setProducts(prev => {\n            const filtered = prev.filter(p => p.id !== data.product.id)\n            console.log('Products after deletion:', filtered.length)\n            return filtered\n          })\n          break\n        default:\n          // Reload all products for unknown actions\n          loadProducts()\n      }\n    })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    products,\n    loading,\n    error,\n    loadProducts,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n    getProductsBySupplier,\n    getProductsByCategory,\n    searchProducts,\n    decreaseStock,\n    increaseStock,\n    getAvailableStock\n  }\n\n  return (\n    <ProductContext.Provider value={value}>\n      {children}\n    </ProductContext.Provider>\n  )\n}\n\nexport default ProductContext\n","size_bytes":8138},"src/contexts/StatsContext.jsx":{"content":"import React, { createContext, useContext, useState, useEffect } from 'react'\n\nconst StatsContext = createContext()\n\nexport const useStats = () => {\n  const context = useContext(StatsContext)\n  if (!context) {\n    throw new Error('useStats must be used within a StatsProvider')\n  }\n  return context\n}\n\nexport const StatsProvider = ({ children }) => {\n  const [stats, setStats] = useState({\n    verifiedSuppliers: 0,\n    activeVendors: 0,\n    citiesCovered: 0,\n    averageRating: 0\n  })\n\n  // Load stats from localStorage on component mount\n  useEffect(() => {\n    const savedStats = localStorage.getItem('vendorMitraStats')\n    if (savedStats) {\n      setStats(JSON.parse(savedStats))\n    }\n  }, [])\n\n  // Save stats to localStorage whenever they change\n  useEffect(() => {\n    localStorage.setItem('vendorMitraStats', JSON.stringify(stats))\n  }, [stats])\n\n  const updateStats = (newStats) => {\n    setStats(prevStats => ({\n      ...prevStats,\n      ...newStats\n    }))\n  }\n\n  const addSupplier = () => {\n    setStats(prevStats => ({\n      ...prevStats,\n      verifiedSuppliers: prevStats.verifiedSuppliers + 1\n    }))\n  }\n\n  const addVendor = () => {\n    setStats(prevStats => ({\n      ...prevStats,\n      activeVendors: prevStats.activeVendors + 1\n    }))\n  }\n\n  const addCity = () => {\n    setStats(prevStats => ({\n      ...prevStats,\n      citiesCovered: prevStats.citiesCovered + 1\n    }))\n  }\n\n  const addRating = (rating) => {\n    setStats(prevStats => {\n      // Calculate new average rating\n      const totalRatings = prevStats.averageRating * (prevStats.verifiedSuppliers || 1) + rating\n      const newAverageRating = totalRatings / (prevStats.verifiedSuppliers + 1)\n      \n      return {\n        ...prevStats,\n        averageRating: parseFloat(newAverageRating.toFixed(1))\n      }\n    })\n  }\n\n  const resetStats = () => {\n    setStats({\n      verifiedSuppliers: 0,\n      activeVendors: 0,\n      citiesCovered: 0,\n      averageRating: 0\n    })\n  }\n\n  const value = {\n    stats,\n    updateStats,\n    addSupplier,\n    addVendor,\n    addCity,\n    addRating,\n    resetStats\n  }\n\n  return (\n    <StatsContext.Provider value={value}>\n      {children}\n    </StatsContext.Provider>\n  )\n} ","size_bytes":2190},"src/data/suppliersDatabase.js":{"content":"// Real supplier accounts with login credentials\nexport const supplierAccounts = [\n  {\n    id: 'supplier_1',\n    name: 'Sakshi Organic Farms',\n    email: 'sakshi07@gmail.com',\n    password: 'sakshi123',\n    phone: '+91 98765 43210',\n    businessName: 'Sakshi Fresh Vegetables',\n    location: 'Sector 17, Chandigarh',\n    coordinates: [30.7889, 76.8195],\n    specialization: 'Organic Vegetables',\n    fssaiLicense: 'FSSAI-12345678901',\n    established: '2019',\n    rating: 4.8,\n    totalOrders: 1250,\n    products: []\n  },\n  {\n    id: 'supplier_2',\n    name: 'Ravi Kumar Dairy',\n    email: 'ravi.kumar@gmail.com',\n    password: 'ravi123',\n    phone: '+91 98765 43211',\n    businessName: 'Kumar Dairy Products',\n    location: 'Sector 22, Chandigarh',\n    coordinates: [30.7989, 76.8295],\n    specialization: 'Dairy Products',\n    fssaiLicense: 'FSSAI-12345678902',\n    established: '2017',\n    rating: 4.6,\n    totalOrders: 980,\n    products: []\n  },\n  {\n    id: 'supplier_3',\n    name: 'Priya Singh Fruits',\n    email: 'priya.singh@gmail.com',\n    password: 'priya123',\n    phone: '+91 98765 43212',\n    businessName: 'Singh Fresh Fruits',\n    location: 'Sector 35, Chandigarh',\n    coordinates: [30.8249, 76.8555],\n    specialization: 'Fresh Fruits',\n    fssaiLicense: 'FSSAI-12345678903',\n    established: '2020',\n    rating: 4.7,\n    totalOrders: 750,\n    products: []\n  },\n  {\n    id: 'supplier_4',\n    name: 'Amit Patel Grains',\n    email: 'amit.patel@gmail.com',\n    password: 'amit123',\n    phone: '+91 98765 43213',\n    businessName: 'Patel Grain Store',\n    location: 'Industrial Area, Chandigarh',\n    coordinates: [30.7509, 76.7815],\n    specialization: 'Grains & Pulses',\n    fssaiLicense: 'FSSAI-12345678904',\n    established: '2015',\n    rating: 4.5,\n    totalOrders: 1500,\n    products: []\n  },\n  {\n    id: 'supplier_5',\n    name: 'Sunita Sharma Spices',\n    email: 'sunita.sharma@gmail.com',\n    password: 'sunita123',\n    phone: '+91 98765 43214',\n    businessName: 'Sharma Spice House',\n    location: 'Sector 43, Chandigarh',\n    coordinates: [30.8409, 76.8715],\n    specialization: 'Spices & Herbs',\n    fssaiLicense: 'FSSAI-12345678905',\n    established: '2018',\n    rating: 4.9,\n    totalOrders: 650,\n    products: []\n  },\n  {\n    id: 'supplier_6',\n    name: 'Deepak Joshi Poultry',\n    email: 'deepak.joshi@gmail.com',\n    password: 'deepak123',\n    phone: '+91 98765 43215',\n    businessName: 'Joshi Poultry Farm',\n    location: 'Mohali, Punjab',\n    coordinates: [30.7789, 76.8095],\n    specialization: 'Poultry & Eggs',\n    fssaiLicense: 'FSSAI-12345678906',\n    established: '2016',\n    rating: 4.4,\n    totalOrders: 890,\n    products: []\n  },\n  {\n    id: 'supplier_7',\n    name: 'Meena Gupta Bakery',\n    email: 'meena.gupta@gmail.com',\n    password: 'meena123',\n    phone: '+91 98765 43216',\n    businessName: 'Gupta Fresh Bakery',\n    location: 'Sector 26, Chandigarh',\n    coordinates: [30.8069, 76.8375],\n    specialization: 'Bakery Items',\n    fssaiLicense: 'FSSAI-12345678907',\n    established: '2021',\n    rating: 4.3,\n    totalOrders: 420,\n    products: []\n  }\n]\n\n// Get all products from all suppliers for marketplace display\nexport const getAllSupplierProducts = () => {\n  try {\n    // Import productDatabase here to avoid circular dependencies\n    const { productDatabase } = require('./userDatabase')\n    \n    // Get products from the dynamic productDatabase (supplier-added products)\n    const dynamicProducts = productDatabase.getAllProducts()\n    console.log('Dynamic products from productDatabase:', dynamicProducts)\n    \n    // Get products from static supplier accounts (if any remain)\n    const staticProducts = []\n    supplierAccounts.forEach(supplier => {\n      supplier.products.forEach(product => {\n        staticProducts.push({\n          ...product,\n          supplierId: supplier.id,\n          supplierName: supplier.businessName,\n          supplierLocation: supplier.location,\n          supplierRating: supplier.rating,\n          supplierPhone: supplier.phone,\n          fssaiVerified: true,\n          organic: supplier.specialization.toLowerCase().includes('organic'),\n          deliveryTime: '2-4 hours',\n          minimumOrder: 100\n        })\n      })\n    })\n    \n    // Combine both sources, prioritizing dynamic products\n    const allProducts = [...dynamicProducts, ...staticProducts]\n    console.log('All products combined:', allProducts)\n    return allProducts\n  } catch (error) {\n    console.error('Error in getAllSupplierProducts:', error)\n    return []\n  }\n}\n\n// Get supplier by email for login\nexport const getSupplierByEmail = (email) => {\n  return supplierAccounts.find(supplier => supplier.email === email)\n}\n\n// Get supplier by ID\nexport const getSupplierById = (id) => {\n  return supplierAccounts.find(supplier => supplier.id === id)\n}\n\nexport const generateNearbySuppliers = (userLat, userLng, radius) => {\n  const suppliers = []\n  \n  // Return empty array if radius is 0\n  if (radius === 0) {\n    return suppliers\n  }\n  \n  // Import productDatabase to get real supplier products\n  let realProducts = []\n  try {\n    const { productDatabase } = require('./userDatabase')\n    realProducts = productDatabase.getAllProducts()\n  } catch (error) {\n    console.warn('Could not load real products:', error)\n  }\n  \n  // Progressive supplier distribution based on radius - start showing from 7km\n  const getMaxSuppliersForRadius = (radius) => {\n    if (radius < 7) return 0  // No suppliers until 7km\n    if (radius === 7) return 1\n    if (radius === 8) return 2\n    if (radius === 9) return 3\n    if (radius === 10) return 5\n    if (radius <= 12) return 8\n    if (radius <= 15) return 12\n    if (radius <= 18) return 16\n    if (radius <= 20) return 20\n    if (radius <= 22) return 24\n    if (radius <= 25) return 30\n    return 30 // 25km max\n  }\n  \n  // Helper function to get product emojis\n  const getProductEmoji = (productName) => {\n    const emojiMap = {\n      'Tomatoes': 'ðŸ…', 'Onions': 'ðŸ§…', 'Potatoes': 'ðŸ¥”', 'Carrots': 'ðŸ¥•',\n      'Spinach': 'ðŸ¥¬', 'Kale': 'ðŸ¥¬', 'Lettuce': 'ðŸ¥¬', 'Cabbage': 'ðŸ¥¬',\n      'Apples': 'ðŸŽ', 'Bananas': 'ðŸŒ', 'Oranges': 'ðŸŠ', 'Grapes': 'ðŸ‡',\n      'Milk': 'ðŸ¥›', 'Yogurt': 'ðŸ¥›', 'Cheese': 'ðŸ§€', 'Butter': 'ðŸ§ˆ',\n      'Rice': 'ðŸš', 'Wheat': 'ðŸŒ¾', 'Pulses': 'ðŸ«˜', 'Flour': 'ðŸŒ¾',\n      'Chicken': 'ðŸ—', 'Fish': 'ðŸŸ', 'Eggs': 'ðŸ¥š', 'Meat': 'ðŸ¥©',\n      'Honey': 'ðŸ¯', 'Jams': 'ðŸ¯', 'Pickles': 'ðŸ¥’', 'Sauces': 'ðŸ¥«',\n      'Ginger': 'ðŸ«˜', 'Garlic': 'ðŸ§„', 'Coriander': 'ðŸŒ¿', 'Mint': 'ðŸŒ±',\n      'Nuts': 'ðŸ¥œ', 'Dry Fruits': 'ðŸ‡', 'Seeds': 'ðŸŒ±', 'Oils': 'ðŸ«—',\n      'Bread': 'ðŸž', 'Cakes': 'ðŸ°', 'Cookies': 'ðŸª', 'Pastries': 'ðŸ¥'\n    }\n    return emojiMap[productName] || 'ðŸ¥¬' // Default to leafy green if not found\n  }\n  \n  // Expanded supplier names with more variety\n  const supplierNames = [\n    'Fresh Farms', 'Green Valley', 'Organic Harvest', 'Farm Direct', 'Local Produce Co.',\n    'Nature Fresh', 'Eco Farms', 'Pure Greens', 'Healthy Harvest', 'Garden Fresh',\n    'Farm to Table', 'Green Earth', 'Organic Plus', 'Fresh Choice', 'Natural Farms',\n    'Veggie Paradise', 'Harvest Hub', 'Fresh Market', 'Organic Oasis', 'Green Grocer',\n    'Farm Fresh', 'Village Veggies', 'Organic Corner', 'Fresh & Pure', 'Green Market',\n    'Harvest Time', 'Organic World', 'Fresh Daily', 'Green Paradise', 'Farm Market',\n    'Veggie Valley', 'Organic Express', 'Fresh Hub', 'Green Corner', 'Harvest Fresh',\n    'Organic Market', 'Fresh Paradise', 'Green Harvest', 'Farm Oasis', 'Veggie Hub'\n  ]\n  \n  // More diverse product categories - ACTUAL INDIAN VENDOR PRODUCTS (no tea/coffee)\n  const productCategories = [\n    ['Tomatoes', 'Onions', 'Potatoes', 'Carrots'],\n    ['Spinach', 'Kale', 'Lettuce', 'Cabbage'],\n    ['Apples', 'Bananas', 'Oranges', 'Grapes'],\n    ['Milk', 'Yogurt', 'Cheese', 'Butter'],\n    ['Rice', 'Wheat', 'Pulses', 'Flour'],\n    ['Chicken', 'Fish', 'Eggs', 'Meat'],\n    ['Honey', 'Jams', 'Pickles', 'Sauces'],\n    ['Ginger', 'Garlic', 'Coriander', 'Mint'],\n    ['Nuts', 'Dry Fruits', 'Seeds', 'Oils'],\n    ['Bread', 'Cakes', 'Cookies', 'Pastries']\n  ]\n  \n  // First, add real suppliers with their actual products from productDatabase\n  const realSupplierProducts = {}\n  realProducts.forEach(product => {\n    if (!realSupplierProducts[product.supplierId]) {\n      realSupplierProducts[product.supplierId] = []\n    }\n    realSupplierProducts[product.supplierId].push({\n      name: product.name,\n      price: `â‚¹${product.price}/${product.unit || 'kg'}`,\n      image: product.image || getProductEmoji(product.name)\n    })\n  })\n  \n  // Add real suppliers with their actual products\n  supplierAccounts.forEach(supplier => {\n    const distance = calculateDistance(userLat, userLng, supplier.coordinates[0], supplier.coordinates[1])\n    if (distance <= radius) {\n      const supplierProducts = realSupplierProducts[supplier.id] || []\n      \n      suppliers.push({\n        id: supplier.id,\n        name: supplier.businessName,\n        coordinates: supplier.coordinates,\n        distance: distance,\n        rating: supplier.rating,\n        price: supplierProducts.length > 0 ? supplierProducts[0].price : 'â‚¹50/kg',\n        products: supplierProducts.length > 0 ? supplierProducts : [\n          { name: 'Fresh Produce', price: 'â‚¹50/kg', image: getProductEmoji('Fresh Produce') }\n        ],\n        organic: supplier.specialization.toLowerCase().includes('organic'),\n        fssaiVerified: true,\n        trustScore: Math.floor(supplier.rating * 20),\n        location: supplier.location,\n        address: `${supplier.businessName}, ${supplier.location}`,\n        lastActive: 'Just now',\n        deliveryTime: '2-4 hours',\n        minimumOrder: 'â‚¹200',\n        paymentMethods: ['Cash', 'UPI', 'Card'],\n        specialOffers: ['Direct from supplier'],\n        supplierType: 'Verified Supplier'\n      })\n    }\n  })\n  \n  // Generate additional demo suppliers dynamically around the user's location\n  // Real Chandigarh area names and approximate coordinates for better location matching\n  const chandigarhAreas = [\n    { name: 'Sector 1, Chandigarh', lat: 30.7569, lng: 76.7875 },\n    { name: 'Sector 2, Chandigarh', lat: 30.7589, lng: 76.7895 },\n    { name: 'Sector 3, Chandigarh', lat: 30.7609, lng: 76.7915 },\n    { name: 'Sector 4, Chandigarh', lat: 30.7629, lng: 76.7935 },\n    { name: 'Sector 5, Chandigarh', lat: 30.7649, lng: 76.7955 },\n    { name: 'Sector 6, Chandigarh', lat: 30.7669, lng: 76.7975 },\n    { name: 'Sector 7, Chandigarh', lat: 30.7689, lng: 76.7995 },\n    { name: 'Sector 8, Chandigarh', lat: 30.7709, lng: 76.8015 },\n    { name: 'Sector 9, Chandigarh', lat: 30.7729, lng: 76.8035 },\n    { name: 'Sector 10, Chandigarh', lat: 30.7749, lng: 76.8055 },\n    { name: 'Sector 11, Chandigarh', lat: 30.7769, lng: 76.8075 },\n    { name: 'Sector 12, Chandigarh', lat: 30.7789, lng: 76.8095 },\n    { name: 'Sector 13, Chandigarh', lat: 30.7809, lng: 76.8115 },\n    { name: 'Sector 14, Chandigarh', lat: 30.7829, lng: 76.8135 },\n    { name: 'Sector 15, Chandigarh', lat: 30.7849, lng: 76.8155 },\n    { name: 'Sector 16, Chandigarh', lat: 30.7869, lng: 76.8175 },\n    { name: 'Sector 17, Chandigarh', lat: 30.7889, lng: 76.8195 },\n    { name: 'Sector 18, Chandigarh', lat: 30.7909, lng: 76.8215 },\n    { name: 'Sector 19, Chandigarh', lat: 30.7929, lng: 76.8235 },\n    { name: 'Sector 20, Chandigarh', lat: 30.7949, lng: 76.8255 },\n    { name: 'Sector 21, Chandigarh', lat: 30.7969, lng: 76.8275 },\n    { name: 'Sector 22, Chandigarh', lat: 30.7989, lng: 76.8295 },\n    { name: 'Sector 23, Chandigarh', lat: 30.8009, lng: 76.8315 },\n    { name: 'Sector 24, Chandigarh', lat: 30.8029, lng: 76.8335 },\n    { name: 'Sector 25, Chandigarh', lat: 30.8049, lng: 76.8355 },\n    { name: 'Sector 26, Chandigarh', lat: 30.8069, lng: 76.8375 },\n    { name: 'Sector 27, Chandigarh', lat: 30.8089, lng: 76.8395 },\n    { name: 'Sector 28, Chandigarh', lat: 30.8109, lng: 76.8415 },\n    { name: 'Sector 29, Chandigarh', lat: 30.8129, lng: 76.8435 },\n    { name: 'Sector 30, Chandigarh', lat: 30.8149, lng: 76.8455 },\n    { name: 'Sector 31, Chandigarh', lat: 30.8169, lng: 76.8475 },\n    { name: 'Sector 32, Chandigarh', lat: 30.8189, lng: 76.8495 },\n    { name: 'Sector 33, Chandigarh', lat: 30.8209, lng: 76.8515 },\n    { name: 'Sector 34, Chandigarh', lat: 30.8229, lng: 76.8535 },\n    { name: 'Sector 35, Chandigarh', lat: 30.8249, lng: 76.8555 },\n    { name: 'Sector 36, Chandigarh', lat: 30.8269, lng: 76.8575 },\n    { name: 'Sector 37, Chandigarh', lat: 30.8289, lng: 76.8595 },\n    { name: 'Sector 38, Chandigarh', lat: 30.8309, lng: 76.8615 },\n    { name: 'Sector 39, Chandigarh', lat: 30.8329, lng: 76.8635 },\n    { name: 'Sector 40, Chandigarh', lat: 30.8349, lng: 76.8655 },\n    { name: 'Sector 41, Chandigarh', lat: 30.8369, lng: 76.8675 },\n    { name: 'Sector 42, Chandigarh', lat: 30.8389, lng: 76.8695 },\n    { name: 'Sector 43, Chandigarh', lat: 30.8409, lng: 76.8715 },\n    { name: 'Sector 44, Chandigarh', lat: 30.8429, lng: 76.8735 },\n    { name: 'Sector 45, Chandigarh', lat: 30.8449, lng: 76.8755 },\n    { name: 'Sector 46, Chandigarh', lat: 30.8469, lng: 76.8775 },\n    { name: 'Sector 47, Chandigarh', lat: 30.8489, lng: 76.8795 },\n    { name: 'Industrial Area, Chandigarh', lat: 30.7509, lng: 76.7815 },\n    { name: 'Industrial Area Phase 1, Chandigarh', lat: 30.7529, lng: 76.7835 },\n    { name: 'Industrial Area Phase 2, Chandigarh', lat: 30.7549, lng: 76.7855 },\n    { name: 'Manimajra, Chandigarh', lat: 30.7569, lng: 76.7875 },\n    { name: 'Burail, Chandigarh', lat: 30.7589, lng: 76.7895 },\n    { name: 'Maloya, Chandigarh', lat: 30.7609, lng: 76.7915 },\n    { name: 'Dhanas, Chandigarh', lat: 30.7629, lng: 76.7935 },\n    { name: 'Kajheri, Chandigarh', lat: 30.7649, lng: 76.7955 },\n    { name: 'Palsora, Chandigarh', lat: 30.7669, lng: 76.7975 },\n    { name: 'Hallomajra, Chandigarh', lat: 30.7689, lng: 76.7995 },\n    { name: 'Raipur Khurd, Chandigarh', lat: 30.7709, lng: 76.8015 },\n    { name: 'Raipur Kalan, Chandigarh', lat: 30.7729, lng: 76.8035 },\n    { name: 'Kaimbwala, Chandigarh', lat: 30.7749, lng: 76.8055 },\n    { name: 'Kharar, Punjab', lat: 30.7769, lng: 76.8075 },\n    { name: 'Mohali, Punjab', lat: 30.7789, lng: 76.8095 },\n    { name: 'Panchkula, Haryana', lat: 30.7809, lng: 76.8115 },\n    { name: 'Zirakpur, Punjab', lat: 30.7829, lng: 76.8135 },\n    { name: 'Dera Bassi, Punjab', lat: 30.7849, lng: 76.8155 },\n    { name: 'Banur, Punjab', lat: 30.7869, lng: 76.8175 },\n    { name: 'Kurali, Punjab', lat: 30.7889, lng: 76.8195 },\n    { name: 'Morinda, Punjab', lat: 30.7909, lng: 76.8215 },\n    { name: 'Pinjore, Haryana', lat: 30.7929, lng: 76.8235 },\n    { name: 'Barwala, Haryana', lat: 30.7949, lng: 76.8255 }\n  ]\n  \n  // Create all potential suppliers first, then filter by distance and limit by radius\n  const allPotentialSuppliers = []\n  \n  // Generate demo suppliers with varying distances (50 total for progressive loading)\n  for (let i = 0; i < 50; i++) {\n    // Use real Chandigarh area coordinates with varying distances\n    const area = chandigarhAreas[i % chandigarhAreas.length]\n    \n    // Create suppliers starting from 7km distance range\n    let distanceMultiplier\n    if (i < 5) {\n      // Start at 7km distance (first suppliers)\n      distanceMultiplier = 0.063  // ~7km\n    } else if (i < 15) {\n      // 7-10km suppliers\n      distanceMultiplier = 0.090  // ~10km\n    } else if (i < 25) {\n      // 10-15km suppliers\n      distanceMultiplier = 0.135  // ~15km\n    } else if (i < 35) {\n      // 15-20km suppliers\n      distanceMultiplier = 0.180  // ~20km\n    } else {\n      // 20-25km suppliers\n      distanceMultiplier = 0.225  // ~25km\n    }\n    \n    // Calculate coordinates to place suppliers at specific distances from user\n    const angle = Math.random() * 2 * Math.PI\n    const targetDistance = 7 + (i / 50) * 18 // Distribute from 7km to 25km\n    \n    // Convert distance to lat/lng offset (approximate)\n    const latOffset = (targetDistance / 111) * Math.cos(angle) // 1 degree lat â‰ˆ 111km\n    const lngOffset = (targetDistance / (111 * Math.cos(userLat * Math.PI / 180))) * Math.sin(angle)\n    \n    const randomLat = userLat + latOffset + (Math.random() - 0.5) * 0.01 // Small random variation\n    const randomLng = userLng + lngOffset + (Math.random() - 0.5) * 0.01\n    \n    const distance = calculateDistance(userLat, userLng, randomLat, randomLng)\n    \n    // Add all suppliers to potential list regardless of radius\n    {\n      // Select random product category\n      const productCategory = productCategories[i % productCategories.length]\n      \n      // Convert product strings to objects with proper format\n      const formattedProducts = productCategory.map(productName => ({\n        name: productName,\n        price: `â‚¹${Math.floor(Math.random() * 50 + 20)}/kg`,\n        image: getProductEmoji(productName)\n      }))\n      \n      // Generate more realistic pricing\n      const basePrice = Math.floor(Math.random() * 100 + 20)\n      const priceUnit = ['kg', 'dozen', 'pack', 'bundle', 'piece'][Math.floor(Math.random() * 5)]\n      \n      // Generate more realistic ratings\n      const rating = (Math.random() * 2 + 3).toFixed(1)\n      \n      // Generate more realistic trust scores\n      const trustScore = Math.floor(Math.random() * 30 + 65)\n      \n      // Generate more realistic last active times\n      const lastActiveOptions = [\n        'Just now', '5 minutes ago', '15 minutes ago', '30 minutes ago', \n        '1 hour ago', '2 hours ago', '3 hours ago', '4 hours ago', \n        '6 hours ago', '8 hours ago', '12 hours ago', '1 day ago'\n      ]\n      const lastActive = lastActiveOptions[Math.floor(Math.random() * lastActiveOptions.length)]\n      \n      // Use real Chandigarh area names\n      const locationName = area.name\n      \n      // Generate more realistic addresses\n      const streetNames = [\n        'Main Road', 'Station Road', 'Market Street', 'Gandhi Road', 'Nehru Marg',\n        'Church Street', 'Temple Road', 'School Lane', 'Hospital Road', 'Park Street',\n        'Railway Road', 'Bus Stand Road', 'Police Station Road', 'Post Office Road',\n        'Bank Street', 'College Road', 'University Road', 'Airport Road', 'Harbor Road'\n      ]\n      const streetName = streetNames[Math.floor(Math.random() * streetNames.length)]\n      const buildingNumber = Math.floor(Math.random() * 999 + 1)\n      \n      allPotentialSuppliers.push({\n        id: `demo_${i + 1}`,\n        name: `${supplierNames[i]} (Demo Supplier)`,\n        coordinates: [randomLat, randomLng],\n        distance: distance,\n        rating: rating,\n        price: `â‚¹${basePrice}/${priceUnit}`,\n        products: formattedProducts,\n        organic: Math.random() > 0.4, // 60% chance of being organic\n        fssaiVerified: Math.random() > 0.2, // 80% chance of being FSSAI verified\n        trustScore: trustScore,\n        location: locationName,\n        address: `${buildingNumber}, ${streetName}, ${locationName} - ${Math.floor(distance * 1000)}m from your location`,\n        lastActive: lastActive,\n        // Additional demo fields\n        deliveryTime: `${Math.floor(Math.random() * 3 + 1)}-${Math.floor(Math.random() * 2 + 4)} hours`,\n        minimumOrder: `â‚¹${Math.floor(Math.random() * 200 + 100)}`,\n        paymentMethods: ['Cash', 'UPI', 'Card'][Math.floor(Math.random() * 3)],\n        specialOffers: Math.random() > 0.6 ? ['10% off on first order', 'Free delivery above â‚¹500'][Math.floor(Math.random() * 2)] : [],\n        supplierType: ['Individual Farmer', 'Cooperative', 'Wholesaler', 'Retailer'][Math.floor(Math.random() * 4)]\n      })\n    }\n  }\n  \n  // Filter suppliers by radius and sort by distance\n  const filteredSuppliers = allPotentialSuppliers\n    .filter(supplier => supplier.distance <= radius)\n    .sort((a, b) => a.distance - b.distance)\n  \n  // Limit number of suppliers based on radius for progressive loading\n  const maxSuppliers = getMaxSuppliersForRadius(radius)\n  const limitedSuppliers = filteredSuppliers.slice(0, maxSuppliers)\n  \n  // Add limited suppliers to final list\n  suppliers.push(...limitedSuppliers)\n  \n  return suppliers\n}\n\nexport const calculateDistance = (lat1, lng1, lat2, lng2) => {\n  const R = 6371 // Earth's radius in km\n  const dLat = (lat2 - lat1) * Math.PI / 180\n  const dLng = (lng2 - lng1) * Math.PI / 180\n  const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng/2) * Math.sin(dLng/2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))\n  return R * c\n}\n\nexport const getRegionFromCoordinates = (lat, lng) => {\n  return 'default'\n} ","size_bytes":20620},"src/data/userDatabase.js":{"content":"// User Database with predefined credentials\nexport const users = [\n  {\n    id: 1,\n    name: 'Manya',\n    email: 'manya@gmail.com',\n    phone: '1234567890',\n    password: 'manya123',\n    userType: 'vendor',\n    type: 'vendor',\n    trustScore: 85,\n    fssaiVerified: true,\n    location: 'Mumbai'\n  },\n  {\n    id: 2,\n    name: 'Sakshi',\n    email: 'sakshi07@gmail.com',\n    phone: '0987654321',\n    password: 'sakshi123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 92,\n    fssaiVerified: true,\n    location: 'Navi Mumbai'\n  }\n]\n\n// Add more fake suppliers\nusers.push(\n  {\n    id: 3,\n    name: 'Ravi Kumar',\n    email: 'ravi.kumar@gmail.com',\n    phone: '9876543210',\n    password: 'ravi123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 80,\n    fssaiVerified: true,\n    location: 'Delhi'\n  },\n  {\n    id: 4,\n    name: 'Priya Singh',\n    email: 'priya.singh@gmail.com',\n    phone: '9123456780',\n    password: 'priya123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 88,\n    fssaiVerified: true,\n    location: 'Bangalore'\n  },\n  {\n    id: 5,\n    name: 'Amit Patel',\n    email: 'amit.patel@gmail.com',\n    phone: '9988776655',\n    password: 'amit123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 75,\n    fssaiVerified: false,\n    location: 'Ahmedabad'\n  }\n)\n\n// Add new suppliers\nusers.push(\n  {\n    id: 6,\n    name: 'Sunita Sharma',\n    email: 'sunita.sharma@gmail.com',\n    phone: '9001112233',\n    password: 'sunita123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 90,\n    fssaiVerified: true,\n    location: 'Pune'\n  },\n  {\n    id: 7,\n    name: 'Deepak Joshi',\n    email: 'deepak.joshi@gmail.com',\n    phone: '9002223344',\n    password: 'deepak123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 82,\n    fssaiVerified: false,\n    location: 'Chennai'\n  },\n  {\n    id: 8,\n    name: 'Meena Gupta',\n    email: 'meena.gupta@gmail.com',\n    phone: '9003334455',\n    password: 'meena123',\n    userType: 'supplier',\n    type: 'supplier',\n    trustScore: 87,\n    fssaiVerified: true,\n    location: 'Hyderabad'\n  }\n)\n\n// Reviews Database\nexport const reviewsDatabase = {\n  reviews: [],\n\n  // Reviews CRUD operations\n  addReview: (review) => {\n    const newReview = {\n      id: Date.now(),\n      ...review,\n      date: new Date().toISOString().split('T')[0],\n      status: 'published'\n    }\n    reviewsDatabase.reviews.push(newReview)\n    \n    // Save to localStorage\n    localStorage.setItem('vendorMitraReviews', JSON.stringify(reviewsDatabase.reviews))\n    \n    // Emit real-time sync event\n    realTimeSync.emitReviewUpdate('add', newReview)\n    \n    return newReview\n  },\n\n  updateReview: (id, updates) => {\n    const index = reviewsDatabase.reviews.findIndex(r => r.id === id)\n    if (index !== -1) {\n      reviewsDatabase.reviews[index] = { ...reviewsDatabase.reviews[index], ...updates }\n      \n      // Save to localStorage\n      localStorage.setItem('vendorMitraReviews', JSON.stringify(reviewsDatabase.reviews))\n      \n      // Emit real-time sync event\n      realTimeSync.emitReviewUpdate('update', reviewsDatabase.reviews[index])\n      \n      return reviewsDatabase.reviews[index]\n    }\n    return null\n  },\n\n  deleteReview: (id) => {\n    const index = reviewsDatabase.reviews.findIndex(r => r.id === id)\n    if (index !== -1) {\n      reviewsDatabase.reviews.splice(index, 1)\n      \n      // Save to localStorage\n      localStorage.setItem('vendorMitraReviews', JSON.stringify(reviewsDatabase.reviews))\n      \n      return true\n    }\n    return false\n  },\n\n  getReviewsBySupplier: (supplierId) => {\n    return reviewsDatabase.reviews.filter(r => Number(r.supplierId) === Number(supplierId))\n  },\n\n  getReviewsByProduct: (productId) => {\n    return reviewsDatabase.reviews.filter(r => r.productId === productId)\n  },\n\n  getAllReviews: () => {\n    return reviewsDatabase.reviews\n  },\n\n  // Load reviews from localStorage on initialization\n  initialize: () => {\n    const savedReviews = localStorage.getItem('vendorMitraReviews')\n    if (savedReviews) {\n      reviewsDatabase.reviews = JSON.parse(savedReviews)\n    }\n  }\n}\n\n// Flash Sales Database\nexport const flashSalesDatabase = {\n  flashSales: [],\n\n  // Flash Sales CRUD operations\n  addFlashSale: (flashSale) => {\n    const newFlashSale = {\n      id: Date.now(),\n      ...flashSale,\n      sold: 0,\n      remainingStock: flashSale.total || flashSale.totalQuantity || 0,\n      status: 'active',\n      endTime: flashSale.endTime || new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(), // Default 2 hours\n      createdAt: new Date().toISOString().split('T')[0]\n    }\n    flashSalesDatabase.flashSales.push(newFlashSale)\n    \n    // Save to localStorage\n    localStorage.setItem('vendorMitraFlashSales', JSON.stringify(flashSalesDatabase.flashSales))\n    \n    // Emit real-time sync event\n    realTimeSync.emitFlashSaleUpdate('create', newFlashSale)\n    \n    return newFlashSale\n  },\n\n  updateFlashSale: (id, updates) => {\n    const index = flashSalesDatabase.flashSales.findIndex(f => f.id === id)\n    if (index !== -1) {\n      flashSalesDatabase.flashSales[index] = { ...flashSalesDatabase.flashSales[index], ...updates }\n      \n      // Save to localStorage\n      localStorage.setItem('vendorMitraFlashSales', JSON.stringify(flashSalesDatabase.flashSales))\n      \n      // Emit real-time sync event\n      realTimeSync.emitFlashSaleUpdate('update', flashSalesDatabase.flashSales[index])\n      \n      return flashSalesDatabase.flashSales[index]\n    }\n    return null\n  },\n\n  deleteFlashSale: (id) => {\n    const index = flashSalesDatabase.flashSales.findIndex(f => f.id === id)\n    if (index !== -1) {\n      flashSalesDatabase.flashSales.splice(index, 1)\n      \n      // Save to localStorage\n      localStorage.setItem('vendorMitraFlashSales', JSON.stringify(flashSalesDatabase.flashSales))\n      \n      return true\n    }\n    return false\n  },\n\n  getFlashSalesBySupplier: (supplierId) => {\n    return flashSalesDatabase.flashSales.filter(f => f.supplierId === supplierId)\n  },\n\n  getAllFlashSales: () => {\n    return flashSalesDatabase.flashSales.filter(f => f.status === 'active')\n  },\n\n  getFlashSaleById: (id) => {\n    return flashSalesDatabase.flashSales.find(f => f.id === id)\n  },\n  \n  // Flash sale inventory management\n  decreaseFlashSaleStock: (id, quantity) => {\n    const index = flashSalesDatabase.flashSales.findIndex(f => f.id === id)\n    if (index !== -1) {\n      const sale = flashSalesDatabase.flashSales[index]\n      const currentRemaining = sale.remainingStock || (sale.total - sale.sold)\n      \n      if (currentRemaining < quantity) {\n        console.error(`Insufficient flash sale stock. Available: ${currentRemaining}, Requested: ${quantity}`)\n        return null\n      }\n      \n      const newSold = sale.sold + quantity\n      const newRemaining = sale.total - newSold\n      \n      flashSalesDatabase.flashSales[index] = {\n        ...sale,\n        sold: newSold,\n        remainingStock: newRemaining\n      }\n      \n      // Save to localStorage\n      localStorage.setItem('vendorMitraFlashSales', JSON.stringify(flashSalesDatabase.flashSales))\n      \n      // Emit real-time sync event\n      realTimeSync.emitFlashSaleUpdate('stock_update', flashSalesDatabase.flashSales[index])\n      \n      return flashSalesDatabase.flashSales[index]\n    }\n    return null\n  },\n\n  // Load flash sales from localStorage on initialization\n  initialize: () => {\n    try {\n      const saved = localStorage.getItem('vendorMitraFlashSales')\n      if (saved) {\n        flashSalesDatabase.flashSales = JSON.parse(saved)\n        \n        // Clean up expired flash sales\n        const now = new Date()\n        flashSalesDatabase.flashSales = flashSalesDatabase.flashSales.filter(sale => {\n          const endTime = new Date(sale.endTime)\n          return endTime > now && sale.status === 'active'\n        })\n        \n        // Save cleaned up data\n        localStorage.setItem('vendorMitraFlashSales', JSON.stringify(flashSalesDatabase.flashSales))\n      } else {\n        flashSalesDatabase.flashSales = []\n      }\n    } catch (error) {\n      console.error('Error initializing flash sales:', error)\n      flashSalesDatabase.flashSales = []\n    }\n  }\n}\n\nexport const productDatabase = {\n  products: [],\n  nextId: 1,\n\n  // Product CRUD operations\n  addProduct(productData) {\n    const newProduct = {\n      id: this.nextId++,\n      ...productData,\n      createdAt: new Date().toISOString()\n    }\n    this.products.push(newProduct)\n    this.saveToStorage()\n    \n    // Emit real-time sync event\n    realTimeSync.emitProductUpdate('add', newProduct)\n    \n    return newProduct\n  },\n\n  updateProduct(id, updates) {\n    const index = this.products.findIndex(p => p.id === id)\n    if (index !== -1) {\n      this.products[index] = { ...this.products[index], ...updates }\n      this.saveToStorage()\n      \n      // Emit real-time sync event\n      realTimeSync.emitProductUpdate('update', this.products[index])\n      \n      return this.products[index]\n    }\n    return null\n  },\n\n  deleteProduct(id) {\n    const index = this.products.findIndex(p => p.id === id)\n    if (index !== -1) {\n      const deletedProduct = this.products[index]\n      this.products.splice(index, 1)\n      this.saveToStorage()\n      \n      // Emit real-time sync event\n      realTimeSync.emitProductUpdate('delete', deletedProduct)\n      \n      return true\n    }\n    return false\n  },\n\n  saveToStorage() {\n    localStorage.setItem('vendorMitraProducts', JSON.stringify(this.products))\n  },\n\n  getProductById(id) {\n    return this.products.find(p => p.id === id)\n  },\n\n  getProductsBySupplier(supplierId) {\n    return this.products.filter(p => p.supplierId === supplierId)\n  },\n\n  getProductsByCategory(category) {\n    return this.products.filter(p => p.category === category)\n  },\n\n  getAllProducts() {\n    return this.products\n  },\n\n  // Enhanced inventory management methods\n  decreaseStock(productId, quantity) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      console.error(`Product with ID ${productId} not found`)\n      return null\n    }\n    \n    const currentStock = product.stock || product.quantity || 0\n    if (currentStock < quantity) {\n      console.error(`Insufficient stock. Available: ${currentStock}, Requested: ${quantity}`)\n      return null\n    }\n    \n    const newStock = Math.max(0, currentStock - quantity)\n    const updatedProduct = this.updateProduct(productId, {\n      stock: newStock,\n      quantity: newStock,\n      lastStockUpdate: new Date().toISOString()\n    })\n    \n    console.log(`Stock decreased for ${product.name}: ${currentStock} -> ${newStock} (${quantity} units purchased)`)\n    return updatedProduct\n  },\n  \n  increaseStock(productId, quantity) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      console.error(`Product with ID ${productId} not found`)\n      return null\n    }\n    \n    const currentStock = product.stock || product.quantity || 0\n    const newStock = currentStock + quantity\n    const updatedProduct = this.updateProduct(productId, {\n      stock: newStock,\n      quantity: newStock,\n      lastStockUpdate: new Date().toISOString()\n    })\n    \n    console.log(`Stock increased for ${product.name}: ${currentStock} -> ${newStock} (${quantity} units added)`)\n    return updatedProduct\n  },\n\n  setStock(productId, newStockValue) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      console.error(`Product with ID ${productId} not found`)\n      return null\n    }\n    \n    const currentStock = product.stock || product.quantity || 0\n    const newStock = Math.max(0, parseInt(newStockValue || 0))\n    const updatedProduct = this.updateProduct(productId, {\n      stock: newStock,\n      quantity: newStock,\n      lastStockUpdate: new Date().toISOString()\n    })\n    \n    console.log(`Stock set for ${product.name}: ${currentStock} -> ${newStock}`)\n    return updatedProduct\n  },\n  \n  getAvailableStock(productId) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      return 0\n    }\n    return parseInt(product.stock || product.quantity || 0)\n  },\n\n  checkStockAvailability(productId, requestedQuantity) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      return {\n        available: false,\n        error: 'Product not found'\n      }\n    }\n    \n    const currentStock = this.getAvailableStock(productId)\n    const requested = parseInt(requestedQuantity || 0)\n    \n    return {\n      available: currentStock >= requested,\n      currentStock,\n      requestedQuantity: requested,\n      shortfall: Math.max(0, requested - currentStock),\n      product: product\n    }\n  },\n\n  getStockStatus(productId) {\n    const product = this.getProductById(productId)\n    if (!product) {\n      return 'unknown'\n    }\n    \n    const stock = this.getAvailableStock(productId)\n    const lowStockThreshold = product.lowStockThreshold || 10\n    \n    if (stock === 0) return 'out_of_stock'\n    if (stock <= lowStockThreshold) return 'low_stock'\n    return 'in_stock'\n  },\n\n  // Batch stock operations\n  batchUpdateStock(updates) {\n    const results = []\n    \n    for (const update of updates) {\n      try {\n        let result = null\n        \n        switch (update.operation) {\n          case 'decrease':\n            result = this.decreaseStock(update.productId, update.quantity)\n            break\n          case 'increase':\n            result = this.increaseStock(update.productId, update.quantity)\n            break\n          case 'set':\n            result = this.setStock(update.productId, update.quantity)\n            break\n          default:\n            console.error(`Unknown operation: ${update.operation}`)\n        }\n        \n        results.push({\n          productId: update.productId,\n          success: result !== null,\n          result: result\n        })\n      } catch (error) {\n        results.push({\n          productId: update.productId,\n          success: false,\n          error: error.message\n        })\n      }\n    }\n    \n    return results\n  },\n  \n  // Load products from localStorage on initialization\n  initialize() {\n    const savedProducts = localStorage.getItem('vendorMitraProducts')\n    if (savedProducts) {\n      this.products = JSON.parse(savedProducts)\n      this.nextId = Math.max(...this.products.map(p => p.id), 0) + 1\n    }\n  }\n}\n\n\n\n\n\n// Product database with proper image mapping\nexport const productImageMap = {\n  // Vegetables\n  'tomatoes': {\n    organic: 'https://images.unsplash.com/photo-1546094096-0df4bcaaa337?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'onions': {\n    organic: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'potatoes': {\n    organic: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'carrots': {\n    organic: 'https://images.unsplash.com/photo-1447175008436-170170e0a121?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'spinach': {\n    organic: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'cabbage': {\n    organic: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'cauliflower': {\n    organic: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'broccoli': {\n    organic: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'cucumber': {\n    organic: 'https://images.unsplash.com/photo-1447175008436-170170e0a121?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  'bell peppers': {\n    organic: 'https://images.unsplash.com/photo-1546094096-0df4bcaaa337?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n  },\n  \n  // Fruits\n  'apples': {\n    organic: 'https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=400&h=300&fit=crop'\n  },\n  'bananas': {\n    organic: 'https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=300&fit=crop'\n  },\n  'oranges': {\n    organic: 'https://images.unsplash.com/photo-1547514701-42782101795e?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1547514701-42782101795e?w=400&h=300&fit=crop'\n  },\n  'mangoes': {\n    organic: 'https://images.unsplash.com/photo-1553279768-865429fa0078?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1553279768-865429fa0078?w=400&h=300&fit=crop'\n  },\n  \n  // Grains\n  'rice': {\n    organic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop'\n  },\n  'wheat': {\n    organic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop'\n  },\n  'pulses': {\n    organic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop'\n  },\n  \n  // Dairy\n  'milk': {\n    organic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop'\n  },\n  'cheese': {\n    organic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop'\n  },\n  'yogurt': {\n    organic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop',\n    nonOrganic: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop'\n  }\n}\n\n// Function to get appropriate product image\nexport const getProductImage = (productName, isOrganic = true) => {\n  const productKey = productName.toLowerCase().trim()\n  const imageType = isOrganic ? 'organic' : 'nonOrganic'\n  \n  // Check if we have a specific image for this product\n  if (productImageMap[productKey]) {\n    return productImageMap[productKey][imageType]\n  }\n  \n  // Check for partial matches\n  for (const [key, images] of Object.entries(productImageMap)) {\n    if (productKey.includes(key) || key.includes(productKey)) {\n      return images[imageType]\n    }\n  }\n  \n  // Default images based on category\n  if (productKey.includes('tomato')) {\n    return productImageMap['tomatoes'][imageType]\n  } else if (productKey.includes('onion')) {\n    return productImageMap['onions'][imageType]\n  } else if (productKey.includes('carrot')) {\n    return productImageMap['carrots'][imageType]\n  } else if (productKey.includes('spinach')) {\n    return productImageMap['spinach'][imageType]\n  } else if (productKey.includes('rice')) {\n    return productImageMap['rice'][imageType]\n  } else if (productKey.includes('milk')) {\n    return productImageMap['milk'][imageType]\n  }\n  \n  // Fallback to a generic image\n  return 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n}\n\n// Shared product database for both vendors and suppliers (legacy - keeping for compatibility)\nexport const sharedProducts = []\n\n// Flash sales data (legacy - keeping for compatibility)\nexport const flashSales = []\n\n// Reviews data\nexport const reviews = []\n\n// Bargain requests\nexport const bargainRequests = []\n\n// Delivery data\nexport const deliveries = []\n\n// Bargains Database\nexport const bargainsDatabase = {\n  bargains: [\n    // Example:\n    // {\n    //   id: 1,\n    //   productId: 1,\n    //   productName: 'Organic Tomatoes',\n    //   supplierId: 2,\n    //   supplierName: 'Sakshi',\n    //   vendorId: 1,\n    //   vendorName: 'Manya',\n    //   messages: [\n    //     { sender: 'vendor', offer: 50, message: 'Can you do 50?', timestamp: '2024-07-27T12:00:00Z' },\n    //     { sender: 'supplier', offer: 80, message: 'Best I can do is 80', timestamp: '2024-07-27T12:01:00Z' }\n    //   ],\n    //   status: 'open'\n    // }\n  ],\n\n  addBargain: (bargain) => {\n    const newBargain = {\n      id: Date.now(),\n      ...bargain,\n      messages: bargain.messages || [],\n      status: 'open'\n    }\n    bargainsDatabase.bargains.push(newBargain)\n    localStorage.setItem('vendorMitraBargains', JSON.stringify(bargainsDatabase.bargains))\n    \n    // Emit real-time sync event\n    realTimeSync.emitBargainUpdate('create', newBargain)\n    \n    return newBargain\n  },\n\n  addMessage: (bargainId, messageObj) => {\n    const bargain = bargainsDatabase.bargains.find(b => b.id === bargainId)\n    if (bargain) {\n      bargain.messages.push({ ...messageObj, timestamp: new Date().toISOString() })\n      localStorage.setItem('vendorMitraBargains', JSON.stringify(bargainsDatabase.bargains))\n      \n      // Emit real-time sync event for message\n      realTimeSync.emitBargainUpdate('message', bargain)\n      return bargain\n    }\n    return null\n  },\n\n  updateBargain: (id, updates) => {\n    const index = bargainsDatabase.bargains.findIndex(b => b.id === id)\n    if (index !== -1) {\n      bargainsDatabase.bargains[index] = { ...bargainsDatabase.bargains[index], ...updates }\n      localStorage.setItem('vendorMitraBargains', JSON.stringify(bargainsDatabase.bargains))\n      return bargainsDatabase.bargains[index]\n    }\n    return null\n  },\n\n  getBargainsBySupplier: (supplierId) => {\n    return bargainsDatabase.bargains.filter(b => b.supplierId === supplierId)\n  },\n\n  getBargainsByVendor: (vendorId) => {\n    return bargainsDatabase.bargains.filter(b => b.vendorId === vendorId)\n  },\n\n  getBargainById: (id) => {\n    return bargainsDatabase.bargains.find(b => b.id === id)\n  },\n\n  getAllBargains: () => {\n    return bargainsDatabase.bargains\n  },\n\n  initialize: () => {\n    const saved = localStorage.getItem('vendorMitraBargains')\n    if (saved) {\n      bargainsDatabase.bargains = JSON.parse(saved)\n    }\n  }\n}\n\n// Collaborative Orders Database\nexport const collabOrdersDatabase = {\n  collabOrders: [],\n\n  addCollabOrder: (order) => {\n    const newOrder = {\n      id: Date.now(),\n      ...order,\n      status: 'open',\n      createdAt: new Date().toISOString(),\n    }\n    collabOrdersDatabase.collabOrders.push(newOrder)\n    localStorage.setItem('vendorMitraCollabOrders', JSON.stringify(collabOrdersDatabase.collabOrders))\n    return newOrder\n  },\n\n  updateCollabOrder: (id, updates) => {\n    const index = collabOrdersDatabase.collabOrders.findIndex(o => o.id === id)\n    if (index !== -1) {\n      collabOrdersDatabase.collabOrders[index] = { ...collabOrdersDatabase.collabOrders[index], ...updates }\n      localStorage.setItem('vendorMitraCollabOrders', JSON.stringify(collabOrdersDatabase.collabOrders))\n      return collabOrdersDatabase.collabOrders[index]\n    }\n    return null\n  },\n\n  deleteCollabOrder: (id) => {\n    const index = collabOrdersDatabase.collabOrders.findIndex(o => o.id === id)\n    if (index !== -1) {\n      collabOrdersDatabase.collabOrders.splice(index, 1)\n      localStorage.setItem('vendorMitraCollabOrders', JSON.stringify(collabOrdersDatabase.collabOrders))\n      return true\n    }\n    return false\n  },\n\n  getCollabOrdersBySupplier: (supplierId) => {\n    return collabOrdersDatabase.collabOrders.filter(o => Number(o.supplierId) === Number(supplierId))\n  },\n\n  getCollabOrdersByVendor: (vendorId) => {\n    return collabOrdersDatabase.collabOrders.filter(o => o.vendors.some(v => Number(v.vendorId) === Number(vendorId)))\n  },\n\n  getAllCollabOrders: () => {\n    return collabOrdersDatabase.collabOrders\n  },\n\n  initialize: () => {\n    const saved = localStorage.getItem('vendorMitraCollabOrders')\n    if (saved) {\n      collabOrdersDatabase.collabOrders = JSON.parse(saved)\n    }\n  }\n}\ncollabOrdersDatabase.initialize()\n\n// Authentication functions\nexport const authenticateUser = (email, password) => {\n  const user = users.find(u => u.email === email && u.password === password)\n  return user || null\n}\n\n// Import supplier accounts for authentication\nimport { supplierAccounts, getSupplierByEmail } from './suppliersDatabase'\nimport realTimeSync from '../utils/realTimeSync'\n\n// Enhanced authentication that checks both users and suppliers\nexport const authenticateUserOrSupplier = (email, password) => {\n  // First check regular users\n  const user = users.find(u => u.email === email && u.password === password)\n  if (user) return user\n\n  // Then check supplier accounts\n  const supplier = getSupplierByEmail(email)\n  if (supplier && supplier.password === password) {\n    return {\n      id: supplier.id,\n      name: supplier.name,\n      email: supplier.email,\n      phone: supplier.phone,\n      userType: 'supplier',\n      type: 'supplier',\n      businessName: supplier.businessName,\n      location: supplier.location,\n      specialization: supplier.specialization,\n      fssaiLicense: supplier.fssaiLicense,\n      rating: supplier.rating,\n      trustScore: Math.floor(supplier.rating * 20), // Convert rating to trust score\n      fssaiVerified: true\n    }\n  }\n\n  return null\n}\n\nexport const registerUser = (userData) => {\n  const newUser = {\n    id: users.length + 1,\n    ...userData,\n    trustScore: Math.floor(Math.random() * 30) + 70,\n    fssaiVerified: Math.random() > 0.5,\n    location: 'Mumbai'\n  }\n  users.push(newUser)\n  return newUser\n}\n\nexport const getUserById = (id) => {\n  return users.find(user => user.id === id)\n}\n\nexport const getUserByEmail = (email) => {\n  return users.find(user => user.email === email)\n}\n\n// Initialize databases when module loads\nreviewsDatabase.initialize()\nflashSalesDatabase.initialize()\nbargainsDatabase.initialize()\nproductDatabase.initialize()\n\nexport const deliveriesDatabase = {\n  deliveries: [],\n\n  addDelivery: (delivery) => {\n    const newDelivery = {\n      id: Date.now(),\n      orderId: 'ORD' + Math.floor(1000 + Math.random() * 9000),\n      ...delivery,\n      status: 'delivered',\n      deliveryDate: new Date().toISOString().split('T')[0] // delivered today\n    }\n    deliveriesDatabase.deliveries.push(newDelivery)\n    localStorage.setItem('vendorMitraDeliveries', JSON.stringify(deliveriesDatabase.deliveries))\n    return newDelivery\n  },\n\n  getDeliveriesBySupplier: (supplierId) => {\n    return deliveriesDatabase.deliveries.filter(d => Number(d.supplierId) === Number(supplierId))\n  },\n\n  getDeliveriesByVendor: (vendorId) => {\n    return deliveriesDatabase.deliveries.filter(d => Number(d.customerId) === Number(vendorId))\n  },\n\n  getAllDeliveries: () => {\n    return deliveriesDatabase.deliveries\n  },\n\n  initialize: () => {\n    const saved = localStorage.getItem('vendorMitraDeliveries')\n    if (saved) {\n      deliveriesDatabase.deliveries = JSON.parse(saved)\n    }\n  }\n}\n\n// Clear all localStorage data to ensure clean slate\nexport const clearAllData = () => {\n  localStorage.removeItem('vendorMitraProducts')\n  localStorage.removeItem('vendorMitraFlashSales')\n  localStorage.removeItem('vendorMitraReviews')\n  localStorage.removeItem('vendorMitraBargains')\n  localStorage.removeItem('vendorMitraCollabOrders')\n  localStorage.removeItem('vendorMitraDeliveries')\n  \n  // Reset all databases to empty arrays\n  productDatabase.products = []\n  flashSalesDatabase.flashSales = []\n  reviewsDatabase.reviews = []\n  bargainsDatabase.bargains = []\n  collabOrdersDatabase.collabOrders = []\n  deliveriesDatabase.deliveries = []\n  \n  console.log('All data cleared successfully')\n}\n\n// Clear only product data\nexport const clearProductData = () => {\n  localStorage.removeItem('vendorMitraProducts')\n  productDatabase.products = []\n  console.log('Product catalog cleared successfully')\n}\n\n// Initialize deliveries database and clear existing orders\ndeliveriesDatabase.deliveries = []\nlocalStorage.removeItem('vendorMitraDeliveries')\ndeliveriesDatabase.initialize()\n\n// Initialize product database to ensure persistence\nproductDatabase.initialize() ","size_bytes":28843},"src/i18n/en.js":{"content":"export default {\n  // Navigation\n  'nav.home': 'Home',\n  'nav.dashboard': 'Dashboard',\n  'nav.suppliers': 'Find Nearby Suppliers',\n  'nav.findItems': 'Find Items',\n  'nav.flashSales': 'Flash Sales',\n  'nav.marketplace': 'Marketplace',\n  'nav.profile': 'Profile',\n  'nav.login': 'Login',\n  'nav.register': 'Register',\n  'nav.logout': 'Logout',\n\n  // Auth\n  'auth.login': 'Login',\n  'auth.register': 'Register',\n  'auth.email': 'Email',\n  'auth.password': 'Password',\n  'auth.confirmPassword': 'Confirm Password',\n  'auth.name': 'Full Name',\n  'auth.phone': 'Phone Number',\n  'auth.userType': 'I am a',\n  'auth.vendor': 'Vendor',\n  'auth.supplier': 'Supplier',\n  'auth.farmer': 'Farmer',\n  'auth.forgotPassword': 'Forgot Password?',\n  'auth.noAccount': \"Don't have an account?\",\n  'auth.hasAccount': 'Already have an account?',\n\n  // Home\n  'home.hero.title': 'Connect with Trusted Food Suppliers',\n  'home.hero.subtitle': 'Find verified suppliers, negotiate prices, and track deliveries in real-time',\n  'home.hero.cta': 'Get Started',\n  'home.features.title': 'Why Choose Vendor Mitra?',\n  'home.features.fssai': 'FSSAI Verified Suppliers',\n  'home.features.trust': 'Trust Score System',\n  'home.features.bargain': 'Smart Bargaining',\n  'home.features.location': 'Real-time Location Tracking',\n\n  // Dashboard\n  'dashboard.welcome': 'Welcome back',\n  'dashboard.quickActions': 'Quick Actions',\n  'dashboard.recentOrders': 'Recent Orders',\n  'dashboard.trustScore': 'Trust Score',\n  'dashboard.fssaiStatus': 'FSSAI Status',\n\n  // Supplier Finder\n  'supplierFinder.title': 'Find Nearby Suppliers',\n  'supplierFinder.search': 'Search suppliers...',\n  'supplierFinder.radius': 'Search Radius (km)',\n  'supplierFinder.filters': 'Filters',\n  'supplierFinder.organic': 'Organic Only',\n  'supplierFinder.verified': 'FSSAI Verified Only',\n  'supplierFinder.minRating': 'Minimum Rating',\n\n  // Flash Sales\n  'flashSales.title': 'Flash Sales',\n  'flashSales.endingSoon': 'Ending Soon',\n  'flashSales.timeLeft': 'Time Left',\n  'flashSales.buyNow': 'Buy Now',\n\n  // Marketplace\n  'marketplace.title': 'Organic Food Marketplace',\n  'marketplace.directFromFarmers': 'Direct from Farmers',\n  'marketplace.addProduct': 'Add Product',\n  'marketplace.price': 'Price',\n  'marketplace.quantity': 'Quantity',\n  'marketplace.contact': 'Contact Supplier',\n\n  // Profile\n  'profile.title': 'Profile',\n  'profile.edit': 'Edit Profile',\n  'profile.save': 'Save Changes',\n  'profile.fssaiLicense': 'FSSAI License Number',\n  'profile.verifyFssai': 'Verify FSSAI License',\n\n  // Common\n  'common.loading': 'Loading...',\n  'common.error': 'An error occurred',\n  'common.success': 'Success!',\n  'common.cancel': 'Cancel',\n  'common.save': 'Save',\n  'common.delete': 'Delete',\n  'common.edit': 'Edit',\n  'common.view': 'View',\n  'common.search': 'Search',\n  'common.filter': 'Filter',\n  'common.clear': 'Clear',\n  'common.rating': 'Rating',\n  'common.reviews': 'Reviews',\n  'common.location': 'Location',\n  'common.phone': 'Phone',\n  'common.email': 'Email',\n  'common.address': 'Address',\n  'common.addToCart': 'Add to Cart',\n  'common.buyNow': 'Buy Now',\n  'common.checkout': 'Checkout',\n  'common.total': 'Total',\n  'common.quantity': 'Quantity',\n  'common.remove': 'Remove',\n  'common.price': 'Price',\n  'common.delivery': 'Delivery',\n  'common.supplier': 'Supplier',\n  'common.organic': 'Organic',\n  'common.fssai': 'FSSAI',\n  'common.bargain': 'Bargain',\n  'common.contact': 'Contact',\n  'common.getLocation': 'Get My Location',\n  'common.writeReview': 'Write Review',\n  'common.submitReview': 'Submit Review',\n  'common.helpful': 'Helpful',\n  'common.notHelpful': 'Not Helpful',\n  'common.recentOrders': 'Recent Orders',\n  'common.profileStats': 'Profile Statistics',\n  'common.quickActions': 'Quick Actions',\n  'common.locationTracker': 'Location Tracker'\n}","size_bytes":3832},"src/i18n/hi.js":{"content":"export default {\n  // Navigation\n  'nav.home': 'à¤¹à¥‹à¤®',\n  'nav.dashboard': 'à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡',\n  'nav.suppliers': 'à¤ªà¤¾à¤¸ à¤•à¥‡ à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾ à¤–à¥‹à¤œà¥‡à¤‚',\n  'nav.findItems': 'à¤†à¤‡à¤Ÿà¤® à¤–à¥‹à¤œà¥‡à¤‚',\n  'nav.flashSales': 'à¤«à¥à¤²à¥ˆà¤¶ à¤¸à¥‡à¤²',\n  'nav.marketplace': 'à¤®à¤¾à¤°à¥à¤•à¥‡à¤Ÿà¤ªà¥à¤²à¥‡à¤¸',\n  'nav.profile': 'à¤ªà¥à¤°à¥‹à¤«à¤¾à¤‡à¤²',\n  'nav.login': 'à¤²à¥‰à¤—à¤¿à¤¨',\n  'nav.register': 'à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°',\n  'nav.logout': 'à¤²à¥‰à¤—à¤†à¤‰à¤Ÿ',\n\n  // Auth\n  'auth.login': 'à¤²à¥‰à¤—à¤¿à¤¨',\n  'auth.register': 'à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°',\n  'auth.email': 'à¤ˆà¤®à¥‡à¤²',\n  'auth.password': 'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡',\n  'auth.confirmPassword': 'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤•à¥€ à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚',\n  'auth.name': 'à¤ªà¥‚à¤°à¤¾ à¤¨à¤¾à¤®',\n  'auth.phone': 'à¤«à¥‹à¤¨ à¤¨à¤‚à¤¬à¤°',\n  'auth.userType': 'à¤®à¥ˆà¤‚ à¤à¤•',\n  'auth.vendor': 'à¤µà¤¿à¤•à¥à¤°à¥‡à¤¤à¤¾',\n  'auth.supplier': 'à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾',\n  'auth.farmer': 'à¤•à¤¿à¤¸à¤¾à¤¨',\n  'auth.forgotPassword': 'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤­à¥‚à¤² à¤—à¤?',\n  'auth.noAccount': 'à¤–à¤¾à¤¤à¤¾ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ?',\n  'auth.hasAccount': 'à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤–à¤¾à¤¤à¤¾ à¤¹à¥ˆ?',\n\n  // Home\n  'home.hero.title': 'à¤µà¤¿à¤¶à¥à¤µà¤¸à¤¨à¥€à¤¯ à¤–à¤¾à¤¦à¥à¤¯ à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾à¤“à¤‚ à¤¸à¥‡ à¤œà¥à¤¡à¤¼à¥‡à¤‚',\n  'home.hero.subtitle': 'à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤ à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾à¤“à¤‚ à¤•à¥‹ à¤–à¥‹à¤œà¥‡à¤‚, à¤®à¥‚à¤²à¥à¤¯ à¤ªà¤° à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤•à¤°à¥‡à¤‚, à¤”à¤° à¤µà¤¾à¤¸à¥à¤¤à¤µà¤¿à¤• à¤¸à¤®à¤¯ à¤®à¥‡à¤‚ à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€ à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚',\n  'home.hero.cta': 'à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚',\n  'home.features.title': 'à¤µà¥‡à¤‚à¤¡à¤° à¤®à¤¿à¤¤à¥à¤°à¤¾ à¤•à¥à¤¯à¥‹à¤‚ à¤šà¥à¤¨à¥‡à¤‚?',\n  'home.features.fssai': 'FSSAI à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤ à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾',\n  'home.features.trust': 'à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸ à¤¸à¥à¤•à¥‹à¤° à¤¸à¤¿à¤¸à¥à¤Ÿà¤®',\n  'home.features.bargain': 'à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤®à¥‹à¤²à¤­à¤¾à¤µ',\n  'home.features.location': 'à¤µà¤¾à¤¸à¥à¤¤à¤µà¤¿à¤• à¤¸à¤®à¤¯ à¤¸à¥à¤¥à¤¾à¤¨ à¤Ÿà¥à¤°à¥ˆà¤•à¤¿à¤‚à¤—',\n\n  // Dashboard\n  'dashboard.welcome': 'à¤µà¤¾à¤ªà¤¸à¥€ à¤ªà¤° à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ',\n  'dashboard.quickActions': 'à¤¤à¥à¤µà¤°à¤¿à¤¤ à¤•à¤¾à¤°à¥à¤¯',\n  'dashboard.recentOrders': 'à¤¹à¤¾à¤² à¤•à¥‡ à¤†à¤¦à¥‡à¤¶',\n  'dashboard.trustScore': 'à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸ à¤¸à¥à¤•à¥‹à¤°',\n  'dashboard.fssaiStatus': 'FSSAI à¤¸à¥à¤¥à¤¿à¤¤à¤¿',\n\n  // Supplier Finder\n  'supplierFinder.title': 'à¤ªà¤¾à¤¸ à¤•à¥‡ à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾ à¤–à¥‹à¤œà¥‡à¤‚',\n  'supplierFinder.search': 'à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾à¤“à¤‚ à¤•à¥‹ à¤–à¥‹à¤œà¥‡à¤‚...',\n  'supplierFinder.radius': 'à¤–à¥‹à¤œ à¤¤à¥à¤°à¤¿à¤œà¥à¤¯à¤¾ (à¤•à¤¿à¤®à¥€)',\n  'supplierFinder.filters': 'à¤«à¤¼à¤¿à¤²à¥à¤Ÿà¤°',\n  'supplierFinder.organic': 'à¤•à¥‡à¤µà¤² à¤œà¥ˆà¤µà¤¿à¤•',\n  'supplierFinder.verified': 'à¤•à¥‡à¤µà¤² FSSAI à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤',\n  'supplierFinder.minRating': 'à¤¨à¥à¤¯à¥‚à¤¨à¤¤à¤® à¤°à¥‡à¤Ÿà¤¿à¤‚à¤—',\n\n  // Flash Sales\n  'flashSales.title': 'à¤«à¥à¤²à¥ˆà¤¶ à¤¸à¥‡à¤²',\n  'flashSales.endingSoon': 'à¤œà¤²à¥à¤¦ à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ',\n  'flashSales.timeLeft': 'à¤¶à¥‡à¤· à¤¸à¤®à¤¯',\n  'flashSales.buyNow': 'à¤…à¤­à¥€ à¤–à¤°à¥€à¤¦à¥‡à¤‚',\n\n  // Marketplace\n  'marketplace.title': 'à¤œà¥ˆà¤µà¤¿à¤• à¤–à¤¾à¤¦à¥à¤¯ à¤®à¤¾à¤°à¥à¤•à¥‡à¤Ÿà¤ªà¥à¤²à¥‡à¤¸',\n  'marketplace.directFromFarmers': 'à¤•à¤¿à¤¸à¤¾à¤¨à¥‹à¤‚ à¤¸à¥‡ à¤¸à¥€à¤§à¥‡',\n  'marketplace.addProduct': 'à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',\n  'marketplace.price': 'à¤•à¥€à¤®à¤¤',\n  'marketplace.quantity': 'à¤®à¤¾à¤¤à¥à¤°à¤¾',\n  'marketplace.contact': 'à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚',\n\n  // Profile\n  'profile.title': 'à¤ªà¥à¤°à¥‹à¤«à¤¾à¤‡à¤²',\n  'profile.edit': 'à¤ªà¥à¤°à¥‹à¤«à¤¾à¤‡à¤² à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚',\n  'profile.save': 'à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤¨ à¤¸à¤¹à¥‡à¤œà¥‡à¤‚',\n  'profile.fssaiLicense': 'FSSAI à¤²à¤¾à¤‡à¤¸à¥‡à¤‚à¤¸ à¤¨à¤‚à¤¬à¤°',\n  'profile.verifyFssai': 'FSSAI à¤²à¤¾à¤‡à¤¸à¥‡à¤‚à¤¸ à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤ à¤•à¤°à¥‡à¤‚',\n\n  // Common\n  'common.loading': 'à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...',\n  'common.error': 'à¤à¤• à¤¤à¥à¤°à¥à¤Ÿà¤¿ à¤¹à¥à¤ˆ',\n  'common.success': 'à¤¸à¤«à¤²!',\n  'common.cancel': 'à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚',\n  'common.save': 'à¤¸à¤¹à¥‡à¤œà¥‡à¤‚',\n  'common.delete': 'à¤¹à¤Ÿà¤¾à¤à¤‚',\n  'common.edit': 'à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚',\n  'common.view': 'à¤¦à¥‡à¤–à¥‡à¤‚',\n  'common.search': 'à¤–à¥‹à¤œà¥‡à¤‚',\n  'common.filter': 'à¤«à¤¼à¤¿à¤²à¥à¤Ÿà¤°',\n  'common.clear': 'à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚',\n  'common.rating': 'à¤°à¥‡à¤Ÿà¤¿à¤‚à¤—',\n  'common.reviews': 'à¤¸à¤®à¥€à¤•à¥à¤·à¤¾à¤à¤‚',\n  'common.location': 'à¤¸à¥à¤¥à¤¾à¤¨',\n  'common.phone': 'à¤«à¥‹à¤¨',\n  'common.email': 'à¤ˆà¤®à¥‡à¤²',\n  'common.address': 'à¤ªà¤¤à¤¾',\n  'common.addToCart': 'à¤•à¤¾à¤°à¥à¤Ÿ à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',\n  'common.buyNow': 'à¤…à¤­à¥€ à¤–à¤°à¥€à¤¦à¥‡à¤‚',\n  'common.checkout': 'à¤šà¥‡à¤•à¤†à¤‰à¤Ÿ',\n  'common.total': 'à¤•à¥à¤²',\n  'common.quantity': 'à¤®à¤¾à¤¤à¥à¤°à¤¾',\n  'common.remove': 'à¤¹à¤Ÿà¤¾à¤à¤‚',\n  'common.price': 'à¤•à¥€à¤®à¤¤',\n  'common.delivery': 'à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€',\n  'common.supplier': 'à¤†à¤ªà¥‚à¤°à¥à¤¤à¤¿à¤•à¤°à¥à¤¤à¤¾',\n  'common.organic': 'à¤œà¥ˆà¤µà¤¿à¤•',\n  'common.fssai': 'FSSAI',\n  'common.bargain': 'à¤®à¥‹à¤²à¤­à¤¾à¤µ',\n  'common.contact': 'à¤¸à¤‚à¤ªà¤°à¥à¤•',\n  'common.getLocation': 'à¤®à¥‡à¤°à¤¾ à¤¸à¥à¤¥à¤¾à¤¨ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚',\n  'common.writeReview': 'à¤¸à¤®à¥€à¤•à¥à¤·à¤¾ à¤²à¤¿à¤–à¥‡à¤‚',\n  'common.submitReview': 'à¤¸à¤®à¥€à¤•à¥à¤·à¤¾ à¤¸à¤¬à¤®à¤¿à¤Ÿ à¤•à¤°à¥‡à¤‚',\n  'common.helpful': 'à¤‰à¤ªà¤¯à¥‹à¤—à¥€',\n  'common.notHelpful': 'à¤‰à¤ªà¤¯à¥‹à¤—à¥€ à¤¨à¤¹à¥€à¤‚',\n  'common.recentOrders': 'à¤¹à¤¾à¤² à¤•à¥‡ à¤†à¤¦à¥‡à¤¶',\n  'common.profileStats': 'à¤ªà¥à¤°à¥‹à¤«à¤¾à¤‡à¤² à¤†à¤‚à¤•à¤¡à¤¼à¥‡',\n  'common.quickActions': 'à¤¤à¥à¤µà¤°à¤¿à¤¤ à¤•à¤¾à¤°à¥à¤¯',\n  'common.locationTracker': 'à¤¸à¥à¤¥à¤¾à¤¨ à¤Ÿà¥à¤°à¥ˆà¤•à¤°'\n} ","size_bytes":6043},"src/pages/Bargains.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { bargainsDatabase } from '../data/userDatabase'\n\nconst Bargains = () => {\n  const { user } = useAuth()\n  const [bargains, setBargains] = useState([])\n  const [selectedBargain, setSelectedBargain] = useState(null)\n  const [bargainMessage, setBargainMessage] = useState('')\n  const [bargainOffer, setBargainOffer] = useState('')\n\n  useEffect(() => {\n    if (user && user.id) {\n      setBargains(bargainsDatabase.getBargainsByVendor(user.id))\n    }\n  }, [user])\n\n  const openBargainChat = (bargain) => {\n    setSelectedBargain(bargain)\n    setBargainMessage('')\n    setBargainOffer('')\n  }\n\n  const sendBargainMessage = () => {\n    if (!bargainOffer) return\n    bargainsDatabase.addMessage(selectedBargain.id, {\n      sender: 'vendor',\n      offer: bargainOffer ? parseFloat(bargainOffer) : undefined,\n      message: `Offer: â‚¹${bargainOffer}`\n    })\n    // Refresh bargain from DB\n    const updated = bargainsDatabase.getBargainById(selectedBargain.id)\n    setSelectedBargain(updated)\n    setBargainOffer('')\n  }\n\n  const confirmBargain = (amount) => {\n    if (!amount) {\n      alert('Please enter an amount first')\n      return\n    }\n    \n    // Update bargain status to accepted\n    bargainsDatabase.updateBargain(selectedBargain.id, { \n      status: 'accepted',\n      finalPrice: parseFloat(amount)\n    })\n    \n    // Add confirmation message\n    bargainsDatabase.addMessage(selectedBargain.id, {\n      sender: 'vendor',\n      offer: parseFloat(amount),\n      message: `Agreement confirmed at â‚¹${amount}`\n    })\n    \n    // Refresh and close\n    const updated = bargainsDatabase.getBargainById(selectedBargain.id)\n    setSelectedBargain(updated)\n    alert(`Bargain confirmed at â‚¹${amount}`)\n    setSelectedBargain(null)\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-8 px-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Your Bargains</h1>\n      {bargains.length === 0 ? (\n        <div className=\"text-gray-400 text-center\">No bargains yet.</div>\n      ) : (\n        <div className=\"space-y-4\">\n          {bargains.map((bargain) => (\n            <div key={bargain.id} className=\"border rounded-lg p-4\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <div>\n                  <h3 className=\"font-medium\">{bargain.supplierName}</h3>\n                  <p className=\"text-sm text-gray-600\">{bargain.productName}</p>\n                </div>\n                <button onClick={() => openBargainChat(bargain)} className=\"btn-primary\">Open Chat</button>\n              </div>\n              <div className=\"text-xs text-gray-500\">Status: {bargain.status}</div>\n            </div>\n          ))}\n        </div>\n      )}\n      {selectedBargain && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Bargain Chat for {selectedBargain.productName}</h3>\n              <button onClick={() => setSelectedBargain(null)} className=\"text-gray-500 hover:text-gray-700\">âœ•</button>\n            </div>\n            <div className=\"mb-4 h-64 overflow-y-auto border rounded p-2 bg-gray-50\">\n              {selectedBargain.messages.length === 0 ? (\n                <div className=\"text-gray-400 text-center\">No messages yet.</div>\n              ) : (\n                selectedBargain.messages.map((msg, idx) => (\n                  <div key={idx} className={`mb-2 ${msg.sender === 'vendor' ? 'text-right' : 'text-left'}`}>\n                    <div className={`inline-block px-3 py-2 rounded-lg ${msg.sender === 'vendor' ? 'bg-blue-100' : 'bg-green-100'}`}>\n                      <div className=\"text-xs text-gray-500 mb-1\">{msg.sender === 'vendor' ? 'You' : selectedBargain.supplierName}</div>\n                      {msg.offer !== undefined && <div className=\"font-bold\">Offer: â‚¹{msg.offer}</div>}\n                      {msg.message && <div>{msg.message}</div>}\n                      <div className=\"text-xs text-gray-400 mt-1\">{new Date(msg.timestamp).toLocaleString()}</div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n            <div className=\"flex gap-2 mt-2\">\n              <input type=\"number\" placeholder=\"Offer (â‚¹)\" value={bargainOffer} onChange={e => setBargainOffer(e.target.value)} className=\"flex-1 border rounded p-2\" />\n              <button onClick={sendBargainMessage} className=\"btn-primary\">Send Offer</button>\n              <button onClick={() => confirmBargain(bargainOffer)} className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\">Confirm</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Bargains ","size_bytes":4964},"src/pages/Cart.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useCart } from '../contexts/CartContext'\nimport { useProducts } from '../contexts/ProductContext'\nimport { ShoppingCart, Trash2, ArrowLeft, CreditCard } from 'lucide-react'\nimport { deliveriesDatabase, flashSalesDatabase, productDatabase } from '../data/userDatabase'\nimport { getAllSupplierProducts } from '../data/suppliersDatabase'\nimport BuyNowDialog from '../components/BuyNow/BuyNowDialog'\nimport stockManager from '../utils/stockManager'\n\nconst Cart = () => {\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const { cart, removeFromCart, updateQuantity, getCartTotal, clearCart } = useCart()\n  const { decreaseStock } = useProducts()\n  const [showCodModal, setShowCodModal] = useState(false)\n  const [showBuyNowDialog, setShowBuyNowDialog] = useState(false)\n  const [availableStock, setAvailableStock] = useState({})\n\n  const handleBuyNow = () => {\n    if (!user) {\n      alert('Please log in to make a purchase')\n      navigate('/login')\n      return\n    }\n    setShowBuyNowDialog(true)\n  }\n\n  const handleConfirmOrder = async (orderData) => {\n    const { deliveryAddress, paymentMethod } = orderData\n    \n    try {\n      // First, check stock availability for all items\n      const stockChecks = []\n      for (const item of cart) {\n        if (!item.isFlashSale) {\n          const stockCheck = await stockManager.checkAvailability(item.id, item.quantity)\n          if (!stockCheck.success || !stockCheck.data.isAvailable) {\n            alert(`Insufficient stock for ${item.name}. Available: ${stockCheck.data?.currentStock || 0}, Requested: ${item.quantity}`)\n            return\n          }\n          stockChecks.push({ item, stockCheck })\n        }\n      }\n\n      // Process stock updates using ProductContext\n      const orderId = `ORD-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n      const stockUpdatePromises = []\n      \n      for (const item of cart) {\n        if (!item.isFlashSale) {\n          stockUpdatePromises.push(\n            decreaseStock(item.id, item.quantity, {\n              vendorId: user?.id,\n              vendorName: user?.name,\n              deliveryAddress: deliveryAddress,\n              paymentMethod: paymentMethod\n            }).then(result => ({\n              item,\n              result\n            }))\n          )\n        }\n      }\n\n      if (stockUpdatePromises.length > 0) {\n        const stockResults = await Promise.all(stockUpdatePromises)\n        const failedItems = stockResults.filter(({ result }) => !result.success)\n        \n        if (failedItems.length > 0) {\n          const failedNames = failedItems.map(({ item }) => item.name).join(', ')\n          alert(`Purchase failed for some items: ${failedNames}`)\n          return\n        }\n\n        console.log('Stock updated successfully for all items')\n      }\n\n      // Group cart items by supplierId\n      const deliveriesBySupplier = {}\n      cart.forEach(item => {\n        if (!deliveriesBySupplier[item.supplierId]) {\n          deliveriesBySupplier[item.supplierId] = {\n            supplier: item.supplier,\n            supplierId: item.supplierId,\n            products: [],\n            totalAmount: 0\n          }\n        }\n        // Remove currency symbol for calculation\n        const priceNum = typeof item.price === 'string' ? parseInt(item.price.replace(/[^\\d]/g, '')) : item.price\n        deliveriesBySupplier[item.supplierId].products.push({\n          id: item.id,\n          name: item.name,\n          quantity: item.quantity,\n          unit: item.unit || 'piece',\n          price: priceNum,\n          image: item.image\n        })\n        deliveriesBySupplier[item.supplierId].totalAmount += priceNum * item.quantity\n      })\n      \n      // Create a delivery for each supplier\n      const deliverySummaries = []\n      Object.values(deliveriesBySupplier).forEach(delivery => {\n        const newDelivery = deliveriesDatabase.addDelivery({\n          customer: user?.name || 'Customer',\n          customerId: user?.id || 1,\n          supplier: delivery.supplier,\n          supplierId: delivery.supplierId,\n          products: delivery.products,\n          totalAmount: delivery.totalAmount,\n          status: 'delivered', // Set to delivered for testing review functionality\n          paymentMethod: paymentMethod,\n          deliveryAddress: deliveryAddress,\n          deliveryDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n        })\n        const productNames = delivery.products.map(p => \n          typeof p === 'string' ? p : `${p.quantity} ${p.unit} ${p.name}`\n        )\n        deliverySummaries.push(`${delivery.supplier}: ${productNames.join(', ')} (â‚¹${delivery.totalAmount})`)\n      })\n\n      // Update sold count for flash sale items\n      cart.forEach(item => {\n        if (item.isFlashSale) {\n          const flashSale = flashSalesDatabase.getFlashSaleById(item.id)\n          if (flashSale) {\n            flashSalesDatabase.updateFlashSale(item.id, {\n              sold: flashSale.sold + item.quantity\n            })\n          }\n        }\n      })\n      \n      alert(`Thank you for your purchase! Total: â‚¹${getCartTotal()}\\n\\nStock has been automatically updated for all items.`)\n      clearCart()\n      \n      // Refresh stock data\n      loadStock()\n      \n    } catch (error) {\n      console.error('Error processing order:', error)\n      alert('Failed to process your order. Please try again.')\n    }\n  }\n\n  // Load available stock for cart items\n  const loadStock = async () => {\n    const stockData = {}\n    \n    for (const item of cart) {\n      if (item.isFlashSale) {\n        // For flash sales, get available stock from flash sales database\n        const flashSale = flashSalesDatabase.getFlashSaleById(item.id)\n        if (flashSale) {\n          stockData[item.id] = flashSale.total - flashSale.sold\n        }\n      } else {\n        // For regular products, use stock manager to get real-time stock\n        try {\n          const stockResult = await stockManager.getStock(item.id)\n          if (stockResult.success) {\n            stockData[item.id] = stockResult.data.stock\n          } else {\n            // Fallback to supplier products if stock manager fails\n            const supplierProducts = getAllSupplierProducts()\n            const product = supplierProducts.find(p => p.id === item.id)\n            if (product) {\n              stockData[item.id] = product.stock || product.quantity || 0\n            }\n          }\n        } catch (error) {\n          console.error('Error loading stock for item:', item.id, error)\n          // Fallback to supplier products\n          const supplierProducts = getAllSupplierProducts()\n          const product = supplierProducts.find(p => p.id === item.id)\n          if (product) {\n            stockData[item.id] = product.stock || product.quantity || 0\n          }\n        }\n      }\n    }\n    \n    setAvailableStock(stockData)\n  }\n\n  useEffect(() => {\n    if (cart.length > 0) {\n      loadStock()\n    }\n  }, [cart])\n\n  const handleQuantityChange = (itemId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(itemId)\n      return\n    }\n\n    const maxStock = availableStock[itemId] || 0\n    if (newQuantity > maxStock) {\n      alert(`Only ${maxStock} items available in stock!`)\n      return\n    }\n\n    updateQuantity(itemId, newQuantity)\n  }\n\n  if (cart.length === 0) {\n    return (\n      <div className=\"max-w-4xl mx-auto py-12 px-4\">\n        <div className=\"text-center\">\n          <ShoppingCart className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-600 mb-2\">Your Cart is Empty</h2>\n          <p className=\"text-gray-500 mb-6\">Add some products from our suppliers to get started!</p>\n          <Link \n            to=\"/supplier-finder\" \n            className=\"btn-primary inline-flex items-center gap-2\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Find Suppliers\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-12 px-4\">\n      {/* Buy Now Dialog */}\n      <BuyNowDialog\n        isOpen={showBuyNowDialog}\n        onClose={() => setShowBuyNowDialog(false)}\n        item={{\n          name: `Cart Items (${cart.length} items)`,\n          supplier: 'Multiple Suppliers',\n          unit: 'items'\n        }}\n        quantity={cart.reduce((total, item) => total + item.quantity, 0)}\n        totalPrice={getCartTotal()}\n        onConfirmOrder={handleConfirmOrder}\n      />\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div className=\"flex items-center gap-3\">\n          <Link to=\"/supplier-finder\" className=\"text-gray-500 hover:text-gray-700\">\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Link>\n          <h1 className=\"text-3xl font-bold text-primary-600\">Shopping Cart</h1>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-sm text-gray-600\">{cart.length} items</span>\n          <button \n            onClick={clearCart}\n            className=\"text-red-500 hover:text-red-700 text-sm flex items-center gap-1\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n            Clear Cart\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Cart Items */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"bg-white rounded-lg shadow-md\">\n            <div className=\"p-6 border-b\">\n              <h2 className=\"text-xl font-semibold\">Cart Items</h2>\n            </div>\n            <div className=\"divide-y\">\n              {cart.map((item, index) => (\n                <div key={index} className=\"p-6 flex items-start gap-4\">\n                  {item.image && (\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      className=\"w-16 h-16 object-cover rounded-lg\"\n                    />\n                  )}\n                  <div className=\"flex-1\">\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <div>\n                        <h3 className=\"font-medium text-gray-900\">{item.name}</h3>\n                        {item.supplier && (\n                          <p className=\"text-sm text-gray-500\">from {item.supplier}</p>\n                        )}\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <span className=\"font-medium text-gray-900\">{item.price}</span>\n                        <span className=\"text-xs text-gray-500\">per {item.unit || 'piece'}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <button \n                          onClick={() => handleQuantityChange(item.id, item.quantity - 1)}\n                          className=\"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors\"\n                        >\n                          -\n                        </button>\n                        <span className=\"w-12 text-center font-medium\">{item.quantity}</span>\n                        <button \n                          onClick={() => handleQuantityChange(item.id, item.quantity + 1)}\n                          className=\"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors\"\n                        >\n                          +\n                        </button>\n                        {availableStock[item.id] !== undefined && (\n                          <span className=\"text-xs text-gray-500 ml-2\">\n                            ({availableStock[item.id]} available)\n                          </span>\n                        )}\n                      </div>\n                      <button \n                        onClick={() => removeFromCart(item.id)}\n                        className=\"text-red-500 hover:text-red-700 text-sm flex items-center gap-1\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                        Remove\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Order Summary */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 sticky top-4\">\n            <h2 className=\"text-xl font-semibold mb-4\">Order Summary</h2>\n            \n            <div className=\"space-y-3 mb-6\">\n              <div className=\"border-t pt-3\">\n                <div className=\"flex justify-between font-semibold text-lg\">\n                  <span>Total ({cart.length} items)</span>\n                  <span>â‚¹{getCartTotal()}</span>\n                </div>\n              </div>\n            </div>\n\n            <button \n              onClick={handleBuyNow}\n              className=\"w-full btn-primary flex items-center justify-center gap-2 py-3 text-lg\"\n            >\n              <CreditCard className=\"w-5 h-5\" />\n              Buy Now\n            </button>\n\n            <div className=\"mt-4 text-center\">\n              <Link \n                to=\"/supplier-finder\" \n                className=\"text-primary-600 hover:text-primary-700 text-sm\"\n              >\n                Continue Shopping\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Cart ","size_bytes":13832},"src/pages/CollaborativeOrders.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { collabOrdersDatabase } from '../data/userDatabase'\n\nconst CollaborativeOrders = () => {\n  const { user } = useAuth()\n  const [collabOrders, setCollabOrders] = useState([])\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [newSupplierId, setNewSupplierId] = useState('')\n  const [newSupplierName, setNewSupplierName] = useState('')\n  const [newItems, setNewItems] = useState('')\n  const [selectedOrder, setSelectedOrder] = useState(null)\n  const [myLocation, setMyLocation] = useState('')\n\n  useEffect(() => {\n    if (user && user.id) {\n      setCollabOrders(collabOrdersDatabase.getCollabOrdersByVendor(user.id))\n    }\n  }, [user])\n\n  const handleCreateOrder = () => {\n    if (!newSupplierId || !newSupplierName || !newItems) return\n    const order = {\n      supplierId: newSupplierId,\n      supplierName: newSupplierName,\n      vendors: [\n        {\n          vendorId: user.id,\n          vendorName: user.name,\n          location: myLocation,\n          items: newItems.split(',').map(i => i.trim())\n        }\n      ],\n      status: 'open',\n    }\n    collabOrdersDatabase.addCollabOrder(order)\n    setCollabOrders(collabOrdersDatabase.getCollabOrdersByVendor(user.id))\n    setShowCreateModal(false)\n    setNewSupplierId('')\n    setNewSupplierName('')\n    setNewItems('')\n    setMyLocation('')\n  }\n\n  const handleJoinOrder = (order) => {\n    setSelectedOrder(order)\n    setMyLocation('')\n    setNewItems('')\n  }\n\n  const handleAddToOrder = () => {\n    if (!selectedOrder || !newItems) return\n    const updatedVendors = [\n      ...selectedOrder.vendors,\n      {\n        vendorId: user.id,\n        vendorName: user.name,\n        location: myLocation,\n        items: newItems.split(',').map(i => i.trim())\n      }\n    ]\n    collabOrdersDatabase.updateCollabOrder(selectedOrder.id, { vendors: updatedVendors })\n    setCollabOrders(collabOrdersDatabase.getCollabOrdersByVendor(user.id))\n    setSelectedOrder(null)\n    setMyLocation('')\n    setNewItems('')\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-8 px-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Collaborative Orders</h1>\n      <button className=\"btn-primary mb-4\" onClick={() => setShowCreateModal(true)}>Create Collaborative Order</button>\n      {collabOrders.length === 0 ? (\n        <div className=\"text-gray-400 text-center\">No collaborative orders yet.</div>\n      ) : (\n        <div className=\"space-y-4\">\n          {collabOrders.map((order) => (\n            <div key={order.id} className=\"border rounded-lg p-4\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <div>\n                  <h3 className=\"font-medium\">Supplier: {order.supplierName}</h3>\n                  <p className=\"text-sm text-gray-600\">Order Status: {order.status}</p>\n                </div>\n                <button onClick={() => handleJoinOrder(order)} className=\"btn-secondary\">Join/Add Items</button>\n              </div>\n              <div className=\"text-xs text-gray-500 mb-2\">Vendors in this order:</div>\n              <ul className=\"ml-4 list-disc text-sm\">\n                {order.vendors.map((v, idx) => (\n                  <li key={idx}><b>{v.vendorName}</b> ({v.location}): {v.items.join(', ')}</li>\n                ))}\n              </ul>\n            </div>\n          ))}\n        </div>\n      )}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h2 className=\"text-lg font-semibold mb-4\">Create Collaborative Order</h2>\n            <input type=\"text\" placeholder=\"Supplier ID\" value={newSupplierId} onChange={e => setNewSupplierId(e.target.value)} className=\"input-field mb-2\" />\n            <input type=\"text\" placeholder=\"Supplier Name\" value={newSupplierName} onChange={e => setNewSupplierName(e.target.value)} className=\"input-field mb-2\" />\n            <input type=\"text\" placeholder=\"Your Location\" value={myLocation} onChange={e => setMyLocation(e.target.value)} className=\"input-field mb-2\" />\n            <input type=\"text\" placeholder=\"Items (comma separated)\" value={newItems} onChange={e => setNewItems(e.target.value)} className=\"input-field mb-2\" />\n            <div className=\"flex gap-2 mt-4\">\n              <button className=\"btn-primary flex-1\" onClick={handleCreateOrder}>Create</button>\n              <button className=\"btn-secondary flex-1\" onClick={() => setShowCreateModal(false)}>Cancel</button>\n            </div>\n          </div>\n        </div>\n      )}\n      {selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h2 className=\"text-lg font-semibold mb-4\">Join Collaborative Order for {selectedOrder.supplierName}</h2>\n            <input type=\"text\" placeholder=\"Your Location\" value={myLocation} onChange={e => setMyLocation(e.target.value)} className=\"input-field mb-2\" />\n            <input type=\"text\" placeholder=\"Items (comma separated)\" value={newItems} onChange={e => setNewItems(e.target.value)} className=\"input-field mb-2\" />\n            <div className=\"flex gap-2 mt-4\">\n              <button className=\"btn-primary flex-1\" onClick={handleAddToOrder}>Add to Order</button>\n              <button className=\"btn-secondary flex-1\" onClick={() => setSelectedOrder(null)}>Cancel</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default CollaborativeOrders ","size_bytes":5679},"src/pages/Dashboard.jsx":{"content":"import React, { useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useNavigate, Link } from 'react-router-dom'\n\nconst Dashboard = () => {\n  const { user } = useAuth()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    // Redirect suppliers to the SupplierDashboard\n    if (user && (user.type === 'supplier' || user.userType === 'supplier')) {\n      navigate('/supplier-dashboard')\n      return\n    }\n    \n    // Redirect vendors to home page (remove welcome page)\n    if (user && (user.type === 'vendor' || user.userType === 'vendor')) {\n      navigate('/')\n      return\n    }\n    \n    // If no user, redirect to login\n    if (!user) {\n      navigate('/login')\n      return\n    }\n  }, [user, navigate])\n\n  // Show loading while redirecting\n  return (\n    <div className=\"max-w-4xl mx-auto py-8 px-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Vendor Dashboard</h1>\n      <div className=\"flex gap-4 mb-8\">\n        <Link to=\"/bargains\" className=\"btn-secondary\">Bargains</Link>\n        <Link to=\"/collaborative-orders\" className=\"btn-secondary\">Collaborative Orders</Link>\n      </div>\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Redirecting...</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dashboard\n","size_bytes":1476},"src/pages/FindItems.jsx":{"content":"import React, { useState, useEffect, useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useCart } from '../contexts/CartContext'\nimport { useProducts } from '../contexts/ProductContext'\nimport { Star, ShoppingCart, MessageSquare, Zap, Clock, Package, Search, Filter } from 'lucide-react'\nimport { reviewsDatabase, bargainsDatabase, deliveriesDatabase, flashSalesDatabase } from '../data/userDatabase'\nimport ReviewSystem from '../components/Rating/ReviewSystem'\nimport Negotiation from '../components/Bargain/Negotiation'\nimport FlashSaleTimer from '../components/FlashSales/FlashSaleTimer'\nimport BuyNowDialog from '../components/BuyNow/BuyNowDialog'\nimport realTimeSync from '../utils/realTimeSync'\nimport { updateProductStockAfterPurchase } from '../utils/purchaseHandler'\n\nconst FindItems = () => {\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const { addToCart } = useCart()\n  const { products, loading: productsLoading, searchProducts, decreaseStock } = useProducts()\n  const [items, setItems] = useState([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState('all')\n  const [stockLevels, setStockLevels] = useState({})\n  const [purchaseQuantities, setPurchaseQuantities] = useState({})\n\n  // Helper functions\n  const getUIStock = (id, fallback) => {\n    const stock = stockLevels[id] ?? fallback ?? 0\n    console.log(`getUIStock for product ${id}: stockLevels[${id}] = ${stockLevels[id]}, fallback = ${fallback}, result = ${stock}`)\n    return stock\n  }\n  const displayUnit = (unit) => unit === 'kg' ? 'kg' : (unit || 'kg')\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [showReviews, setShowReviews] = useState(false)\n  const [showNegotiation, setShowNegotiation] = useState(false)\n  const [showBuyNow, setShowBuyNow] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [bargainModal, setBargainModal] = useState({ open: false, bargain: null, item: null })\n  const [bargainMessage, setBargainMessage] = useState('')\n  const [bargainOffer, setBargainOffer] = useState('')\n  const [filterOrganic, setFilterOrganic] = useState('all')\n  const [filterPriceMin, setFilterPriceMin] = useState('')\n  const [filterPriceMax, setFilterPriceMax] = useState('')\n  const [search, setSearch] = useState('')\n  const [sortBy, setSortBy] = useState('name')\n  const [filterCategory, setFilterCategory] = useState('all')\n  const [filterSupplier, setFilterSupplier] = useState('')\n  const [minRating, setMinRating] = useState(0)\n  const [showFilters, setShowFilters] = useState(false)\n  const [showReviewModal, setShowReviewModal] = useState(false)\n  const [selectedItemForReview, setSelectedItemForReview] = useState(null)\n  const [showBuyNowDialog, setShowBuyNowDialog] = useState(false)\n  const [buyNowItem, setBuyNowItem] = useState(null)\n\n  // Load products from API\n  const loadProducts = () => {\n    try {\n      console.log('Loading products from API in FindItems:', products)\n      \n      if (products && products.length > 0) {\n        // Get current flash sale product IDs to exclude them\n        const flashSaleProducts = flashSalesDatabase.getAllFlashSales()\n        const flashSaleProductNames = new Set(flashSaleProducts.map(fs => fs.product.toLowerCase()))\n        \n        const transformedItems = products\n          .filter(product => !flashSaleProductNames.has(product.name.toLowerCase()))\n          .map(product => ({\n          id: product.id,\n          name: product.name,\n          price: product.price,\n          image: product.image,\n          supplier: product.supplierName,\n          supplierId: product.supplierId,\n          category: product.category ? product.category.toLowerCase() : 'general',\n          description: product.description || `Fresh ${product.name} from ${product.supplierName}`,\n          rating: product.supplierRating || 4.5,\n          reviews: Math.floor(Math.random() * 50) + 10,\n          quantity: product.stock || product.quantity || 0,\n          availableStock: product.stock || product.quantity || 0,\n          unit: product.unit || 'kg',\n          isOrganic: product.isOrganic || product.organic || false,\n          isVerified: product.fssaiVerified || true,\n          location: product.supplierLocation,\n          deliveryTime: product.deliveryTime || '2-4 hours',\n          minimumOrder: product.minimumOrder || 100\n        }))\n        console.log('Transformed items:', transformedItems)\n        setItems(transformedItems)\n        setIsLoading(false)\n        \n        // Initialize stock levels and purchase quantities using real product data\n        const initialStock = {}\n        const initialQuantities = {}\n        transformedItems.forEach(item => {\n          // Use local item data, not getAvailableStock during init\n          const actualStock = parseInt(item.availableStock) || 0\n          initialStock[item.id] = actualStock\n          initialQuantities[item.id] = actualStock > 0 ? 1 : 0\n        })\n        console.log('Initial stock levels:', initialStock)\n        setStockLevels(initialStock)\n        setPurchaseQuantities(initialQuantities)\n      } else {\n        console.log('No products found')\n        setItems([])\n        setIsLoading(false)\n      }\n    } catch (error) {\n      console.error('Error loading products:', error)\n      setItems([])\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadProducts()\n\n    // Subscribe to bargain updates\n    const unsubscribeBargain = realTimeSync.subscribe('bargain_update', (data) => {\n      console.log('Bargain update received in FindItems:', data)\n      // Handle bargain updates if needed\n    })\n\n    // Subscribe to real-time stock updates\n    const unsubscribeStock = realTimeSync.subscribe('stock_update', (data) => {\n      console.log('Stock update received in FindItems:', data)\n      \n      if (data && data.productId) {\n        const newStock = data.newStock ?? data.product?.stock ?? 0\n        console.log('Stock update for product:', data.productId, 'new stock:', newStock)\n        \n        setStockLevels(prev => ({\n          ...prev,\n          [data.productId]: newStock\n        }))\n        \n        // Update items list with new stock\n        setItems(prev => prev.map(item => \n          item.id === data.productId \n            ? { ...item, stock: newStock, quantity: newStock, availableStock: newStock }\n            : item\n        ))\n      }\n    })\n\n    // Subscribe to product updates\n    const unsubscribeProduct = realTimeSync.subscribe('product_update', (data) => {\n      console.log('Product update received in FindItems:', data)\n      \n      if (data && data.action === 'create') {\n        // Handle new product creation - add single product to avoid duplicates\n        const newProduct = data.product\n        console.log('New product created, adding to items list:', newProduct)\n        \n        // Check if product already exists to prevent duplicates\n        setItems(prev => {\n          const exists = prev.some(item => item.id === newProduct.id)\n          if (exists) {\n            console.log('Product already exists, skipping duplicate')\n            return prev\n          }\n          \n          // Transform new product to match items format\n          const transformedProduct = {\n            id: newProduct.id,\n            name: newProduct.name,\n            price: newProduct.price,\n            image: newProduct.image,\n            supplier: newProduct.supplierName,\n            supplierId: newProduct.supplierId,\n            category: newProduct.category ? newProduct.category.toLowerCase() : 'general',\n            description: newProduct.description || `Fresh ${newProduct.name} from ${newProduct.supplierName}`,\n            rating: newProduct.supplierRating || 4.5,\n            reviews: Math.floor(Math.random() * 50) + 10,\n            quantity: newProduct.stock || newProduct.quantity || 0,\n            availableStock: newProduct.stock || newProduct.quantity || 0,\n            unit: newProduct.unit || 'kg',\n            isOrganic: newProduct.isOrganic || newProduct.organic || false,\n            isVerified: newProduct.fssaiVerified || true,\n            location: newProduct.supplierLocation,\n            deliveryTime: newProduct.deliveryTime || '2-4 hours',\n            minimumOrder: newProduct.minimumOrder || 100\n          }\n          \n          return [...prev, transformedProduct]\n        })\n        \n        // Initialize stock and purchase quantity for new product\n        const actualStock = parseInt(newProduct.stock || newProduct.quantity || 0)\n        setStockLevels(prev => ({\n          ...prev,\n          [newProduct.id]: actualStock\n        }))\n        setPurchaseQuantities(prev => ({\n          ...prev,\n          [newProduct.id]: actualStock > 0 ? 1 : 0\n        }))\n      }\n    })\n\n    return () => {\n      unsubscribeBargain()\n      unsubscribeStock()\n      unsubscribeProduct()\n    }\n  }, [])\n\n  const sortedItems = [...items].sort((a, b) => {\n    switch (sortBy) {\n      case 'name':\n        return a.name.localeCompare(b.name)\n      default:\n        return 0\n    }\n  })\n\n  // Get unique categories and suppliers\n  const categories = Array.from(new Set(items.map(i => i.category)))\n  const suppliers = Array.from(new Set(items.map(i => i.supplier)))\n\n  // Apply filters including search\n  const filteredItems = sortedItems.filter(item => {\n    // Search filter\n    if (search && !item.name.toLowerCase().includes(search.toLowerCase()) && \n        !item.supplier.toLowerCase().includes(search.toLowerCase()) &&\n        !item.description.toLowerCase().includes(search.toLowerCase())) return false\n    \n    if (filterOrganic === 'organic' && !item.isOrganic) return false\n    if (filterOrganic === 'inorganic' && item.isOrganic) return false\n    if (filterPriceMin && item.price < parseFloat(filterPriceMin)) return false\n    if (filterPriceMax && item.price > parseFloat(filterPriceMax)) return false\n    if (filterCategory !== 'all' && item.category !== filterCategory) return false\n    if (filterSupplier && item.supplier !== filterSupplier) return false\n    if (minRating > 0 && item.rating < minRating) return false\n    return true\n  })\n  \n  const handleQuantityChange = (itemId, newQuantity) => {\n    const item = items.find(i => i.id === itemId)\n    const availableStock = getUIStock(itemId, item?.availableStock || 0)\n    const quantity = Math.max(1, parseInt(newQuantity) || 1)\n    \n    if (quantity > availableStock) {\n      alert(`Only ${availableStock} units are available`)\n      setPurchaseQuantities(prev => ({\n        ...prev,\n        [itemId]: Math.min(prev[itemId] ?? 1, availableStock)\n      }))\n      return\n    }\n    \n    setPurchaseQuantities(prev => ({\n      ...prev,\n      [itemId]: quantity\n    }))\n  }\n\n  const openBargainModal = (item) => {\n    // Try to find an existing bargain for this vendor/product\n    const vendorId = 1 // Manya (for demo)\n    let bargain = bargainsDatabase.getAllBargains().find(b => b.productId === item.id && b.vendorId === vendorId)\n    if (!bargain) {\n      // Create new bargain\n      bargain = bargainsDatabase.addBargain({\n        productId: item.id,\n        productName: item.name,\n        supplierId: item.supplierId || 2,\n        supplierName: item.supplier,\n        vendorId,\n        vendorName: 'Manya',\n        messages: []\n      })\n    }\n    setBargainModal({ open: true, bargain, item })\n  }\n\n  const sendBargainMessage = () => {\n    if (!bargainOffer && !bargainMessage) return\n    bargainsDatabase.addMessage(bargainModal.bargain.id, {\n      sender: 'vendor',\n      offer: bargainOffer ? parseFloat(bargainOffer) : undefined,\n      message: bargainMessage\n    })\n    // Refresh bargain from DB\n    const updated = bargainsDatabase.getBargainById(bargainModal.bargain.id)\n    setBargainModal({ ...bargainModal, bargain: updated })\n    setBargainMessage('')\n    setBargainOffer('')\n  }\n\n  // Feature 3: Handle confirmed bargain and add to cart\n  const handleBargainConfirmed = ({ product, agreedPrice, originalPrice }) => {\n    if (!user) {\n      alert('Please log in to add items to cart')\n      return\n    }\n\n    const quantity = 1 // Default quantity for bargained items\n    const cartItem = {\n      ...product,\n      price: agreedPrice,\n      originalPrice: originalPrice,\n      quantity: quantity,\n      isBargained: true\n    }\n\n    addToCart(cartItem, quantity)\n    setBargainModal({ open: false, bargain: null, item: null })\n    alert(`Item added to cart at bargained price â‚¹${agreedPrice}!`)\n  }\n\n  const handleAddToCart = (item) => {\n    if (!user) {\n      alert('Please log in to add items to cart')\n      navigate('/login')\n      return\n    }\n\n    const quantity = purchaseQuantities[item.id] || 1\n    const availableStock = getUIStock(item.id, item.availableStock || 0)\n    \n    if (availableStock <= 0) {\n      alert('This item is out of stock!')\n      return\n    }\n\n    if (quantity > availableStock) {\n      alert(`Only ${availableStock} units are available`)\n      return\n    }\n\n    // Additional check to ensure quantity is valid\n    if (quantity <= 0) {\n      alert('Please select a valid quantity')\n      return\n    }\n\n    const cartItem = {\n      id: item.id,\n      name: item.name,\n      price: item.price,\n      image: item.image,\n      supplier: item.supplier,\n      supplierId: item.supplierId,\n      quantity: quantity,\n      unit: item.unit\n    }\n    \n    addToCart(cartItem)\n    \n    // Reset purchase quantity to 1 after adding to cart\n    setPurchaseQuantities(prev => ({\n      ...prev,\n      [item.id]: 1\n    }))\n    \n    alert(`${item.name} (${quantity} ${item.unit}) added to cart!`)\n  }\n\n  const handleBuyNow = (item) => {\n    console.log('handleBuyNow called with item:', item)\n    \n    if (!user) {\n      alert('Please log in to buy items')\n      navigate('/login')\n      return\n    }\n\n    const quantity = purchaseQuantities[item.id] || 1\n    const availableStock = getUIStock(item.id, item.availableStock || 0)\n    \n    console.log(`Buy Now validation - Quantity: ${quantity}, Available: ${availableStock}`)\n    \n    if (availableStock <= 0) {\n      alert('This item is out of stock!')\n      return\n    }\n\n    if (quantity > availableStock) {\n      alert(`Only ${availableStock} units are available`)\n      return\n    }\n\n    if (quantity <= 0) {\n      alert('Please select a valid quantity')\n      return\n    }\n\n    const buyNowData = {\n      ...item,\n      name: item.name,\n      supplier: item.supplier,\n      unit: item.unit,\n      quantity: quantity,\n      totalPrice: item.price * quantity\n    }\n    \n    console.log('Setting buyNowItem:', buyNowData)\n    setBuyNowItem(buyNowData)\n    setShowBuyNowDialog(true)\n    console.log('Buy Now dialog should open now')\n  }\n\n// ...\n  const handleConfirmOrder = async (orderData) => {\n    try {\n      console.log('handleConfirmOrder called with:', orderData)\n      const { item, quantity, totalPrice, deliveryAddress, paymentMethod } = orderData\n      \n      // Use the ProductContext decreaseStock method for proper stock management\n      // Include vendor and delivery information for Feature 1 & 2\n      const stockUpdateResult = await decreaseStock(item.id, quantity, {\n        vendorId: user?.id,\n        vendorName: user?.name,\n        deliveryAddress: deliveryAddress,\n        paymentMethod: paymentMethod\n      })\n      \n      console.log('Stock update result:', stockUpdateResult)\n      \n      if (!stockUpdateResult || !stockUpdateResult.success) {\n        console.error('Stock update failed:', stockUpdateResult)\n        alert(`Failed to update inventory: ${stockUpdateResult?.message || 'Unknown error'}`)\n        return\n      }\n      \n      // Get the updated stock from the API response\n      const newStock = stockUpdateResult.data.stock || stockUpdateResult.data.quantity || 0\n      \n      console.log(`Stock update successful:`)\n      console.log(`  - Product ID: ${item.id}`)\n      console.log(`  - Quantity bought: ${quantity}`)\n      console.log(`  - New stock: ${newStock}`)\n      \n      // Update stock levels immediately\n      setStockLevels(prev => ({\n        ...prev,\n        [item.id]: newStock\n      }))\n\n      // Update items array\n      setItems(prev => prev.map(i => \n        i.id === item.id \n          ? { \n              ...i, \n              availableStock: newStock, \n              quantity: newStock, \n              stock: newStock \n            }\n          : i\n      ))\n\n      // Update purchase quantities based on remaining stock\n      if (newStock > 0) {\n        setPurchaseQuantities(prev => ({\n          ...prev,\n          [item.id]: Math.min(prev[item.id] ?? 1, newStock)\n        }))\n      } else {\n        setPurchaseQuantities(prev => ({\n          ...prev,\n          [item.id]: 1 // Reset to 1 but it will be disabled\n        }))\n      }\n\n      deliveriesDatabase.addDelivery({\n        customer: user?.name || 'Manya',\n        customerId: user?.id || 1,\n        supplier: item.supplier,\n        supplierId: item.supplierId,\n        products: [{\n          id: item.id,\n          name: item.name,\n          quantity: quantity,\n          price: item.price,\n          unit: item.unit,\n          image: item.image\n        }],\n        totalAmount: totalPrice,\n        deliveryAddress: deliveryAddress,\n        paymentMethod: paymentMethod,\n        status: 'delivered', // Set to delivered for testing review functionality\n        orderDate: new Date().toISOString(),\n        estimatedDelivery: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString()\n      })\n\n      alert(`Order placed successfully! Your ${item.name} will be delivered soon.`)\n      setShowBuyNowDialog(false)\n      setBuyNowItem(null)\n      \n    } catch (error) {\n      console.error('Error in handleConfirmOrder:', error)\n      alert('Failed to place order. Please try again.')\n    }\n  }\n\n  const handleReviewSubmit = (review) => {\n    alert('Handler called!');\n    const reviewData = {\n      productId: selectedItemForReview.id,\n      productName: selectedItemForReview.name,\n      supplierId: selectedItemForReview.supplierId,\n      supplierName: selectedItemForReview.supplier,\n      vendorId: 1, // Manya (for demo)\n      vendorName: 'Manya',\n      rating: review.rating,\n      comment: review.comment\n    }\n    console.log('Submitting review:', reviewData)\n    reviewsDatabase.addReview(reviewData)\n    alert('Review submitted successfully!')\n    setSelectedItemForReview(null)\n  }\n\n  const totalItems = filteredItems.length\n\n  return (\n    <div className=\"max-w-none mx-auto py-12 px-4\">\n      <div className=\"flex items-center gap-3 mb-8\">\n        <Package className=\"w-8 h-8 text-blue-600\" />\n        <h1 className=\"text-3xl font-bold text-primary-600\">Find Items</h1>\n      </div>\n\n\n      {/* Search and Filters */}\n      <div className=\"mb-6 space-y-4\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search for items, suppliers, or descriptions...\"\n            value={search}\n            onChange={e => setSearch(e.target.value)}\n            className=\"input-field pl-10\"\n          />\n        </div>\n        \n        <div className=\"flex flex-wrap gap-4 items-center\">\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className=\"btn-secondary flex items-center gap-2\"\n          >\n            <Filter className=\"w-4 h-4\" />\n            Filter\n          </button>\n\n          {/* Quantity of Items beside Filter button */}\n          <div className=\"flex items-center gap-2 bg-white rounded-lg shadow-md px-4 py-2\">\n            <span className=\"text-sm font-medium text-gray-700\">Quantity of Items:</span>\n            <span className=\"text-lg font-bold text-blue-600\">{totalItems}</span>\n          </div>\n        </div>\n      </div>\n\n      {showFilters && (\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Advanced Filters</h3>\n          <div className=\"flex flex-wrap gap-4 mb-4\">\n            <select value={filterOrganic} onChange={e => setFilterOrganic(e.target.value)} className=\"border rounded px-2 py-1\">\n              <option value=\"all\">All Types</option>\n              <option value=\"organic\">Organic</option>\n              <option value=\"inorganic\">Inorganic</option>\n            </select>\n            <input type=\"number\" placeholder=\"Min Price\" value={filterPriceMin} onChange={e => setFilterPriceMin(e.target.value)} className=\"border rounded px-2 py-1 w-24\" />\n            <input type=\"number\" placeholder=\"Max Price\" value={filterPriceMax} onChange={e => setFilterPriceMax(e.target.value)} className=\"border rounded px-2 py-1 w-24\" />\n            <select value={filterCategory} onChange={e => setFilterCategory(e.target.value)} className=\"border rounded px-2 py-1\">\n              <option value=\"all\">All Categories</option>\n              <option value=\"fruits\">Fruits</option>\n              <option value=\"vegetables\">Vegetables</option>\n              <option value=\"oils\">Oils</option>\n              <option value=\"grains\">Grains</option>\n              <option value=\"grams\">Grams</option>\n              <option value=\"flours\">Flours</option>\n              <option value=\"nuts\">Nuts</option>\n            </select>\n            <select value={minRating} onChange={e => setMinRating(Number(e.target.value))} className=\"border rounded px-2 py-1\">\n              <option value={0}>Any Rating</option>\n              <option value={3}>3+ Stars</option>\n              <option value={4}>4+ Stars</option>\n              <option value={4.5}>4.5+ Stars</option>\n            </select>\n          </div>\n        </div>\n      )}\n\n      <div className={`flex flex-col gap-8 ${showNegotiation && selectedItem ? 'lg:flex-row' : ''}`}>\n        {/* Items List */}\n        <div className=\"flex-1\">\n          {filteredItems.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500 text-lg\">No items found matching your search criteria.</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {filteredItems.map(item => {\n                const isOutOfStock = getUIStock(item.id, item.availableStock) <= 0\n                return (\n                <div key={item.id} className={`rounded-lg shadow-md overflow-hidden transition-shadow ${\n                  isOutOfStock \n                    ? 'bg-gray-100 opacity-60' \n                    : 'bg-white hover:shadow-lg'\n                }`}>\n                  <div className={`w-full h-48 flex items-center justify-center overflow-hidden ${\n                    isOutOfStock ? 'bg-gray-200' : 'bg-gray-100'\n                  }`}>\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      className={`w-full h-full object-cover ${\n                        isOutOfStock ? 'grayscale' : ''\n                      }`}\n                      onError={(e) => {\n                        e.target.style.display = 'none'\n                        e.target.nextSibling.style.display = 'flex'\n                      }}\n                    />\n                    <div className={`w-full h-48 flex items-center justify-center text-4xl ${\n                      isOutOfStock ? 'bg-gray-300 text-gray-500' : 'bg-gray-200 text-gray-400'\n                    }`} style={{display: 'none'}}>\n                      ðŸ“¦\n                    </div>\n                  </div>\n                  <div className={`p-4 ${isOutOfStock ? 'text-gray-500' : ''}`}>\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <h3 className={`text-xl font-bold ${isOutOfStock ? 'text-gray-600' : ''}`}>{item.name}</h3>\n                      <div className=\"text-right\">\n                        <div className={`text-2xl font-bold ${isOutOfStock ? 'text-gray-500' : 'text-blue-600'}`}>â‚¹{item.price}/{item.unit}</div>\n                        <div className={`text-sm font-medium ${\n                          getUIStock(item.id, item.availableStock) <= 0 \n                            ? 'text-red-600' \n                            : getUIStock(item.id, item.availableStock) < 10 \n                              ? 'text-orange-600' \n                              : 'text-gray-600'\n                        }`}>\n                          {getUIStock(item.id, item.availableStock) <= 0 \n                            ? 'Out of Stock' \n                            : `${getUIStock(item.id, item.availableStock)} ${displayUnit(item.unit)} available`\n                          }\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className={`text-2xl font-bold ${isOutOfStock ? 'text-gray-500' : 'text-green-600'}`}>â‚¹{item.price}</span>\n                        <span className={`text-xs ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>per {item.unit || 'piece'}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>Stock: {getUIStock(item.id, item.availableStock)} {displayUnit(item.unit)}</span>\n                      </div>\n                    </div>\n\n                    <p className={`mb-4 ${isOutOfStock ? 'text-gray-400' : 'text-gray-600'}`}>{item.description}</p>\n\n                    {/* Out of Stock Notification */}\n                    {isOutOfStock && (\n                      <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                        <p className=\"text-sm text-blue-700 font-medium\">\n                          ðŸ“§ We will notify you when this product is available\n                        </p>\n                      </div>\n                    )}\n\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"flex items-center gap-1\">\n                        <Star className={`w-4 h-4 ${isOutOfStock ? 'text-gray-400' : 'text-yellow-400'}`} />\n                        <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : ''}`}>{item.rating.toFixed(1)}</span>\n                        <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>({item.reviews})</span>\n                      </div>\n                      <div className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>\n                        by {item.supplier}\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-1 mb-4\">\n                      {item.isOrganic && (\n                        <span className={`text-xs px-2 py-1 rounded ${\n                          isOutOfStock \n                            ? 'bg-gray-200 text-gray-500' \n                            : 'bg-green-100 text-green-700'\n                        }`}>\n                          Organic\n                        </span>\n                      )}\n                      {!item.isOrganic && item.isVerified && (\n                        <span className={`text-xs px-2 py-1 rounded ${\n                          isOutOfStock \n                            ? 'bg-gray-200 text-gray-500' \n                            : 'bg-blue-100 text-blue-700'\n                        }`}>\n                          FSSAI Verified\n                        </span>\n                      )}\n                      <span className={`text-xs px-2 py-1 rounded ${\n                        isOutOfStock \n                          ? 'bg-gray-200 text-gray-500' \n                          : 'bg-gray-100 text-gray-700'\n                      }`}>\n                        {item.category}\n                      </span>\n                    </div>\n\n                    {/* Quantity Selector */}\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <label className={`text-sm font-medium ${isOutOfStock ? 'text-gray-400' : 'text-gray-700'}`}>Quantity:</label>\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => handleQuantityChange(item.id, (purchaseQuantities[item.id] || 1) - 1)}\n                          disabled={getUIStock(item.id, item.availableStock) <= 0 || (purchaseQuantities[item.id] || 1) <= 1}\n                          className={`w-8 h-8 rounded border flex items-center justify-center ${\n                            isOutOfStock \n                              ? 'border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed' \n                              : 'border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed'\n                          }`}\n                        >\n                          -\n                        </button>\n                        <input\n                          type=\"number\"\n                          min=\"1\"\n                          max={getUIStock(item.id, item.availableStock)}\n                          value={purchaseQuantities[item.id] || 1}\n                          onChange={(e) => handleQuantityChange(item.id, e.target.value)}\n                          disabled={getUIStock(item.id, item.availableStock) <= 0}\n                          className={`w-16 text-center border rounded px-2 py-1 ${\n                            isOutOfStock \n                              ? 'border-gray-200 bg-gray-100 text-gray-400' \n                              : 'border-gray-300 disabled:bg-gray-100'\n                          }`}\n                        />\n                        <button\n                          onClick={() => handleQuantityChange(item.id, (purchaseQuantities[item.id] || 1) + 1)}\n                          disabled={getUIStock(item.id, item.availableStock) <= 0 || (purchaseQuantities[item.id] || 1) >= getUIStock(item.id, item.availableStock)}\n                          className={`w-8 h-8 rounded border flex items-center justify-center ${\n                            isOutOfStock \n                              ? 'border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed' \n                              : 'border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed'\n                          }`}\n                        >\n                          +\n                        </button>\n                        <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-600'}`}>{displayUnit(item.unit)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                      <button \n                        className={`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg font-medium transition-colors ${\n                          getUIStock(item.id, item.availableStock) <= 0\n                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                            : 'bg-blue-600 hover:bg-blue-700 text-white'\n                        }`}\n                        onClick={() => handleAddToCart(item)}\n                        disabled={getUIStock(item.id, item.availableStock) <= 0}\n                      >\n                        <ShoppingCart className=\"w-4 h-4\" />\n                        {getUIStock(item.id, item.availableStock) <= 0 ? 'Out of Stock' : 'Add to Cart'}\n                      </button>\n                      <button \n                        className={`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${\n                          isOutOfStock \n                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed' \n                            : 'bg-orange-100 text-orange-700 hover:bg-orange-200'\n                        }`}\n                        onClick={() => openBargainModal(item)}\n                        disabled={getUIStock(item.id, item.availableStock) <= 0}\n                      >\n                        <MessageSquare className=\"w-4 h-4\" />\n                        Bargain\n                      </button>\n\n                      <button \n                        className={`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${\n                          isOutOfStock \n                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed' \n                            : 'bg-orange-100 text-orange-700 hover:bg-orange-200'\n                        }`}\n                        onClick={() => setSelectedItemForReview(item)}\n                        disabled={isOutOfStock}\n                      >\n                        <Star className=\"w-4 h-4\" />\n                        Reviews\n                      </button>\n                    </div>\n                    \n                    <button \n                      className={`w-full mt-2 flex items-center justify-center gap-2 py-2 px-4 rounded-lg font-medium transition-colors ${\n                        getUIStock(item.id, item.availableStock) <= 0\n                          ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                          : 'bg-green-600 hover:bg-green-700 text-white'\n                      }`}\n                      onClick={() => {\n                        console.log('Buy Now clicked for item:', item)\n                        handleBuyNow(item)\n                      }}\n                      disabled={getUIStock(item.id, item.availableStock) <= 0}\n                    >\n                      <ShoppingCart className=\"w-4 h-4\" />\n                      {getUIStock(item.id, item.availableStock) <= 0 ? 'Out of Stock' : `Buy Now - â‚¹${item.price * (purchaseQuantities[item.id] || 1)}`}\n                    </button>\n                  </div>\n                </div>\n                )\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* Sidebar - Only show when negotiation is active */}\n        {showNegotiation && selectedItem && (\n          <div className=\"w-80 space-y-6\">\n            {/* Negotiation Panel */}\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">\n                Bargain with {selectedItem.supplier}\n              </h3>\n              <Negotiation \n                initialOffer={selectedItem.price} \n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Review System Modal */}\n      {selectedItemForReview && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Reviews for {selectedItemForReview.name}</h3>\n              <button\n                onClick={() => setSelectedItemForReview(null)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                âœ•\n              </button>\n            </div>\n            <ReviewSystem\n              itemId={selectedItemForReview.id}\n              itemName={selectedItemForReview.name}\n              supplierId={selectedItemForReview.supplierId}\n              supplierName={selectedItemForReview.supplier}\n              onClose={() => setSelectedItemForReview(null)}\n              onSubmit={handleReviewSubmit}\n              readOnly={true}\n            />\n          </div>\n        </div>\n      )}\n\n      {bargainModal.open && (\n       <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Bargain Chat for {bargainModal.item.name}</h3>\n              <button onClick={() => setBargainModal({ open: false, bargain: null, item: null })} className=\"text-gray-500 hover:text-gray-700\">âœ•</button>\n            </div>\n            \n            {/* Feature 3: Use updated Negotiation component with confirm functionality */}\n            <Negotiation \n              initialOffer={bargainModal.item.price}\n              product={bargainModal.item}\n              onBargainConfirmed={handleBargainConfirmed}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Buy Now Dialog */}\n      <BuyNowDialog\n        isOpen={showBuyNowDialog}\n        onClose={() => setShowBuyNowDialog(false)}\n        item={buyNowItem}\n        quantity={buyNowItem?.quantity}\n        totalPrice={buyNowItem?.totalPrice}\n        onConfirmOrder={handleConfirmOrder}\n      />\n    </div>\n  )\n}\n\nexport default FindItems","size_bytes":36935},"src/pages/FindSales.jsx":{"content":"import React, { useState, useEffect, useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useCart } from '../contexts/CartContext'\nimport { Zap, ShoppingCart, Clock } from 'lucide-react'\nimport { flashSalesDatabase } from '../data/userDatabase'\nimport realTimeSync from '../utils/realTimeSync'\nimport FlashSaleTimer from '../components/FlashSales/FlashSaleTimer'\nimport BuyNowDialog from '../components/BuyNow/BuyNowDialog'\nimport QuantitySelector from '../components/Cart/QuantitySelector'\n\nconst FindSales = () => {\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const { addToCart } = useCart()\n  const [flashSales, setFlashSales] = useState([])\n  const [expiredSales, setExpiredSales] = useState(new Set())\n  const [showBuyNowDialog, setShowBuyNowDialog] = useState(false)\n  const [buyNowItem, setBuyNowItem] = useState(null)\n  const [showQuantitySelector, setShowQuantitySelector] = useState(false)\n  const [selectedFlashSale, setSelectedFlashSale] = useState(null)\n\n  const loadFlashSales = useCallback(() => {\n    const sales = flashSalesDatabase.getAllFlashSales()\n    const currentTime = new Date()\n    \n    // Filter out expired sales\n    const validSales = sales.filter(sale => {\n      const endTime = new Date(sale.endTime)\n      return currentTime < endTime\n    })\n    setFlashSales(validSales)\n  }, [])\n\n  // Handle timer expiration\n  const handleTimerExpired = useCallback((saleId) => {\n    setExpiredSales(prev => new Set([...prev, saleId]))\n    // Remove expired sale after a short delay to show \"EXPIRED\" state\n    setTimeout(() => {\n      const expiredSale = flashSales.find(sale => sale.id === saleId)\n      if (expiredSale && expiredSale.total > expiredSale.sold) {\n        // Move remaining stock back to normal product catalog\n        const remainingStock = expiredSale.total - expiredSale.sold\n        // Add back to product database with original price\n        const productData = {\n          name: expiredSale.product,\n          price: expiredSale.oldPrice || expiredSale.price,\n          quantity: remainingStock,\n          unit: 'kg', // Default unit\n          description: `${expiredSale.product} - Flash sale ended`,\n          image: expiredSale.image,\n          isOrganic: false,\n          supplier: expiredSale.supplier,\n          supplierId: expiredSale.supplierId,\n          category: 'general'\n        }\n        // Import productDatabase to add the product back\n        import('../data/userDatabase').then(({ productDatabase }) => {\n          productDatabase.addProduct(productData)\n        })\n      }\n      \n      setFlashSales(prev => prev.filter(sale => sale.id !== saleId))\n      setExpiredSales(prev => {\n        const newSet = new Set(prev)\n        newSet.delete(saleId)\n        return newSet\n      })\n      // Also remove from database\n      flashSalesDatabase.deleteFlashSale(saleId)\n      // Emit real-time sync\n      realTimeSync.emit('flash_sale_update', {\n        action: 'expired_remove',\n        saleId: saleId,\n        remainingStock: expiredSale ? expiredSale.total - expiredSale.sold : 0\n      })\n    }, 2000)\n  }, [flashSales])\n\n  useEffect(() => {\n    loadFlashSales()\n\n    // Subscribe to real-time flash sale updates\n    const unsubscribe = realTimeSync.subscribe('flash_sale_update', (data) => {\n      if (data && data.action) {\n        loadFlashSales()\n      }\n    })\n\n    return unsubscribe\n  }, [loadFlashSales])\n\n  const handleAddToCart = (flashSale) => {\n    if (!user) {\n      alert('Please log in to add items to cart')\n      navigate('/login')\n      return\n    }\n\n    if (flashSale.sold >= flashSale.total) {\n      alert('This flash sale is sold out!')\n      return\n    }\n\n    // Double check remaining stock\n    const remainingStock = flashSale.remainingStock !== undefined ? flashSale.remainingStock : (flashSale.total - flashSale.sold)\n    if (remainingStock <= 0) {\n      alert('This flash sale is sold out!')\n      return\n    }\n\n    setSelectedFlashSale(flashSale)\n    setShowQuantitySelector(true)\n  }\n\n  const handleQuantityConfirm = (quantity) => {\n    const cartItem = {\n      id: selectedFlashSale.id,\n      name: selectedFlashSale.product,\n      price: selectedFlashSale.price,\n      image: selectedFlashSale.image,\n      supplier: selectedFlashSale.supplier,\n      supplierId: selectedFlashSale.supplierId,\n      quantity: quantity,\n      isFlashSale: true,\n      unit: selectedFlashSale.quantityUnit || 'piece'\n    }\n    \n    addToCart(cartItem)\n    \n    // Don't update sold count when adding to cart - only when purchasing\n    realTimeSync.emit('flash_sale_update', {\n      action: 'add_to_cart',\n      flashSale: selectedFlashSale,\n      supplierId: selectedFlashSale.supplierId\n    })\n    \n    alert(`${quantity} ${selectedFlashSale.quantityUnit || 'piece'}${quantity > 1 ? 's' : ''} of ${selectedFlashSale.product} added to cart!`)\n  }\n\n  const handleBuyNow = (flashSale) => {\n    if (!user) {\n      alert('Please log in to make a purchase')\n      navigate('/login')\n      return\n    }\n\n    if (flashSale.sold >= flashSale.total) {\n      alert('This flash sale is sold out!')\n      return\n    }\n\n    // Double check remaining stock\n    const remainingStock = flashSale.remainingStock !== undefined ? flashSale.remainingStock : (flashSale.total - flashSale.sold)\n    if (remainingStock <= 0) {\n      alert('This flash sale is sold out!')\n      return\n    }\n\n    setBuyNowItem({\n      ...flashSale,\n      name: flashSale.product,\n      supplier: flashSale.supplier,\n      unit: flashSale.quantityUnit || 'piece',\n      quantity: 1,\n      totalPrice: flashSale.price\n    })\n    setShowBuyNowDialog(true)\n  }\n\n  const handleConfirmOrder = async (orderData) => {\n    const { item, quantity, totalPrice, deliveryAddress, paymentMethod } = orderData\n    \n    // Use proper flash sale inventory management\n    const updatedSale = flashSalesDatabase.decreaseFlashSaleStock(item.id, quantity)\n    \n    if (!updatedSale) {\n      alert('Failed to update flash sale inventory!')\n      return\n    }\n    \n    // Create delivery record\n    import('../data/userDatabase').then(({ deliveriesDatabase }) => {\n      deliveriesDatabase.addDelivery({\n        customer: user?.name || 'Customer',\n        customerId: user?.id || 1,\n        supplier: item.supplier,\n        supplierId: item.supplierId,\n        products: [`${quantity} piece of ${item.product} (Flash Sale)`],\n        totalAmount: totalPrice,\n        status: 'in-transit',\n        deliveryDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n        deliveryAddress,\n        paymentMethod\n      })\n    })\n\n    realTimeSync.emit('flash_sale_update', {\n      action: 'purchase',\n      flashSale: updatedSale,\n      supplierId: item.supplierId\n    })\n    \n    loadFlashSales()\n    alert(`Order placed successfully! Total: â‚¹${totalPrice}`)\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-12 px-4\">\n      <div className=\"flex items-center gap-3 mb-8\">\n        <Zap className=\"w-8 h-8 text-orange-600\" />\n        <h1 className=\"text-3xl font-bold text-orange-600\">Flash Sales</h1>\n      </div>\n\n      {flashSales.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Zap className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">No Flash Sales Available</h3>\n          <p className=\"text-gray-500\">Check back later for exciting deals!</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {flashSales.map((sale) => {\n            const isExpired = expiredSales.has(sale.id)\n            const remainingStock = sale.remainingStock !== undefined ? sale.remainingStock : (sale.total - sale.sold)\n            const isSoldOut = remainingStock <= 0\n            \n            return (\n              <div \n                key={sale.id} \n                className={`bg-white rounded-lg shadow-md overflow-hidden border transition-all duration-300 ${\n                  isSoldOut || isExpired ? 'opacity-60 bg-gray-100' : 'hover:shadow-lg'\n                }`}\n              >\n                <div className=\"relative\">\n                  <img \n                    src={sale.image} \n                    alt={sale.product} \n                    className=\"w-full h-48 object-cover\"\n                  />\n                  <div className=\"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-bold\">\n                    {sale.discount}% OFF\n                  </div>\n                  {isExpired && (\n                    <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n                      <span className=\"text-white text-2xl font-bold\">EXPIRED</span>\n                    </div>\n                  )}\n                  {isSoldOut && !isExpired && (\n                    <div className=\"absolute inset-0 bg-red-500 bg-opacity-75 flex items-center justify-center\">\n                      <span className=\"text-white text-2xl font-bold\">SOLD OUT</span>\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"p-4\">\n                  <h3 className=\"text-lg font-semibold mb-2\">{sale.product}</h3>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-2xl font-bold text-green-600\">â‚¹{sale.price}</span>\n                      <span className=\"text-sm text-gray-500 line-through\">â‚¹{sale.oldPrice}</span>\n                      <span className=\"text-xs text-gray-500\">per {sale.quantityUnit || 'piece'}</span>\n                    </div>\n                  </div>\n                  \n                  <p className=\"text-sm text-gray-600 mb-2\">by {sale.supplier}</p>\n                  \n                  <div className=\"flex items-center justify-between mb-3\">\n                    <span className=\"text-sm text-gray-600\">\n                      Sold: {sale.sold}/{sale.total} per {sale.quantityUnit || 'piece'}\n                    </span>\n                    <div className=\"flex items-center gap-1 text-red-500\">\n                      <Clock className=\"w-4 h-4\" />\n                      <FlashSaleTimer \n                        endTime={sale.endTime} \n                        onExpired={() => handleTimerExpired(sale.id)}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => handleAddToCart(sale)}\n                      disabled={isSoldOut || isExpired}\n                      className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\n                    >\n                      <ShoppingCart className=\"w-4 h-4\" />\n                      {isSoldOut ? 'Sold Out' : 'Add to Cart'}\n                    </button>\n                    <button\n                      onClick={() => handleBuyNow(sale)}\n                      disabled={isSoldOut || isExpired}\n                      className=\"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n                    >\n                      Buy Now\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      )}\n\n      {showBuyNowDialog && buyNowItem && (\n        <BuyNowDialog\n          isOpen={showBuyNowDialog}\n          onClose={() => {\n            setShowBuyNowDialog(false)\n            setBuyNowItem(null)\n          }}\n          item={buyNowItem}\n        />\n      )}\n\n      {showQuantitySelector && selectedFlashSale && (\n        <QuantitySelector\n          isOpen={showQuantitySelector}\n          onClose={() => {\n            setShowQuantitySelector(false)\n            setSelectedFlashSale(null)\n          }}\n          item={selectedFlashSale}\n          onConfirm={handleQuantityConfirm}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default FindSales\n","size_bytes":12285},"src/pages/FlashSales.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useCart } from '../contexts/CartContext'\nimport { Zap, Clock, TrendingUp, Users, ShoppingCart } from 'lucide-react'\nimport FlashSaleTimer from '../components/FlashSales/FlashSaleTimer'\nimport { flashSalesDatabase } from '../data/userDatabase'\n\nconst FlashSales = () => {\n  const { user } = useAuth()\n  const { cart, addToCart, removeFromCart, updateQuantity, getCartTotal, getCartCount } = useCart()\n  const [showBuyModal, setShowBuyModal] = useState(false)\n  const [selectedSale, setSelectedSale] = useState(null)\n  const [flashSales, setFlashSales] = useState([])\n\n  // Load flash sales from database\n  useEffect(() => {\n    // Set flash sales to empty array for manual addition\n    setFlashSales([])\n  }, [])\n\n  const getDiscountPercentage = (oldPrice, newPrice) => {\n    return Math.round(((oldPrice - newPrice) / oldPrice) * 100)\n  }\n\n  const getProgressPercentage = (sold, total) => {\n    return (sold / total) * 100\n  }\n\n  const handleBuyNow = (sale) => {\n    // Add sale item to cart instead of showing modal\n    const cartItem = {\n      id: sale.id,\n      name: sale.product,\n      price: `â‚¹${sale.price}`,\n      image: sale.image || '',\n      supplier: sale.supplier,\n      quantity: 1\n    }\n    addToCart(cartItem)\n    alert(`${sale.product} added to cart!`)\n  }\n\n  const handleAddToCart = (sale) => {\n    addToCart(sale)\n    alert(`${sale.product} added to cart!`)\n  }\n\n  const confirmPurchase = () => {\n    alert(`Purchase confirmed for ${selectedSale.product}!`)\n    setShowBuyModal(false)\n    setSelectedSale(null)\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-12 px-4\">\n      <div className=\"flex items-center gap-3 mb-8\">\n        <Zap className=\"w-8 h-8 text-yellow-500\" />\n        <h1 className=\"text-3xl font-bold text-primary-600\">Flash Sales</h1>\n      </div>\n\n      {flashSales.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Zap className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n          <p className=\"text-gray-500 text-lg\">No active flash sales at the moment.</p>\n          <p className=\"text-gray-400 text-sm mt-2\">Check back later for exciting deals!</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {flashSales.map(sale => (\n            <div key={sale.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n              <div className=\"relative\">\n                <img \n                  src={sale.image || 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'} \n                  alt={sale.product}\n                  className=\"w-full h-48 object-cover\"\n                  onError={(e) => {\n                    e.target.src = 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n                  }}\n                />\n                <div className=\"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-medium\">\n                  {sale.discount}% OFF\n                </div>\n                <div className=\"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-sm font-medium\">\n                  <FlashSaleTimer endTime={sale.endTime} />\n                </div>\n              </div>\n              \n              <div className=\"p-4\">\n                <h3 className=\"text-lg font-semibold mb-2\">{sale.product}</h3>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <span className=\"text-2xl font-bold text-green-600\">â‚¹{sale.price}</span>\n                  <span className=\"text-gray-500 line-through\">â‚¹{sale.oldPrice}</span>\n                </div>\n                <div className=\"text-sm text-gray-600 mb-4\">\n                  by {sale.supplier}\n                </div>\n\n                {/* Progress Bar */}\n                <div className=\"mb-4\">\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span>Sold: {sale.sold}/{sale.total}</span>\n                    <span>{Math.round(getProgressPercentage(sale.sold, sale.total))}%</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-green-500 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${getProgressPercentage(sale.sold, sale.total)}%` }}\n                    ></div>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <button \n                    className=\"flex-1 btn-primary\"\n                    onClick={() => handleBuyNow(sale)}\n                  >\n                    Add to Cart\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Only for suppliers */}\n      {user && (user.type === 'supplier' || user.userType === 'supplier') && (\n        <div className=\"mt-12 grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n            <TrendingUp className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-green-600\">â‚¹2,450</div>\n            <div className=\"text-gray-600\">Total Savings</div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n            <Zap className=\"w-8 h-8 text-yellow-500 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-yellow-600\">{flashSales.length}</div>\n            <div className=\"text-gray-600\">Active Sales</div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n            <Users className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-blue-600\">1,234</div>\n            <div className=\"text-gray-600\">Participants</div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n            <Clock className=\"w-8 h-8 text-red-600 mx-auto mb-2\" />\n            <div className=\"text-2xl font-bold text-red-600\">45m</div>\n            <div className=\"text-gray-600\">Avg Time Left</div>\n          </div>\n        </div>\n      )}\n\n      {/* Cart Summary */}\n      {cart.length > 0 && (\n        <div className=\"mt-8 bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Cart ({getCartCount()} items)</h3>\n          <div className=\"space-y-2\">\n            {cart.map((item, index) => (\n              <div key={index} className=\"flex justify-between items-center\">\n                <div className=\"flex-1\">\n                  <span>{item.name}</span>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <button \n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                      className=\"text-xs bg-gray-200 hover:bg-gray-300 px-1 rounded\"\n                    >\n                      -\n                    </button>\n                    <span className=\"text-xs\">{item.quantity}</span>\n                    <button \n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                      className=\"text-xs bg-gray-200 hover:bg-gray-300 px-1 rounded\"\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <span className=\"font-medium\">â‚¹{item.price}</span>\n                  <button \n                    onClick={() => removeFromCart(item.id)}\n                    className=\"text-xs text-red-500 hover:text-red-700 ml-2\"\n                  >\n                    Remove\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"border-t pt-2 mt-4\">\n            <div className=\"flex justify-between font-semibold\">\n              <span>Total:</span>\n              <span>â‚¹{getCartTotal()}</span>\n            </div>\n          </div>\n          <button className=\"w-full btn-primary mt-4\">Buy Now</button>\n        </div>\n      )}\n\n      {/* Buy Modal */}\n      {showBuyModal && selectedSale && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Confirm Purchase</h3>\n            <div className=\"mb-4\">\n              <p><strong>Product:</strong> {selectedSale.product}</p>\n              <p><strong>Price:</strong> â‚¹{selectedSale.price}</p>\n              <p><strong>Supplier:</strong> {selectedSale.supplier}</p>\n            </div>\n            <div className=\"flex gap-2\">\n              <button \n                className=\"flex-1 btn-primary\"\n                onClick={confirmPurchase}\n              >\n                Confirm Purchase\n              </button>\n              <button \n                className=\"flex-1 btn-secondary\"\n                onClick={() => setShowBuyModal(false)}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default FlashSales ","size_bytes":9394},"src/pages/Home.jsx":{"content":"import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useStats } from '../contexts/StatsContext'\nimport { \n  Shield, \n  Star, \n  MessageSquare, \n  MapPin, \n  Search, \n  Zap,\n  Store,\n  Truck,\n  Users,\n  Award,\n  CheckCircle,\n  DollarSign,\n  Clock,\n  Leaf,\n  TrendingUp,\n  Globe\n} from 'lucide-react'\n\nconst Home = () => {\n  const { user } = useAuth()\n  const { stats } = useStats()\n\n  const features = [\n    {\n      icon: CheckCircle,\n      title: 'âœ… Verified Suppliers',\n      description: 'All suppliers are FSSAI verified and background checked for quality assurance'\n    },\n    {\n      icon: DollarSign,\n      title: 'ðŸ’° Best Prices',\n      description: 'Competitive pricing with smart bargaining tools to get the best deals'\n    },\n    {\n      icon: Truck,\n      title: 'ðŸšš Quick Delivery',\n      description: 'Fast and reliable delivery with real-time tracking across India'\n    },\n    {\n      icon: Leaf,\n      title: 'ðŸŒ± Organic Options',\n      description: 'Wide selection of certified organic produce directly from farmers'\n    }\n  ]\n\n  const statsData = [\n    { number: stats.verifiedSuppliers, label: 'Verified Suppliers' },\n    { number: stats.activeVendors, label: 'Active Vendors' },\n    { number: stats.citiesCovered, label: 'Cities Covered' },\n    { number: stats.averageRating.toFixed(1), label: 'Average Rating' }\n  ]\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Hero Section */}\n      <section className=\"relative bg-gradient-to-br from-green-600 via-emerald-700 to-teal-800 text-white overflow-hidden\">\n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 opacity-10\">\n          <div className=\"absolute inset-0\" style={{\n            backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`\n          }}></div>\n        </div>\n        \n        {/* Floating Elements */}\n        <div className=\"absolute top-20 left-10 w-20 h-20 bg-yellow-400 rounded-full opacity-20 animate-bounce\" style={{animationDelay: '0s'}}></div>\n        <div className=\"absolute top-40 right-20 w-16 h-16 bg-orange-400 rounded-full opacity-20 animate-bounce\" style={{animationDelay: '1s'}}></div>\n        <div className=\"absolute bottom-20 left-20 w-12 h-12 bg-red-400 rounded-full opacity-20 animate-bounce\" style={{animationDelay: '2s'}}></div>\n        \n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl md:text-6xl font-bold mb-6 leading-tight\">\n              Connect with <span className=\"text-yellow-300\">Trusted</span><br />\n              <span className=\"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent\">\n                Food Suppliers\n              </span>\n            </h1>\n            <p className=\"text-xl md:text-2xl mb-8 text-green-100 max-w-3xl mx-auto\">\n              ðŸ¥¬ Find verified suppliers, negotiate prices, and streamline your food supply chain with fresh, quality produce\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              {user ? (\n                <>\n                  <Link to=\"/find-items\" className=\"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\">\n                    ðŸ›’ Browse Items\n                  </Link>\n                  <Link to=\"/suppliers\" className=\"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\">\n                    ðŸ” Find Suppliers\n                  </Link>\n                </>\n              ) : (\n                <>\n                  <Link to=\"/register\" className=\"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\">\n                    ðŸš€ Get Started\n                  </Link>\n                  <Link to=\"/login\" className=\"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\">\n                    ðŸ‘¤ Login\n                  </Link>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Features Section */}\n      <section className=\"py-20 bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n              Why Choose Vendor Mitra?\n            </h2>\n            <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n              Everything you need to streamline your food supply chain operations\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {features.map((feature, index) => {\n              const Icon = feature.icon\n              const colors = [\n                'from-green-500 to-emerald-600',\n                'from-yellow-500 to-orange-500', \n                'from-blue-500 to-indigo-600',\n                'from-purple-500 to-pink-600'\n              ]\n              return (\n                <div key={index} className=\"text-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100\">\n                  <div className={`w-20 h-20 bg-gradient-to-r ${colors[index]} rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg`}>\n                    <Icon className=\"w-10 h-10 text-white\" />\n                  </div>\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-3\">\n                    {feature.title}\n                  </h3>\n                  <p className=\"text-gray-600 leading-relaxed\">\n                    {feature.description}\n                  </p>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </section>\n\n      {/* Social Proof Section */}\n      <section className=\"py-16 bg-gradient-to-r from-gray-50 to-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n              ðŸ† Trusted by Thousands Across India\n            </h2>\n            <p className=\"text-xl text-gray-600\">\n              Join our growing community of successful food suppliers and vendors\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12\">\n            <div className=\"text-center\">\n              <div className=\"text-4xl md:text-5xl font-bold text-green-600 mb-2\">500+</div>\n              <div className=\"text-gray-600 font-medium\">Active Suppliers</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-4xl md:text-5xl font-bold text-blue-600 mb-2\">1000+</div>\n              <div className=\"text-gray-600 font-medium\">Happy Buyers</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-4xl md:text-5xl font-bold text-purple-600 mb-2\">25+</div>\n              <div className=\"text-gray-600 font-medium\">Cities Covered</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-4xl md:text-5xl font-bold text-orange-600 mb-2\">4.8â­</div>\n              <div className=\"text-gray-600 font-medium\">Average Rating</div>\n            </div>\n          </div>\n\n        </div>\n      </section>\n\n      {/* Platform Benefits Section */}\n      <section className=\"py-20 bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n              Platform Benefits\n            </h2>\n            <p className=\"text-xl text-gray-600\">\n              Discover the advantages of using Vendor Mitra for your supply chain needs\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-xl border border-blue-200\">\n              <div className=\"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <CheckCircle className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Quality Assurance</h3>\n              <p className=\"text-gray-700 text-center\">\n                All suppliers undergo FSSAI verification and quality checks. Only verified, trusted suppliers are allowed on our platform.\n              </p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-xl border border-green-200\">\n              <div className=\"bg-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <TrendingUp className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Real-Time Updates</h3>\n              <p className=\"text-gray-700 text-center\">\n                Live inventory tracking, instant price updates, and real-time stock synchronization between suppliers and vendors.\n              </p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-xl border border-purple-200\">\n              <div className=\"bg-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <MessageSquare className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Smart Negotiation</h3>\n              <p className=\"text-gray-700 text-center\">\n                Built-in bargaining system allows direct communication and price negotiation between vendors and suppliers.\n              </p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-xl border border-orange-200\">\n              <div className=\"bg-orange-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <Clock className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Fast Delivery</h3>\n              <p className=\"text-gray-700 text-center\">\n                Quick delivery within 2-4 hours with real-time tracking. Local suppliers ensure fresh produce reaches you faster.\n              </p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-teal-50 to-teal-100 p-8 rounded-xl border border-teal-200\">\n              <div className=\"bg-teal-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <Globe className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Wide Coverage</h3>\n              <p className=\"text-gray-700 text-center\">\n                Available across 25+ cities in India with expanding network. Find suppliers and vendors in your local area.\n              </p>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-pink-50 to-pink-100 p-8 rounded-xl border border-pink-200\">\n              <div className=\"bg-pink-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <Award className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4 text-center\">Trusted Platform</h3>\n              <p className=\"text-gray-700 text-center\">\n                4.8-star average rating with thousands of successful transactions. Join our community of trusted partners.\n              </p>\n            </div>\n          </div>\n\n        </div>\n      </section>\n\n\n      {/* How It Works Section */}\n      <section className=\"py-20 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n              How Vendor Mitra Works\n            </h2>\n            <p className=\"text-xl text-gray-600\">\n              Simple steps to connect suppliers and vendors seamlessly\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <div className=\"text-center\">\n              <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\n                <Users className=\"w-10 h-10 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">1. Register & Verify</h3>\n              <p className=\"text-gray-600 leading-relaxed\">\n                Suppliers register and get FSSAI verified. Vendors create accounts to access the marketplace with quality assurance.\n              </p>\n            </div>\n\n            <div className=\"text-center\">\n              <div className=\"bg-gradient-to-r from-green-500 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\n                <MessageSquare className=\"w-10 h-10 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">2. Connect & Negotiate</h3>\n              <p className=\"text-gray-600 leading-relaxed\">\n                Vendors find suppliers, browse products, and negotiate prices directly through our smart bargaining system.\n              </p>\n            </div>\n\n            <div className=\"text-center\">\n              <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\n                <Truck className=\"w-10 h-10 text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4\">3. Order & Deliver</h3>\n              <p className=\"text-gray-600 leading-relaxed\">\n                Place orders with real-time stock updates and get fast delivery with tracking across India.\n              </p>\n            </div>\n          </div>\n\n        </div>\n      </section>\n\n      {/* CTA Section */}\n      <section className=\"py-20 bg-primary-600 text-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            Ready to Transform Your Supply Chain?\n          </h2>\n          <p className=\"text-xl text-primary-100 mb-8 max-w-2xl mx-auto\">\n            Join thousands of vendors and suppliers who trust Vendor Mitra for their food supply needs\n          </p>\n          {!user && (\n            <Link to=\"/register\" className=\"btn-secondary text-lg px-8 py-3\">\n              Start Your Journey\n            </Link>\n          )}\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default Home ","size_bytes":15643},"src/pages/Marketplace.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useLanguage } from '../contexts/LanguageContext'\nimport { Store, Phone, MapPin, Star, Calendar, Truck } from 'lucide-react'\nimport Negotiation from '../components/Bargain/Negotiation'\nimport { productDatabase } from '../data/userDatabase'\nimport realTimeSync from '../utils/realTimeSync'\n\nconst Marketplace = () => {\n  const { t } = useLanguage()\n  const [selectedProduct, setSelectedProduct] = useState(null)\n  const [showNegotiation, setShowNegotiation] = useState(false)\n  const [products, setProducts] = useState([])\n\n  // Load products from database with real-time updates\n  useEffect(() => {\n    const loadProducts = () => {\n      const allProducts = productDatabase.getAllProducts()\n      console.log('Loading products in Marketplace:', allProducts)\n      setProducts(allProducts)\n    }\n    \n    // Initial load\n    loadProducts()\n    \n    // Subscribe to real-time product updates\n    const unsubscribe = realTimeSync.subscribe('product_update', (data) => {\n      console.log('Product update received in Marketplace:', data)\n      loadProducts() // Reload all products when any product is updated\n    })\n    \n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-12 px-4\">\n      <div className=\"flex items-center gap-3 mb-8\">\n        <Store className=\"w-8 h-8 text-green-600\" />\n        <h1 className=\"text-3xl font-bold\">{t('marketplace.title')}</h1>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Product List */}\n        <div className=\"lg:col-span-2\">\n          {products.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500 text-lg\">No products available at the moment.</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {products.map(product => (\n                <div key={product.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n                  <img \n                    src={product.image} \n                    alt={product.name}\n                    className=\"w-full h-48 object-cover\"\n                  />\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <h3 className=\"text-xl font-bold\">{product.name}</h3>\n                      <div className=\"text-right\">\n                        <div className=\"text-2xl font-bold text-green-600\">â‚¹{product.price}/kg</div>\n                        <div className=\"text-sm text-gray-600\">{product.quantity} available</div>\n                      </div>\n                    </div>\n\n                    <p className=\"text-gray-600 mb-4\">{product.description}</p>\n\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"w-4 h-4 text-yellow-400\" />\n                        <span className=\"text-sm\">4.8</span>\n                        <span className=\"text-sm text-gray-500\">(25)</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 mb-4 text-sm text-gray-600\">\n                      <Calendar className=\"w-4 h-4\" />\n                      <span>Added: {new Date(product.createdAt).toLocaleDateString()}</span>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-1 mb-4\">\n                      {product.isOrganic && (\n                        <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded\">\n                          Organic\n                        </span>\n                      )}\n                      {product.isVerified && (\n                        <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded\">\n                          FSSAI Verified\n                        </span>\n                      )}\n                      <span className=\"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded\">\n                        {product.category}\n                      </span>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                      <button \n                        className=\"flex-1 btn-primary\"\n                        onClick={() => {\n                          setSelectedProduct(product)\n                          setShowNegotiation(true)\n                        }}\n                      >\n                        Start Negotiation\n                      </button>\n                      <a \n                        href={`tel:${product.supplier === 'Sakshi' ? '0987654321' : '1234567890'}`}\n                        className=\"btn-secondary flex items-center gap-1\"\n                      >\n                        <Phone className=\"w-4 h-4\" />\n                        Call\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Supplier Stats */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Direct from Suppliers</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span>Total Suppliers</span>\n                <span className=\"font-semibold\">{products.length > 0 ? '2+' : '0'}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Organic Products</span>\n                <span className=\"font-semibold\">\n                  {products.length > 0 ? Math.round((products.filter(p => p.isOrganic).length / products.length) * 100) : 0}%\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Avg Rating</span>\n                <span className=\"font-semibold\">4.8â­</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Negotiation Panel */}\n          {showNegotiation && selectedProduct && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">\n                Negotiate with {selectedProduct.supplier}\n              </h3>\n              <Negotiation initialOffer={selectedProduct.price} />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Marketplace ","size_bytes":6583},"src/pages/Organic.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useCart } from '../contexts/CartContext'\nimport { useProducts } from '../contexts/ProductContext'\nimport { Search, Filter, Store, Star, MapPin, MessageSquare } from 'lucide-react'\nimport realTimeSync from '../utils/realTimeSync'\nimport Negotiation from '../components/Bargain/Negotiation'\nimport ReviewSystem from '../components/Rating/ReviewSystem'\nconst Organic = () => {\n  const { addToCart } = useCart()\n  const { products: allProducts, loading: productsLoading } = useProducts()\n  const [search, setSearch] = useState('')\n  const [sortBy, setSortBy] = useState('name')\n  const [showFilters, setShowFilters] = useState(false)\n  const [selectedProduct, setSelectedProduct] = useState(null)\n  const [showNegotiation, setShowNegotiation] = useState(false)\n  const [selectedProductForReview, setSelectedProductForReview] = useState(null)\n  const [showReviews, setShowReviews] = useState(false)\n  const [minPrice, setMinPrice] = useState(0)\n  const [maxPrice, setMaxPrice] = useState(200)\n  const [minRating, setMinRating] = useState(0)\n  const [organicOnly, setOrganicOnly] = useState(false)\n  const [fssaiOnly, setFssaiOnly] = useState(false)\n  const [products, setProducts] = useState([])\n\n  useEffect(() => {\n    const loadOrganicProducts = () => {\n      try {\n        console.log('All products for organic page:', allProducts)\n        if (allProducts && allProducts.length > 0) {\n          const organicProducts = allProducts\n            .filter(product => product.isOrganic === true || product.organic === true)\n            .map(product => ({\n              id: product.id,\n              name: product.name,\n              price: product.price,\n              image: product.image,\n              supplier: product.supplierName,\n              supplierId: product.supplierId,\n              description: product.description || `Fresh organic ${product.name} from ${product.supplierName}`,\n              rating: product.supplierRating || 4.5,\n              reviews: Math.floor(Math.random() * 50) + 10,\n              quantity: `${product.stock || product.quantity || 0} ${product.unit || 'kg'}`,\n              availableStock: product.stock || product.quantity || 0,\n              unit: product.unit || 'kg',\n              certifications: ['Organic', 'FSSAI']\n            }))\n          console.log('Filtered organic products:', organicProducts)\n          setProducts(organicProducts)\n        } else {\n          setProducts([])\n        }\n      } catch (error) {\n        console.error('Error loading organic products:', error)\n        setProducts([])\n      }\n    }\n\n    loadOrganicProducts()\n    \n    // Subscribe to product updates for real-time sync\n    const unsubscribe = realTimeSync.subscribe('product_update', (data) => {\n      console.log('Product update received in Organic page:', data)\n      if (data && data.action) {\n        setTimeout(() => {\n          loadOrganicProducts()\n        }, 200)\n      }\n    })\n\n    return () => unsubscribe()\n  }, [allProducts])\n\n  const filteredProducts = products.filter(product => {\n    const nameMatches = product.name.toLowerCase().includes(search.toLowerCase()) ||\n                       product.supplier.toLowerCase().includes(search.toLowerCase())\n    const priceMatches = product.price >= minPrice && product.price <= maxPrice\n    const ratingMatches = product.rating >= minRating\n    const organicMatches = !organicOnly || product.certifications.includes('Organic')\n    const fssaiMatches = !fssaiOnly || product.certifications.includes('FSSAI')\n    \n    return nameMatches && priceMatches && ratingMatches && organicMatches && fssaiMatches\n  })\n\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    switch (sortBy) {\n      case 'price':\n        return a.price - b.price\n      case 'rating':\n        return b.rating - a.rating\n      case 'name':\n        return a.name.localeCompare(b.name)\n      default:\n        return 0\n    }\n  })\n\n  const startBargain = (product) => {\n    setSelectedProduct(product)\n    setShowNegotiation(true)\n  }\n\n  const buyNow = (product) => {\n    // Check stock availability\n    if (product.availableStock <= 0) {\n      alert('This product is out of stock!')\n      return\n    }\n    \n    // Add product to cart instead of direct purchase\n    const cartItem = {\n      id: product.id,\n      name: product.name,\n      price: product.price,\n      image: product.image,\n      supplier: product.supplier,\n      supplierId: product.supplierId,\n      quantity: 1,\n      unit: product.unit\n    }\n    addToCart(cartItem)\n    alert(`${product.name} added to cart!`)\n  }\n\n  const handleReviewSubmit = (review) => {\n    console.log('New review submitted:', review)\n  }\n\n  const totalFarmers = new Set(products.map(p => p.supplier)).size\n  const organicProducts = products.filter(p => p.certifications.includes('Organic')).length\n  const avgRating = products.length > 0 ? (products.reduce((sum, p) => sum + p.rating, 0) / products.length).toFixed(1) : '0'\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-12 px-4\">\n      <div className=\"flex items-center gap-3 mb-8\">\n        <Store className=\"w-8 h-8 text-green-600\" />\n        <h1 className=\"text-3xl font-bold text-primary-600\">Organic Products Marketplace</h1>\n      </div>\n\n      {/* Search Bar and Filters */}\n      <div className=\"mb-6 space-y-4\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search Organic Products...\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n              className=\"input-field pl-10\"\n            />\n          </div>\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className=\"btn-secondary flex items-center gap-2\"\n          >\n            <Filter className=\"w-4 h-4\" />\n            Filter\n          </button>\n        </div>\n\n        {showFilters && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Min Price (â‚¹/kg)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"200\"\n                  value={minPrice}\n                  onChange={e => setMinPrice(Number(e.target.value))}\n                  className=\"input-field\"\n                  placeholder=\"0\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Max Price (â‚¹/kg)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"200\"\n                  value={maxPrice}\n                  onChange={e => setMaxPrice(Number(e.target.value))}\n                  className=\"input-field\"\n                  placeholder=\"200\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Min Rating\n                </label>\n                <select\n                  value={minRating}\n                  onChange={e => setMinRating(Number(e.target.value))}\n                  className=\"input-field\"\n                >\n                  <option value={0}>Any Rating</option>\n                  <option value={3}>3+ Stars</option>\n                  <option value={4}>4+ Stars</option>\n                  <option value={4.5}>4.5+ Stars</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Product List */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {sortedProducts.map(product => {\n              const isOutOfStock = product.availableStock <= 0\n              return (\n              <div key={product.id} className={`rounded-lg shadow-md overflow-hidden transition-shadow ${\n                isOutOfStock \n                  ? 'bg-gray-100 opacity-60' \n                  : 'bg-white hover:shadow-lg'\n              }`}>\n                <img \n                  src={product.image} \n                  alt={product.name}\n                  className={`w-full h-48 object-cover ${\n                    isOutOfStock ? 'grayscale' : ''\n                  }`}\n                />\n                <div className={`p-6 ${isOutOfStock ? 'text-gray-500' : ''}`}>\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h3 className={`text-xl font-bold ${isOutOfStock ? 'text-gray-600' : ''}`}>{product.name}</h3>\n                    <div className=\"text-right\">\n                      <div className={`text-2xl font-bold ${isOutOfStock ? 'text-gray-500' : 'text-green-600'}`}>â‚¹{product.price}/{product.unit}</div>\n                      <div className={`text-sm font-medium ${\n                        product.availableStock <= 0 \n                          ? 'text-red-600' \n                          : product.availableStock < 10 \n                            ? 'text-orange-600' \n                            : 'text-gray-600'\n                      }`}>\n                        {product.availableStock <= 0 \n                          ? 'Out of Stock' \n                          : `${product.availableStock} ${product.unit} available`\n                        }\n                      </div>\n                    </div>\n                  </div>\n\n                  <p className={`mb-4 ${isOutOfStock ? 'text-gray-400' : 'text-gray-600'}`}>{product.description}</p>\n\n                  {/* Out of Stock Notification */}\n                  {isOutOfStock && (\n                    <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                      <p className=\"text-sm text-blue-700 font-medium\">\n                        ðŸ“§ We will notify you when this product is available\n                      </p>\n                    </div>\n                  )}\n\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <div className=\"flex items-center gap-1\">\n                      <Star className={`w-4 h-4 ${isOutOfStock ? 'text-gray-400' : 'text-yellow-400'}`} />\n                      <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : ''}`}>{product.rating}</span>\n                      <span className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>({product.reviews})</span>\n                    </div>\n                    <div className={`text-sm ${isOutOfStock ? 'text-gray-400' : 'text-gray-500'}`}>\n                      by {product.supplier}\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-wrap gap-1 mb-4\">\n                    {product.certifications.map(cert => (\n                      <span key={cert} className={`text-xs px-2 py-1 rounded ${\n                        isOutOfStock \n                          ? 'bg-gray-200 text-gray-500' \n                          : 'bg-blue-100 text-blue-700'\n                      }`}>\n                        {cert}\n                      </span>\n                    ))}\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <button \n                      className={`flex-1 ${product.availableStock <= 0 \n                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n                        : 'btn-primary'}`}\n                      onClick={() => buyNow(product)}\n                      disabled={product.availableStock <= 0}\n                    >\n                      {product.availableStock <= 0 ? 'Out of Stock' : 'Add to Cart'}\n                    </button>\n                    <button \n                      className={`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${\n                        isOutOfStock \n                          ? 'bg-gray-200 text-gray-400 cursor-not-allowed' \n                          : 'bg-orange-100 text-orange-700 hover:bg-orange-200'\n                      }`}\n                      onClick={() => startBargain(product)}\n                      disabled={product.availableStock <= 0}\n                    >\n                      <MessageSquare className=\"w-4 h-4\" />\n                      Bargain\n                    </button>\n\n                    <button \n                      className={`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${\n                        isOutOfStock \n                          ? 'bg-gray-200 text-gray-400 cursor-not-allowed' \n                          : 'bg-orange-100 text-orange-700 hover:bg-orange-200'\n                      }`}\n                      onClick={() => setSelectedProductForReview(product)}\n                      disabled={isOutOfStock}\n                    >\n                      <Star className=\"w-4 h-4\" />\n                      Reviews\n                    </button>\n                  </div>\n                </div>\n              </div>\n              )\n            })}\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Negotiation Panel */}\n          {showNegotiation && selectedProduct && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">\n                Bargain with {selectedProduct.supplier}\n              </h3>\n              <Negotiation \n                initialOffer={selectedProduct.price} \n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Review System Modal */}\n      {selectedProductForReview && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Reviews for {selectedProductForReview.name}</h3>\n              <button\n                onClick={() => setSelectedProductForReview(null)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                âœ•\n              </button>\n            </div>\n            <ReviewSystem\n              itemId={selectedProductForReview.id}\n              itemName={selectedProductForReview.name}\n              supplierId={selectedProductForReview.supplierId}\n              supplierName={selectedProductForReview.supplier}\n              onClose={() => setSelectedProductForReview(null)}\n              onSubmit={handleReviewSubmit}\n              readOnly={true}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Organic ","size_bytes":15082},"src/pages/Profile.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { Shield, Save, Edit, Camera, MapPin, Phone, Mail, User, Award, Star, Package, Clock, MessageSquare } from 'lucide-react'\nimport LicenseVerification from '../components/FSSAI/LicenseVerification'\nimport { deliveriesDatabase, reviewsDatabase } from '../data/userDatabase'\nimport ReviewSystem from '../components/Rating/ReviewSystem'\nimport realTimeSync from '../utils/realTimeSync'\n\nconst Profile = () => {\n  const { user, updateProfile } = useAuth()\n  const [editing, setEditing] = useState(false)\n  const [showFssaiVerification, setShowFssaiVerification] = useState(false)\n  const [recentOrders, setRecentOrders] = useState([])\n  const [selectedOrderForReview, setSelectedOrderForReview] = useState(null)\n  const [selectedProductForReview, setSelectedProductForReview] = useState(null)\n  const [profileData, setProfileData] = useState({\n    name: user?.name || '',\n    phone: user?.phone || '',\n    address: user?.address || '',\n    fssaiLicense: user?.fssaiLicense || '',\n    businessName: user?.businessName || '',\n    businessType: user?.businessType || '',\n    description: user?.description || ''\n  })\n\n  // Load recent orders from database\n  useEffect(() => {\n    if (user?.id) {\n      const orders = deliveriesDatabase.getDeliveriesByVendor(user.id)\n      // Sort orders by creation date (newest first)\n      const sortedOrders = orders.sort((a, b) => {\n        const dateA = new Date(a.orderDate || a.id)\n        const dateB = new Date(b.orderDate || b.id)\n        return dateB - dateA\n      })\n      setRecentOrders(sortedOrders)\n    }\n  }, [user?.id])\n\n  // Listen for real-time order and delivery updates\n  useEffect(() => {\n    if (!user?.id) return\n\n    let refreshTimeout\n    let lastRefreshTime = 0\n    \n    const refreshOrders = () => {\n      const now = Date.now()\n      // Prevent too frequent refreshes (max once per 200ms)\n      if (now - lastRefreshTime < 200) {\n        clearTimeout(refreshTimeout)\n        refreshTimeout = setTimeout(refreshOrders, 200)\n        return\n      }\n      \n      lastRefreshTime = now\n      const orders = deliveriesDatabase.getDeliveriesByVendor(user.id)\n      const sortedOrders = orders.sort((a, b) => {\n        const dateA = new Date(a.orderDate || a.id)\n        const dateB = new Date(b.orderDate || b.id)\n        return dateB - dateA\n      })\n      \n      // Only update if orders actually changed\n      setRecentOrders(prevOrders => {\n        if (JSON.stringify(prevOrders) === JSON.stringify(sortedOrders)) {\n          return prevOrders // No change, don't trigger re-render\n        }\n        return sortedOrders\n      })\n    }\n\n    // Listen to stock updates for new purchases\n    const unsubscribePurchase = realTimeSync.subscribe('stock_update', (data) => {\n      if (data.action === 'purchase' && data.vendorId === user.id) {\n        refreshOrders()\n      }\n    })\n\n    // Listen for delivery status changes (like delivered status updates)\n    const unsubscribeDelivery = realTimeSync.subscribe('delivery_update', (data) => {\n      if (data.vendorId === user.id || data.customerId === user.id) {\n        refreshOrders()\n      }\n    })\n\n    return () => {\n      clearTimeout(refreshTimeout)\n      unsubscribePurchase()\n      unsubscribeDelivery()\n    }\n  }, [user?.id])\n\n  // Check if user has already reviewed a supplier\n  const hasReviewedSupplier = (supplierId) => {\n    if (!user?.id) return false\n    const existingReviews = reviewsDatabase.getReviewsBySupplier(supplierId)\n    return existingReviews.some(review => review.vendorId === user.id)\n  }\n\n  if (!user) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold mb-4\">Profile</h2>\n          <p className=\"text-gray-600\">Please log in to view your profile.</p>\n        </div>\n      </div>\n    )\n  }\n\n  const handleSave = () => {\n    updateProfile(profileData)\n    setEditing(false)\n  }\n\n  const handleReviewSubmit = (review) => {\n    console.log('Review submitted:', review)\n    // Refresh orders to update review status\n    if (user?.id) {\n      const orders = deliveriesDatabase.getDeliveriesByVendor(user.id)\n      const sortedOrders = orders.sort((a, b) => {\n        const dateA = new Date(a.orderDate || a.id)\n        const dateB = new Date(b.orderDate || b.id)\n        return dateB - dateA\n      })\n      setRecentOrders(sortedOrders)\n    }\n    setSelectedOrderForReview(null)\n    setSelectedProductForReview(null)\n  }\n\n  const handleProductReviewSubmit = (review) => {\n    console.log('Product review submitted:', review)\n    // Refresh orders to update review status\n    if (user?.id) {\n      const orders = deliveriesDatabase.getDeliveriesByVendor(user.id)\n      const sortedOrders = orders.sort((a, b) => {\n        const dateA = new Date(a.orderDate || a.id)\n        const dateB = new Date(b.orderDate || b.id)\n        return dateB - dateA\n      })\n      setRecentOrders(sortedOrders)\n    }\n    setSelectedProductForReview(null)\n  }\n\n  const handleInputChange = (field, value) => {\n    setProfileData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-12 px-4\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-3xl font-bold\">Profile</h1>\n        <button\n          onClick={() => setEditing(!editing)}\n          className=\"btn-secondary flex items-center gap-2\"\n        >\n          {editing ? 'Cancel' : <Edit className=\"w-4 h-4\" />}\n          {editing ? '' : 'Edit Profile'}\n        </button>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* Profile Information */}\n        <div className=\"space-y-6\">\n          {/* Basic Info Card */}\n          <div className=\"card\">\n            <h3 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\n              <User className=\"w-5 h-5\" />\n              Basic Information\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Name\n                </label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={profileData.name}\n                    onChange={(e) => handleInputChange('name', e.target.value)}\n                    className=\"input-field\"\n                  />\n                ) : (\n                  <div className=\"text-gray-900\">{user.name}</div>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Email\n                </label>\n                <div className=\"text-gray-900\">{user.email}</div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Phone\n                </label>\n                {editing ? (\n                  <input\n                    type=\"tel\"\n                    value={profileData.phone}\n                    onChange={(e) => handleInputChange('phone', e.target.value)}\n                    className=\"input-field\"\n                  />\n                ) : (\n                  <div className=\"text-gray-900\">{user.phone || 'Not provided'}</div>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Address\n                </label>\n                {editing ? (\n                  <textarea\n                    value={profileData.address}\n                    onChange={(e) => handleInputChange('address', e.target.value)}\n                    className=\"input-field\"\n                    rows=\"3\"\n                  />\n                ) : (\n                  <div className=\"text-gray-900\">{user.address || 'Not provided'}</div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Business Information */}\n          {user.type === 'supplier' && (\n            <div className=\"card\">\n              <h3 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\n                <Award className=\"w-5 h-5\" />\n                Business Information\n              </h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Business Name\n                  </label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={profileData.businessName}\n                      onChange={(e) => handleInputChange('businessName', e.target.value)}\n                      className=\"input-field\"\n                    />\n                  ) : (\n                    <div className=\"text-gray-900\">{user.businessName || 'Not provided'}</div>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Business Type\n                  </label>\n                  {editing ? (\n                    <select\n                      value={profileData.businessType}\n                      onChange={(e) => handleInputChange('businessType', e.target.value)}\n                      className=\"input-field\"\n                    >\n                      <option value=\"\">Select Type</option>\n                      <option value=\"wholesale\">Wholesale</option>\n                      <option value=\"retail\">Retail</option>\n                      <option value=\"manufacturing\">Manufacturing</option>\n                      <option value=\"distribution\">Distribution</option>\n                    </select>\n                  ) : (\n                    <div className=\"text-gray-900\">{user.businessType || 'Not specified'}</div>\n                  )}\n                </div>\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Business Description\n                  </label>\n                  {editing ? (\n                    <textarea\n                      value={profileData.description}\n                      onChange={(e) => handleInputChange('description', e.target.value)}\n                      className=\"input-field\"\n                      rows=\"3\"\n                    />\n                  ) : (\n                    <div className=\"text-gray-900\">{user.description || 'No description'}</div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* FSSAI Verification removed as per request */}\n\n          {editing && (\n            <div className=\"flex gap-4\">\n              <button onClick={handleSave} className=\"btn-primary flex items-center gap-2\">\n                <Save className=\"w-4 h-4\" />\n                Save\n              </button>\n              <button onClick={() => setEditing(false)} className=\"btn-secondary\">\n                Cancel\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Recent Orders Section */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n            <Package className=\"w-5 h-5 text-blue-600\" />\n            Recent Orders\n          </h3>\n          <div className=\"space-y-4\">\n            {recentOrders.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                <Package className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n                <p>No orders yet</p>\n                <p className=\"text-sm\">Your recent orders will appear here</p>\n              </div>\n            ) : (\n              recentOrders.slice(0, 5).map((order, orderIndex) => (\n                <div key={`${order.id}-${order.orderDate}-${orderIndex}`} className=\"border rounded-lg p-4\">\n                  <div className=\"flex justify-between items-start mb-3\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium text-gray-900 mb-1\">\n                        Order #{order.orderId || order.id}\n                      </h4>\n                      <p className=\"text-sm text-gray-600 mb-2\">from {order.supplier}</p>\n                      \n                      {/* Products List */}\n                      <div className=\"space-y-3\">\n                        {order.products && Array.isArray(order.products) ? (\n                          order.products.map((product, index) => {\n                            const productName = typeof product === 'string' ? product : product.name || 'Item'\n                            const productQuantity = typeof product === 'object' ? product.quantity || 1 : 1\n                            const productUnit = typeof product === 'object' ? product.unit || 'kg' : 'kg'\n                            const productPrice = typeof product === 'object' ? product.price : null\n                            const productImage = typeof product === 'object' ? product.image : null\n                            \n                            return (\n                              <div key={`${order.id}-product-${index}-${productName}`} className=\"flex items-center gap-3 p-2 bg-gray-50 rounded-lg\">\n                                {/* Product Image */}\n                                <div className=\"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden\">\n                                  {productImage ? (\n                                    <img \n                                      src={productImage} \n                                      alt={productName}\n                                      className=\"w-full h-full object-cover\"\n                                      onError={(e) => {\n                                        e.target.style.display = 'none'\n                                        e.target.nextSibling.style.display = 'flex'\n                                      }}\n                                    />\n                                  ) : null}\n                                  <div className=\"w-full h-12 bg-gray-300 flex items-center justify-center text-lg text-gray-500\" style={{display: productImage ? 'none' : 'flex'}}>\n                                    ðŸ“¦\n                                  </div>\n                                </div>\n                                \n                                {/* Product Details */}\n                                <div className=\"flex-1\">\n                                  <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-sm font-medium text-gray-900\">\n                                      {productQuantity} {productUnit} {productName}\n                                    </span>\n                                    {productPrice && (\n                                      <span className=\"text-sm text-gray-600\">â‚¹{productPrice}</span>\n                                    )}\n                                  </div>\n                                  \n                                  {/* Write Review Button for delivered orders */}\n                                  {order.status === 'delivered' && !hasReviewedSupplier(order.supplierId) && (\n                                    <button\n                                      onClick={() => setSelectedProductForReview({\n                                        ...product,\n                                        orderId: order.orderId || order.id,\n                                        supplierId: order.supplierId,\n                                        supplierName: order.supplier\n                                      })}\n                                      className=\"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md font-medium mt-2 transition-colors\"\n                                    >\n                                      âœï¸ Write Review\n                                    </button>\n                                  )}\n                                </div>\n                              </div>\n                            )\n                          })\n                        ) : (\n                          <div className=\"text-sm text-gray-700\">\n                            {order.products || 'Order Items'}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"text-right ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        â‚¹{order.totalAmount}\n                      </div>\n                      <div className={`text-xs px-2 py-1 rounded-full ${\n                        order.status === 'delivered' \n                          ? 'bg-green-100 text-green-800' \n                          : order.status === 'in-transit'\n                          ? 'bg-blue-100 text-blue-800'\n                          : 'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {order.status}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between text-sm text-gray-500 mb-3\">\n                    <span>{new Date(order.orderDate).toLocaleDateString()}</span>\n                    <span>Order ID: {order.orderId || order.id}</span>\n                  </div>\n\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n      </div>\n\n      {/* Review Modal for Individual Products */}\n      {selectedProductForReview && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">\n                Review {selectedProductForReview.name}\n              </h3>\n              <button\n                onClick={() => setSelectedProductForReview(null)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                âœ•\n              </button>\n            </div>\n            <ReviewSystem\n              itemId={selectedProductForReview.id}\n              itemName={selectedProductForReview.name}\n              supplierId={selectedProductForReview.supplierId}\n              supplierName={selectedProductForReview.supplierName}\n              onClose={() => setSelectedProductForReview(null)}\n              onSubmit={handleProductReviewSubmit}\n              readOnly={false}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* FSSAI Verification Modal */}\n      {showFssaiVerification && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">FSSAI License Verification</h3>\n            <LicenseVerification \n              onVerify={(license) => {\n                updateProfile({ fssaiLicense: license, fssaiVerified: true })\n                setShowFssaiVerification(false)\n              }}\n            />\n            <button\n              onClick={() => setShowFssaiVerification(false)}\n              className=\"w-full btn-secondary mt-4\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Profile ","size_bytes":19776},"src/pages/SupplierDashboard.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../contexts/AuthContext'\nimport { useProducts } from '../contexts/ProductContext'\nimport { useSearchParams } from 'react-router-dom'\nimport { flashSalesDatabase, reviewsDatabase, bargainsDatabase, deliveriesDatabase } from '../data/userDatabase'\nimport ImageUpload from '../components/ImageUpload'\nimport FlashSaleTimer from '../components/FlashSales/FlashSaleTimer'\nimport productApi from '../services/productApi'\nimport realTimeSync from '../utils/realTimeSync'\nimport { \n  Package, \n  Shield, \n  MessageSquare, \n  Zap, \n  Star, \n  Truck, \n  BarChart3, \n  Plus, \n  Edit, \n  Trash2, \n  CheckCircle, \n  XCircle,\n  Users,\n  TrendingUp,\n  DollarSign,\n  ShoppingCart,\n  AlertCircle,\n  Save,\n  X\n} from 'lucide-react'\n\nexport default function SupplierDashboard() {\n  const { user } = useAuth()\n  const { products: allProducts, addProduct, updateProduct, deleteProduct, getProductsBySupplier, loading: productsLoading } = useProducts()\n  const [searchParams, setSearchParams] = useSearchParams()\n  const [activeTab, setActiveTab] = useState('overview')\n  const [products, setProducts] = useState([])\n  const [bargains, setBargains] = useState([])\n  const [reviews, setReviews] = useState([])\n  const [deliveries, setDeliveries] = useState([])\n  const [flashSales, setFlashSales] = useState([])\n  const [finalizingOrderId, setFinalizingOrderId] = useState(null)\n  const [showAddProduct, setShowAddProduct] = useState(false)\n  const [showAddFlashSale, setShowAddFlashSale] = useState(false)\n  const [editingProduct, setEditingProduct] = useState(null)\n  const [editingFlashSale, setEditingFlashSale] = useState(null)\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    price: '',\n    quantity: '',\n    unit: 'kg',\n    description: '',\n    image: '',\n    isOrganic: false,\n    licenseNumber: '',\n    isVerified: false,\n    category: 'vegetables'\n  })\n\n\n  const [newFlashSale, setNewFlashSale] = useState({\n    product: '',\n    oldPrice: '',\n    newPrice: '',\n    discount: '',\n    totalQuantity: '',\n    quantityUnit: 'kg',\n    durationDays: '',\n    durationHours: '',\n    durationMinutes: '',\n    image: ''\n  })\n\n  const [selectedBargain, setSelectedBargain] = useState(null)\n  const [bargainMessage, setBargainMessage] = useState('')\n  const [bargainOffer, setBargainOffer] = useState('')\n\n  // Handle URL parameters for tab navigation\n  useEffect(() => {\n    const tabParam = searchParams.get('tab')\n    if (tabParam && ['overview', 'products', 'bargains', 'flashsales', 'reviews', 'deliveries'].includes(tabParam)) {\n      setActiveTab(tabParam)\n    }\n  }, [searchParams])\n\n\n  // Load data with real-time sync\n  useEffect(() => {\n    if (user && user.id) {\n      const loadData = () => {\n        try {\n          const userBargains = bargainsDatabase.getBargainsBySupplier(user.id)\n          setBargains(userBargains)\n          \n          const userReviews = reviewsDatabase.getReviewsBySupplier(user.id)\n          setReviews(userReviews)\n          \n          const userDeliveries = deliveriesDatabase.getDeliveriesBySupplier(user.id)\n          setDeliveries(userDeliveries)\n          \n          const userFlashSales = flashSalesDatabase.getFlashSalesBySupplier(user.id)\n          setFlashSales(userFlashSales)\n        } catch (error) {\n          console.error('Error loading supplier data:', error)\n        }\n      }\n\n      loadData()\n\n      // Subscribe to real-time updates\n      const unsubscribeBargain = realTimeSync.subscribe('bargain_update', (data) => {\n        if (data && data.supplierId === user.id) {\n          const userBargains = bargainsDatabase.getBargainsBySupplier(user.id)\n          setBargains(userBargains)\n          \n          // Update selected bargain if it's currently open\n          if (selectedBargain && data.bargain && selectedBargain.id === data.bargain.id) {\n            setSelectedBargain(data.bargain)\n          }\n        }\n      })\n\n      const unsubscribeReview = realTimeSync.subscribe('review_update', (data) => {\n        if (data && data.supplierId === user.id) {\n          const userReviews = reviewsDatabase.getReviewsBySupplier(user.id)\n          setReviews(userReviews)\n        }\n      })\n\n      const unsubscribeFlashSale = realTimeSync.subscribe('flash_sale_update', (data) => {\n        if (data && data.supplierId === user.id) {\n          const userFlashSales = flashSalesDatabase.getFlashSalesBySupplier(user.id)\n          setFlashSales(userFlashSales)\n        }\n      })\n\n      return () => {\n        unsubscribeBargain()\n        unsubscribeReview()\n        unsubscribeFlashSale()\n      }\n    }\n  }, [user])\n\n  // Load products from ProductContext - only when allProducts changes\n  useEffect(() => {\n    if (user && user.id) {\n      const userProducts = getProductsBySupplier(user.id)\n      console.log('Loading products for supplier from context:', user.id, userProducts)\n      \n      // Remove duplicates by ID before setting\n      const uniqueProducts = userProducts.filter((product, index, self) => \n        index === self.findIndex(p => p.id === product.id)\n      )\n      \n      setProducts(uniqueProducts)\n    }\n  }, [user, allProducts, getProductsBySupplier])\n\n\n  const handleEditProduct = (product) => {\n    setEditingProduct(product)\n    setNewProduct({\n      name: product.name,\n      price: product.price.toString(),\n      quantity: product.quantity,\n      unit: product.unit || 'kg',\n      description: product.description,\n      image: product.image,\n      isOrganic: product.isOrganic,\n      licenseNumber: product.licenseNumber || '',\n      isVerified: product.isVerified,\n      category: product.category || 'vegetables'\n    })\n    setShowAddProduct(true)\n  }\n\n  const handleAddProduct = async () => {\n    if (!newProduct.name || !newProduct.price || !newProduct.quantity || !newProduct.unit) {\n      alert('Please fill all required fields')\n      return\n    }\n\n    const productData = {\n      ...newProduct,\n      price: parseFloat(newProduct.price),\n      quantity: parseInt(newProduct.quantity),\n      stock: parseInt(newProduct.quantity),\n      supplierId: user.id,\n      supplierName: user.name,\n      supplierRating: user.rating || 4.5,\n      image: newProduct.image || 'ðŸ¥¬',\n      category: newProduct.category || 'vegetables'\n    }\n\n    const addedProduct = await addProduct(productData)\n    console.log('Product added via API:', addedProduct)\n    \n    if (addedProduct) {\n      // Don't manually update local state - let ProductContext real-time sync handle it\n      alert('Product added successfully!')\n    } else {\n      alert('Failed to add product. Please try again.')\n    }\n\n    setNewProduct({\n      name: '',\n      price: '',\n      quantity: '',\n      unit: 'kg',\n      description: '',\n      category: 'vegetables',\n      isOrganic: false\n    })\n    setShowAddProduct(false)\n  }\n\n  const handleUpdateProduct = async () => {\n    if (!newProduct.name || !newProduct.price || !newProduct.quantity || !newProduct.unit) {\n      alert('Please fill all required fields')\n      return\n    }\n\n    const updatedData = {\n      name: newProduct.name,\n      price: parseFloat(newProduct.price),\n      quantity: parseInt(newProduct.quantity),\n      stock: parseInt(newProduct.quantity),\n      unit: newProduct.unit,\n      description: newProduct.description,\n      image: newProduct.image || editingProduct.image,\n      isOrganic: newProduct.isOrganic,\n      licenseNumber: newProduct.isOrganic ? null : newProduct.licenseNumber,\n      isVerified: newProduct.isOrganic ? true : newProduct.isVerified,\n      category: newProduct.category\n    }\n\n    const updated = await updateProduct(editingProduct.id, updatedData)\n    if (updated) {\n      // Don't manually update local state - let ProductContext real-time sync handle it\n      alert('Product updated successfully!')\n    }\n\n    setNewProduct({\n      name: '',\n      price: '',\n      quantity: '',\n      description: '',\n      image: '',\n      isOrganic: false,\n      licenseNumber: '',\n      isVerified: false,\n      category: 'vegetables'\n    })\n    setShowAddProduct(false)\n  }\n\n  const handleDeleteProduct = async (productId) => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      const deleted = await deleteProduct(productId)\n      if (deleted) {\n        // Don't manually update local state - let ProductContext real-time sync handle it\n        alert('Product deleted successfully!')\n      } else {\n        alert('Failed to delete product')\n      }\n    }\n  }\n\n  const verifyFSSAILicense = async (licenseNumber) => {\n    // Simulate FSSAI license verification\n    // In a real application, this would call the FSSAI API\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        // Mock verification logic - in reality, this would validate against FSSAI database\n        const isValid = licenseNumber.length >= 8 && licenseNumber.match(/^[A-Z0-9]+$/)\n        resolve({\n          isValid,\n          message: isValid ? 'License verified successfully' : 'Invalid license number'\n        })\n      }, 1000)\n    })\n  }\n\n  const handleProductNameChange = (name) => {\n    setNewProduct({ ...newProduct, name })\n  }\n\n  const handleOrganicChange = (isOrganic) => {\n    setNewProduct({ ...newProduct, isOrganic })\n  }\n\n  const handleVerifyLicense = async () => {\n    if (!newProduct.licenseNumber.trim()) {\n      alert('Please enter a license number')\n      return\n    }\n\n    try {\n      const result = await verifyFSSAILicense(newProduct.licenseNumber)\n      if (result.isValid) {\n        setNewProduct({ ...newProduct, isVerified: true })\n        alert('âœ… ' + result.message)\n      } else {\n        setNewProduct({ ...newProduct, isVerified: false })\n        alert('âŒ ' + result.message)\n      }\n    } catch (error) {\n      alert('Error verifying license. Please try again.')\n    }\n  }\n\n  const handleAddFlashSale = async () => {\n    if (newFlashSale.product && newFlashSale.newPrice) {\n      // Calculate endTime from duration\n      const now = new Date()\n      const days = parseInt(newFlashSale.durationDays) || 0\n      const hours = parseInt(newFlashSale.durationHours) || 0\n      const minutes = parseInt(newFlashSale.durationMinutes) || 0\n      const endTime = new Date(now.getTime() + days * 24 * 60 * 60 * 1000 + hours * 60 * 60 * 1000 + minutes * 60 * 1000).toISOString()\n      \n      // Use uploaded image if available\n      const imageUrl = newFlashSale.image\n      \n      const flashSaleData = {\n        product: newFlashSale.product,\n        oldPrice: parseFloat(newFlashSale.oldPrice),\n        price: parseFloat(newFlashSale.newPrice),\n        discount: parseFloat(newFlashSale.discount),\n        total: parseInt(newFlashSale.totalQuantity),\n        quantityUnit: newFlashSale.quantityUnit,\n        endTime,\n        supplier: user.name,\n        supplierId: user.id,\n        image: imageUrl\n      }\n      const addedFlashSale = flashSalesDatabase.addFlashSale(flashSaleData)\n      setFlashSales([...flashSales, addedFlashSale])\n      setNewFlashSale({\n        product: '',\n        oldPrice: '',\n        newPrice: '',\n        discount: '',\n        totalQuantity: '',\n        quantityUnit: 'kg',\n        durationDays: '',\n        durationHours: '',\n        durationMinutes: '',\n        image: ''\n      })\n      setShowAddFlashSale(false)\n    } else {\n      alert('Please fill in all required fields (product name and new price)')\n    }\n  }\n\n  const handleEditFlashSale = (sale) => {\n    setNewFlashSale({\n      product: sale.product,\n      oldPrice: sale.oldPrice.toString(),\n      newPrice: sale.price.toString(),\n      discount: sale.discount.toString(),\n      totalQuantity: sale.total.toString(),\n      durationHours: '',\n      durationMinutes: '',\n      image: sale.image || ''\n    })\n    setEditingFlashSale(sale)\n    setShowAddFlashSale(true)\n  }\n\n  const handleUpdateFlashSale = async () => {\n    if (newFlashSale.product && newFlashSale.newPrice && editingFlashSale) {\n      // Calculate endTime from duration\n      const now = new Date()\n      const hours = parseInt(newFlashSale.durationHours) || 0\n      const minutes = parseInt(newFlashSale.durationMinutes) || 0\n      const endTime = new Date(now.getTime() + hours * 60 * 60 * 1000 + minutes * 60 * 1000).toISOString()\n      \n      // Use uploaded image if available, otherwise keep existing\n      const imageUrl = newFlashSale.image || editingFlashSale.image\n      \n      const updatedData = {\n        product: newFlashSale.product,\n        oldPrice: parseFloat(newFlashSale.oldPrice),\n        price: parseFloat(newFlashSale.newPrice),\n        discount: parseFloat(newFlashSale.discount),\n        total: parseInt(newFlashSale.totalQuantity),\n        endTime,\n        image: imageUrl\n      }\n      \n      const updatedFlashSale = flashSalesDatabase.updateFlashSale(editingFlashSale.id, updatedData)\n      if (updatedFlashSale) {\n        setFlashSales(flashSales.map(fs => fs.id === editingFlashSale.id ? updatedFlashSale : fs))\n        setEditingFlashSale(null)\n        setNewFlashSale({\n          product: '',\n          oldPrice: '',\n          newPrice: '',\n          discount: '',\n          totalQuantity: '',\n          durationHours: '',\n          durationMinutes: '',\n          image: ''\n        })\n        setShowAddFlashSale(false)\n      }\n    } else {\n      alert('Please fill in all required fields')\n    }\n  }\n\n  const handleDeleteFlashSale = (saleId) => {\n    if (window.confirm('Are you sure you want to delete this flash sale?')) {\n      const success = flashSalesDatabase.deleteFlashSale(saleId)\n      if (success) {\n        setFlashSales(flashSales.filter(fs => fs.id !== saleId))\n        alert('Flash sale deleted successfully')\n      } else {\n        alert('Failed to delete flash sale')\n      }\n    }\n  }\n\n  const openBargainChat = (bargain) => {\n    setSelectedBargain(bargain)\n    setBargainMessage('')\n    setBargainOffer('')\n  }\n\n  const sendBargainMessage = () => {\n    if (!bargainOffer) return\n    bargainsDatabase.addMessage(selectedBargain.id, {\n      sender: 'supplier',\n      offer: bargainOffer ? parseFloat(bargainOffer) : undefined,\n      message: `Counter offer: â‚¹${bargainOffer}`\n    })\n    // Refresh bargain from DB\n    const updated = bargainsDatabase.getBargainById(selectedBargain.id)\n    setSelectedBargain(updated)\n    setBargainOffer('')\n  }\n\n  const confirmSupplierBargain = (amount) => {\n    if (!amount) {\n      alert('Please enter an amount first')\n      return\n    }\n    \n    // Update bargain status to accepted\n    bargainsDatabase.updateBargain(selectedBargain.id, { \n      status: 'accepted',\n      finalPrice: parseFloat(amount)\n    })\n    \n    // Add confirmation message\n    bargainsDatabase.addMessage(selectedBargain.id, {\n      sender: 'supplier',\n      offer: parseFloat(amount),\n      message: `Deal accepted at â‚¹${amount}`\n    })\n    \n    // Refresh and close\n    const updated = bargainsDatabase.getBargainById(selectedBargain.id)\n    setSelectedBargain(updated)\n    alert(`Deal accepted at â‚¹${amount}`)\n    setSelectedBargain(null)\n  }\n\n  const handleBargainResponse = (bargainId, response) => {\n    setBargains(bargains.map(bargain => \n      bargain.id === bargainId \n        ? { ...bargain, status: response }\n        : bargain\n    ))\n  }\n\n  const isFarmer = user?.userType === 'farmer' || user?.type === 'farmer'\n\n  const stats = {\n    totalProducts: products.length,\n    activeBargains: bargains.filter(b => b.status === 'pending').length,\n    activeFlashSales: flashSales.filter(f => f.status === 'active').length,\n    totalRevenue: 25000,\n    totalOrders: 45,\n    averageRating: reviews.length > 0 \n      ? (reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length).toFixed(1)\n      : 0,\n    totalReviews: reviews.length\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-8 px-4\">\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <Package className=\"w-8 h-8 text-blue-600\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Products</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalProducts}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <DollarSign className=\"w-8 h-8 text-green-600\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Revenue</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">â‚¹{stats.totalRevenue}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <ShoppingCart className=\"w-8 h-8 text-orange-600\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Total Orders</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalOrders}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <Star className=\"w-8 h-8 text-yellow-600\" />\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Avg Rating</p>\n              <p className=\"text-2xl font-semibold text-gray-900\">{stats.averageRating}</p>\n              <p className=\"text-xs text-gray-500\">{stats.totalReviews} reviews</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"bg-white rounded-lg shadow mb-8\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"flex space-x-8 px-6\">\n            {[\n              { id: 'overview', name: 'Overview', icon: BarChart3 },\n              { id: 'products', name: 'Product Catalog', icon: Package },\n              { id: 'bargains', name: 'Bargain Requests', icon: MessageSquare },\n              { id: 'flashsales', name: 'Flash Sales', icon: Zap },\n              { id: 'reviews', name: 'Reviews', icon: Star },\n              { id: 'deliveries', name: 'Deliveries', icon: Truck },\n            ].map((tab) => {\n              const Icon = tab.icon\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${\n                    activeTab === tab.id\n                      ? 'border-primary-500 text-primary-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4\" />\n                  {tab.name}\n                </button>\n              )\n            })}\n          </nav>\n        </div>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {/* Overview Tab */}\n        {activeTab === 'overview' && (\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Business Overview</h2>\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"font-medium mb-3\">Recent Activity</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded\">\n                    <MessageSquare className=\"w-5 h-5 text-blue-600\" />\n                    <div>\n                      <p className=\"text-sm font-medium\">New bargain request from Restaurant ABC</p>\n                      <p className=\"text-xs text-gray-500\">2 hours ago</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded\">\n                    <Star className=\"w-5 h-5 text-yellow-600\" />\n                    <div>\n                      <p className=\"text-sm font-medium\">5-star review received for Organic Tomatoes</p>\n                      <p className=\"text-xs text-gray-500\">1 day ago</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-medium mb-3\">Quick Actions</h3>\n                <div className=\"space-y-2\">\n                  <button \n                    onClick={() => setActiveTab('products')}\n                    className=\"w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Plus className=\"w-4 h-4\" />\n                      Add New Product\n                    </div>\n                  </button>\n                  <button \n                    onClick={() => setActiveTab('flashsales')}\n                    className=\"w-full text-left p-3 bg-orange-50 hover:bg-orange-100 rounded transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Zap className=\"w-4 h-4\" />\n                      Create Flash Sale\n                    </div>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Product Catalog Tab */}\n        {activeTab === 'products' && (\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold\">Product Catalog</h2>\n              {!isFarmer && (\n                <button\n                  onClick={() => {\n                    setEditingProduct(null)\n                    setShowAddProduct(true)\n                  }}\n                  className=\"btn-primary flex items-center gap-2\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  Add Product\n                </button>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {products.map((product) => (\n                <div key={product.id} className=\"border rounded-lg p-4\">\n                  {product.image && product.image !== 'ðŸ¥¬' ? (\n                    <img \n                      src={product.image} \n                      alt={product.name}\n                      className=\"w-full h-32 object-cover rounded mb-3\"\n                      onError={(e) => {\n                        e.target.style.display = 'none'\n                        e.target.nextSibling.style.display = 'flex'\n                      }}\n                    />\n                  ) : null}\n                  <div \n                    className=\"w-full h-32 bg-green-100 rounded mb-3 flex items-center justify-center\"\n                    style={{ display: product.image && product.image !== 'ðŸ¥¬' ? 'none' : 'flex' }}\n                  >\n                    <span className=\"text-4xl\">ðŸ¥¬</span>\n                  </div>\n                  <h3 className=\"font-medium mb-2\">{product.name}</h3>\n                  <p className=\"text-sm text-gray-600 mb-2\">{product.description}</p>\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <span className=\"font-medium\">â‚¹{product.price}/{product.unit || 'kg'}</span>\n                    <span className=\"text-sm text-blue-600 font-medium\">Stock: {product.quantity} {product.unit || 'kg'}</span>\n                  </div>\n                  <div className=\"flex gap-2 mb-3\">\n                    {/* Only show FSSAI Verified for non-organic products */}\n                    {!product.isOrganic && product.isVerified && (\n                      <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1\">\n                        <CheckCircle className=\"w-3 h-3\" />\n                        FSSAI Verified\n                      </span>\n                    )}\n                    {!product.isOrganic && product.licenseNumber && !product.isVerified && (\n                      <span className=\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded flex items-center gap-1\">\n                        <AlertCircle className=\"w-3 h-3\" />\n                        License Pending\n                      </span>\n                    )}\n                    {product.isOrganic && (\n                      <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1\">\n                        <CheckCircle className=\"w-3 h-3\" />\n                        Organic\n                      </span>\n                    )}\n                  </div>\n                  {!isFarmer && (\n                    <div className=\"flex gap-2\">\n                      <button \n                        onClick={() => handleEditProduct(product)}\n                        className=\"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1\"\n                      >\n                        <Edit className=\"w-3 h-3\" />\n                        Edit\n                      </button>\n                      <button \n                        onClick={() => handleDeleteProduct(product.id)}\n                        className=\"text-sm text-red-600 hover:text-red-800 flex items-center gap-1\"\n                      >\n                        <Trash2 className=\"w-3 h-3\" />\n                        Delete\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Bargain Requests Tab */}\n        {activeTab === 'bargains' && (\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold mb-6\">Bargain Requests</h2>\n            {bargains.length === 0 ? (\n              <div className=\"text-gray-400 text-center\">No bargains yet.</div>\n            ) : (\n              <div className=\"space-y-4\">\n                {bargains.map((bargain) => (\n                  <div key={bargain.id} className=\"border rounded-lg p-4\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <div>\n                        <h3 className=\"font-medium\">{bargain.vendorName}</h3>\n                        <p className=\"text-sm text-gray-600\">{bargain.productName}</p>\n                      </div>\n                      <button onClick={() => openBargainChat(bargain)} className=\"btn-primary\">Open Chat</button>\n                    </div>\n                    <div className=\"text-xs text-gray-500\">Status: {bargain.status}</div>\n                  </div>\n                ))}\n              </div>\n            )}\n            {selectedBargain && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Bargain Chat for {selectedBargain.productName}</h3>\n                    <button onClick={() => setSelectedBargain(null)} className=\"text-gray-500 hover:text-gray-700\">âœ•</button>\n                  </div>\n                  <div className=\"mb-4 h-64 overflow-y-auto border rounded p-2 bg-gray-50\">\n                    {selectedBargain.messages.length === 0 ? (\n                      <div className=\"text-gray-400 text-center\">No messages yet.</div>\n                    ) : (\n                      selectedBargain.messages.map((msg, idx) => (\n                        <div key={idx} className={`mb-2 ${msg.sender === 'supplier' ? 'text-right' : 'text-left'}`}>\n                          <div className={`inline-block px-3 py-2 rounded-lg ${msg.sender === 'supplier' ? 'bg-green-100' : 'bg-blue-100'}`}>\n                            <div className=\"text-xs text-gray-500 mb-1\">{msg.sender === 'supplier' ? 'You' : selectedBargain.vendorName}</div>\n                            {msg.offer !== undefined && <div className=\"font-bold\">Offer: â‚¹{msg.offer}</div>}\n                            {msg.message && <div>{msg.message}</div>}\n                            <div className=\"text-xs text-gray-400 mt-1\">{new Date(msg.timestamp).toLocaleString()}</div>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                  <div className=\"flex gap-2 mt-2\">\n                    <input type=\"number\" placeholder=\"Counter Offer (â‚¹)\" value={bargainOffer} onChange={e => setBargainOffer(e.target.value)} className=\"flex-1 border rounded p-2\" />\n                    <button onClick={sendBargainMessage} className=\"btn-primary\">Send Offer</button>\n                    <button onClick={() => confirmSupplierBargain(bargainOffer)} className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\">Accept</button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Flash Sales Tab */}\n        {activeTab === 'flashsales' && (\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold\">Flash Sales</h2>\n              <button\n                onClick={() => setShowAddFlashSale(true)}\n                className=\"btn-primary flex items-center gap-2\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                Create Flash Sale\n              </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {flashSales.map((sale) => (\n                <div key={sale.id} className=\"border rounded-lg p-4\">\n                  <div className=\"flex justify-between items-start mb-3\">\n                    <h3 className=\"font-medium\">{sale.product}</h3>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm bg-red-100 text-red-800 px-2 py-1 rounded\">\n                        {sale.discount}% OFF\n                      </span>\n                      <div className=\"flex gap-1\">\n                        <button\n                          onClick={() => handleEditFlashSale(sale)}\n                          className=\"text-blue-600 hover:text-blue-800 p-1\"\n                          title=\"Edit\"\n                        >\n                          <Edit className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteFlashSale(sale.id)}\n                          className=\"text-red-600 hover:text-red-800 p-1\"\n                          title=\"Delete\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Flash Sale Image */}\n                  {sale.image && (\n                    <div className=\"mb-3\">\n                      <img \n                        src={sale.image} \n                        alt={sale.product}\n                        className=\"w-full h-32 object-cover rounded\"\n                        onError={(e) => {\n                          e.target.src = 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n                        }}\n                      />\n                    </div>\n                  )}\n                  \n                  <div className=\"space-y-2 mb-3\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"line-through text-gray-500\">â‚¹{sale.oldPrice}</span>\n                      <span className=\"font-medium text-green-600\">â‚¹{sale.price}</span>\n                    </div>\n                    <div className=\"flex justify-between text-sm\">\n                      <span>Sold: {sale.sold}/{sale.total}</span>\n                      <span className=\"text-yellow-600 font-medium\">\n                        <FlashSaleTimer endTime={sale.endTime} />\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className=\"bg-green-500 h-2 rounded-full\"\n                      style={{ width: `${(sale.sold / sale.total) * 100}%` }}\n                    ></div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Reviews Tab */}\n        {activeTab === 'reviews' && (\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold mb-6\">Customer Reviews</h2>\n            <button onClick={() => {\n              const userReviews = reviewsDatabase.getReviewsBySupplier(user.id)\n              console.log('Manual refresh reviews for supplier', user.id, userReviews)\n              setReviews(userReviews)\n            }} className=\"mb-4 btn-secondary\">Refresh Reviews</button>\n            {reviews.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <Star className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <p className=\"text-gray-500 text-lg\">No reviews yet.</p>\n                <p className=\"text-gray-400 text-sm mt-2\">Reviews from vendors will appear here.</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {reviews.map((review) => (\n                  <div key={review.id} className=\"border rounded-lg p-4\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <h3 className=\"font-medium\">{review.vendorName}</h3>\n                        <p className=\"text-sm text-gray-600\">{review.productName}</p>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        {[1, 2, 3, 4, 5].map((star) => (\n                          <Star\n                            key={star}\n                            className={`w-4 h-4 ${\n                              star <= review.rating\n                                ? 'text-yellow-400 fill-current'\n                                : 'text-gray-300'\n                            }`}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                    <p className=\"text-gray-700 mb-2\">{review.comment}</p>\n                    <div className=\"flex justify-between items-center text-sm text-gray-500\">\n                      <span>{review.date}</span>\n                      <span className=\"text-green-600\">Published</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Deliveries Tab */}\n        {activeTab === 'deliveries' && (\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold mb-6\">Delivery Management</h2>\n            {deliveries.length === 0 ? (\n              <div className=\"text-gray-400 text-center\">No deliveries yet.</div>\n            ) : (\n              <div className=\"space-y-4\">\n                {deliveries.map((delivery) => (\n                  <div key={delivery.id} className=\"border rounded-lg p-4\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <h3 className=\"font-medium\">Order #{delivery.orderId}</h3>\n                        <p className=\"text-sm text-gray-600\">Customer: {delivery.customer}</p>\n                        <p className=\"text-sm text-gray-500\">Products: {delivery.products.join(', ')}</p>\n                      </div>\n                      <span className={`text-sm px-2 py-1 rounded ${\n                        delivery.status === 'in-transit' \n                          ? 'bg-yellow-100 text-yellow-800'\n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        {delivery.status}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between items-center text-sm text-gray-500\">\n                      <span>Delivery Date: {delivery.deliveryDate}</span>\n                      <span>Total: â‚¹{delivery.totalAmount}</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Product Modal */}\n      {showAddProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">\n                {editingProduct ? 'Edit Product' : 'Add New Product'}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowAddProduct(false)\n                  setEditingProduct(null)\n                  setNewProduct({\n                    name: '',\n                    price: '',\n                    quantity: '',\n                    unit: 'kg',\n                    description: '',\n                    image: '',\n                    isOrganic: false,\n                    licenseNumber: '',\n                    isVerified: false,\n                    category: 'vegetables'\n                  })\n                }}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                value={newProduct.name}\n                onChange={(e) => handleProductNameChange(e.target.value)}\n                className=\"w-full p-2 border rounded\"\n              />\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"number\"\n                  placeholder=\"Price per unit\"\n                  value={newProduct.price}\n                  onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n                  className=\"flex-1 p-2 border rounded\"\n                />\n                <select\n                  value={newProduct.unit}\n                  onChange={(e) => setNewProduct({...newProduct, unit: e.target.value})}\n                  className=\"w-32 p-2 border rounded\"\n                >\n                  <option value=\"kg\">Kg</option>\n                  <option value=\"litre\">Litre</option>\n                  <option value=\"dozen\">Dozen</option>\n                  <option value=\"piece\">Piece</option>\n                  <option value=\"grams\">Grams</option>\n                  <option value=\"ml\">ML</option>\n                  <option value=\"quintal\">Quintal</option>\n                  <option value=\"ton\">Ton</option>\n                  <option value=\"box\">Box</option>\n                  <option value=\"bag\">Bag</option>\n                </select>\n              </div>\n              <input\n                type=\"number\"\n                placeholder=\"Total quantity available\"\n                value={newProduct.quantity}\n                onChange={(e) => setNewProduct({...newProduct, quantity: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n              />\n              <textarea\n                placeholder=\"Description\"\n                value={newProduct.description}\n                onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n                rows=\"3\"\n              />\n              \n              {/* Product Type Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Product Type\n                </label>\n                <div className=\"flex gap-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"productType\"\n                      value=\"organic\"\n                      checked={newProduct.isOrganic}\n                      onChange={() => handleOrganicChange(true)}\n                      className=\"mr-2\"\n                    />\n                    Organic\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"productType\"\n                      value=\"non-organic\"\n                      checked={!newProduct.isOrganic}\n                      onChange={() => handleOrganicChange(false)}\n                      className=\"mr-2\"\n                    />\n                    Non-Organic\n                  </label>\n                </div>\n              </div>\n\n              {/* Category Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Product Category\n                </label>\n                <select\n                  value={newProduct.category}\n                  onChange={(e) => setNewProduct({...newProduct, category: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                >\n                  <option value=\"vegetables\">Vegetables</option>\n                  <option value=\"fruits\">Fruits</option>\n                  <option value=\"grains\">Grains</option>\n                  <option value=\"dairy\">Dairy Products</option>\n                  <option value=\"nuts\">Nuts & Flours</option>\n                  <option value=\"other\">Other Materials</option>\n                </select>\n              </div>\n\n              {/* Image Upload */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Product Image (Optional)\n                </label>\n                <ImageUpload\n                  onImageSelect={(imageData) => setNewProduct({...newProduct, image: imageData})}\n                  currentImage={newProduct.image}\n                  onRemoveImage={() => setNewProduct({...newProduct, image: ''})}\n                />\n              </div>\n              \n              {/* FSSAI Verification - Only for Non-Organic Products */}\n              {!newProduct.isOrganic && (\n                <div className=\"space-y-3\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      FSSAI License Number (Required for Non-Organic Products)\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter FSSAI license number\"\n                        value={newProduct.licenseNumber}\n                        onChange={(e) => setNewProduct({...newProduct, licenseNumber: e.target.value})}\n                        className=\"flex-1 p-2 border rounded\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={handleVerifyLicense}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                      >\n                        Verify\n                      </button>\n                    </div>\n                    {newProduct.isVerified && (\n                      <p className=\"text-sm text-green-600 mt-1 flex items-center gap-1\">\n                        <CheckCircle className=\"w-4 h-4\" />\n                        License verified successfully\n                      </p>\n                    )}\n                    {newProduct.licenseNumber && !newProduct.isVerified && (\n                      <p className=\"text-sm text-yellow-600 mt-1 flex items-center gap-1\">\n                        <AlertCircle className=\"w-4 h-4\" />\n                        Please verify your license number\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n              \n              {/* Organic Products Info */}\n              {newProduct.isOrganic && (\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                  <p className=\"text-sm text-green-800\">\n                    <CheckCircle className=\"w-4 h-4 inline mr-1\" />\n                    Organic products do not require FSSAI verification\n                  </p>\n                </div>\n              )}\n            </div>\n            <div className=\"flex gap-2 mt-6\">\n              <button \n                onClick={editingProduct ? handleUpdateProduct : handleAddProduct} \n                className=\"btn-primary flex-1 flex items-center justify-center gap-2\"\n              >\n                {editingProduct ? <Save className=\"w-4 h-4\" /> : <Plus className=\"w-4 h-4\" />}\n                {editingProduct ? 'Update Product' : 'Add Product'}\n              </button>\n              <button \n                onClick={() => {\n                  setShowAddProduct(false)\n                  setEditingProduct(null)\n                  setNewProduct({\n                    name: '',\n                    price: '',\n                    quantity: '',\n                    description: '',\n                    image: '',\n                    isOrganic: false,\n                    licenseNumber: '',\n                    isVerified: false\n                  })\n                }} \n                className=\"btn-secondary flex-1\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Flash Sale Modal */}\n      {showAddFlashSale && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">\n                {editingFlashSale ? 'Edit Flash Sale' : 'Create Flash Sale'}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowAddFlashSale(false)\n                  setEditingFlashSale(null)\n                  setNewFlashSale({\n                    product: '',\n                    oldPrice: '',\n                    newPrice: '',\n                    discount: '',\n                    totalQuantity: '',\n                    durationHours: '',\n                    durationMinutes: '',\n                    image: ''\n                  })\n                }}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                value={newFlashSale.product}\n                onChange={(e) => setNewFlashSale({...newFlashSale, product: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Original Price\"\n                value={newFlashSale.oldPrice}\n                onChange={(e) => setNewFlashSale({...newFlashSale, oldPrice: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Sale Price\"\n                value={newFlashSale.newPrice}\n                onChange={(e) => setNewFlashSale({...newFlashSale, newPrice: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Discount %\"\n                value={newFlashSale.discount}\n                onChange={(e) => setNewFlashSale({...newFlashSale, discount: e.target.value})}\n                className=\"w-full p-2 border rounded\"\n              />\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"number\"\n                  placeholder=\"Total Quantity\"\n                  value={newFlashSale.totalQuantity}\n                  onChange={(e) => setNewFlashSale({...newFlashSale, totalQuantity: e.target.value})}\n                  className=\"flex-1 p-2 border rounded\"\n                />\n                <select\n                  value={newFlashSale.quantityUnit}\n                  onChange={(e) => setNewFlashSale({...newFlashSale, quantityUnit: e.target.value})}\n                  className=\"w-20 p-2 border rounded\"\n                >\n                  <option value=\"kg\">Kg</option>\n                  <option value=\"g\">g</option>\n                  <option value=\"litre\">L</option>\n                  <option value=\"ml\">mL</option>\n                  <option value=\"piece\">Pc</option>\n                  <option value=\"dozen\">Dz</option>\n                  <option value=\"box\">Box</option>\n                  <option value=\"bag\">Bag</option>\n                  <option value=\"quintal\">Q</option>\n                  <option value=\"ton\">Ton</option>\n                </select>\n              </div>\n              <div className=\"grid grid-cols-3 gap-2\">\n                <input\n                  type=\"number\"\n                  placeholder=\"Days\"\n                  value={newFlashSale.durationDays}\n                  onChange={e => setNewFlashSale({ ...newFlashSale, durationDays: e.target.value })}\n                  className=\"p-2 border rounded\"\n                />\n                <input\n                  type=\"number\"\n                  placeholder=\"Hours\"\n                  value={newFlashSale.durationHours}\n                  onChange={e => setNewFlashSale({ ...newFlashSale, durationHours: e.target.value })}\n                  className=\"p-2 border rounded\"\n                />\n                <input\n                  type=\"number\"\n                  placeholder=\"Minutes\"\n                  value={newFlashSale.durationMinutes}\n                  onChange={e => setNewFlashSale({ ...newFlashSale, durationMinutes: e.target.value })}\n                  className=\"p-2 border rounded\"\n                />\n              </div>\n              \n              {/* Flash Sale Image Upload */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Product Image (Optional)\n                </label>\n                <ImageUpload\n                  onImageSelect={(imageData) => setNewFlashSale({...newFlashSale, image: imageData})}\n                  currentImage={newFlashSale.image}\n                  onRemoveImage={() => setNewFlashSale({...newFlashSale, image: ''})}\n                />\n              </div>\n            </div>\n            <div className=\"flex gap-2 mt-6\">\n              <button \n                onClick={editingFlashSale ? handleUpdateFlashSale : handleAddFlashSale} \n                className=\"btn-primary flex-1\"\n              >\n                {editingFlashSale ? 'Update Sale' : 'Create Sale'}\n              </button>\n              <button \n                onClick={() => {\n                  setShowAddFlashSale(false)\n                  setEditingFlashSale(null)\n                  setNewFlashSale({\n                    product: '',\n                    oldPrice: '',\n                    newPrice: '',\n                    discount: '',\n                    totalQuantity: '',\n                    durationHours: '',\n                    durationMinutes: '',\n                    image: ''\n                  })\n                }} \n                className=\"btn-secondary flex-1\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n ","size_bytes":52142},"src/pages/SupplierFinder.jsx":{"content":"import React, { useState, useEffect, useRef } from 'react'\nimport { useCart } from '../contexts/CartContext'\nimport { MapPin, Star, Search, Filter, Map, ShoppingCart, MessageSquare } from 'lucide-react'\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet'\nimport { useNavigate } from 'react-router-dom'\nimport 'leaflet/dist/leaflet.css'\nimport NearbySuppliers from '../components/SupplierFinder/NearbySuppliers'\nimport TrustScore from '../components/Rating/TrustScore'\nimport Negotiation from '../components/Bargain/Negotiation'\nimport ReviewSystem from '../components/Rating/ReviewSystem'\nimport { generateNearbySuppliers, calculateDistance, getRegionFromCoordinates } from '../data/suppliersDatabase'\nimport realTimeSync from '../utils/realTimeSync'\n\n// Fix for default markers in react-leaflet\nimport L from 'leaflet'\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n})\n\nconst SupplierFinder = () => {\n  const { cart, addToCart, removeFromCart, updateQuantity, getCartTotal, getCartCount } = useCart()\n  const navigate = useNavigate()\n  const [search, setSearch] = useState('')\n  const [radius, setRadius] = useState(0)\n  const [organicOnly, setOrganicOnly] = useState(false)\n  const [verifiedOnly, setVerifiedOnly] = useState(false)\n  const [minRating, setMinRating] = useState(0)\n  const [maxPrice, setMaxPrice] = useState(100)\n  const [minPrice, setMinPrice] = useState(0)\n  const [viewMode, setViewMode] = useState('map') // 'list' or 'map' - default to map\n  const [selectedSupplier, setSelectedSupplier] = useState(null)\n  const [showFilters, setShowFilters] = useState(false)\n  const [userLocation, setUserLocation] = useState(null)\n  const [showBargain, setShowBargain] = useState(false)\n  const [isGettingLocation, setIsGettingLocation] = useState(false)\n  const [suppliers, setSuppliers] = useState([])\n  const [locationDetected, setLocationDetected] = useState(false)\n  const [error, setError] = useState(null) // Add error state\n  const [showReviews, setShowReviews] = useState(false)\n  const [selectedSupplierForReview, setSelectedSupplierForReview] = useState(null)\n  const [showProductsModal, setShowProductsModal] = useState(false)\n  const [selectedSupplierForProducts, setSelectedSupplierForProducts] = useState(null)\n  const mapRef = useRef(null)\n\n  // Add debugging for suppliers array\n  useEffect(() => {\n    console.log('Suppliers state updated:', suppliers)\n    console.log('Location detected:', locationDetected)\n  }, [suppliers, locationDetected])\n\n  // Regenerate suppliers when radius changes and location is detected\n  useEffect(() => {\n    if (userLocation && locationDetected) {\n      const nearbySuppliers = generateNearbySuppliers(userLocation.lat, userLocation.lng, radius)\n      setSuppliers(nearbySuppliers || [])\n    }\n  }, [radius, userLocation, locationDetected])\n\n  // Subscribe to product updates to refresh suppliers when products are added\n  useEffect(() => {\n    const unsubscribe = realTimeSync.subscribe('product_update', (data) => {\n      console.log('Product update received in SupplierFinder:', data)\n      if (userLocation && locationDetected) {\n        const nearbySuppliers = generateNearbySuppliers(userLocation.lat, userLocation.lng, radius)\n        setSuppliers(nearbySuppliers || [])\n      }\n    })\n    \n    return () => {\n      unsubscribe()\n    }\n  }, [userLocation, locationDetected, radius])\n\n  // Helper function to safely extract price\n  const extractPrice = (priceString) => {\n    if (!priceString) return 0\n    const match = priceString.toString().match(/\\d+/)\n    return match ? parseInt(match[0]) : 0\n  }\n\n  // Helper function to get minimum product price\n  const getMinProductPrice = (products) => {\n    if (!products || !Array.isArray(products) || products.length === 0) return 0\n    \n    const prices = products.map(p => {\n      // Handle different product structures\n      if (typeof p === 'object' && p.price) {\n        return extractPrice(p.price)\n      } else if (typeof p === 'string') {\n        // If product is just a string, return 0 as we don't have price info\n        return 0\n      }\n      return 0\n    }).filter(price => price > 0)\n    \n    return prices.length > 0 ? Math.min(...prices) : 0\n  }\n\n  const filteredSuppliers = suppliers.filter(supplier => {\n    try {\n      // Validate supplier object structure\n      if (!supplier || !supplier.name || !supplier.products || !Array.isArray(supplier.products)) {\n        console.warn('Invalid supplier object:', supplier)\n        return false\n      }\n\n      const nameMatches = supplier.name.toLowerCase().includes(search.toLowerCase())\n      const organicMatches = !organicOnly || supplier.organic\n      const verifiedMatches = !verifiedOnly || supplier.fssaiVerified\n      const ratingMatches = (supplier.rating || 0) >= minRating\n      \n      // Extract price from supplier.price (e.g., \"â‚¹40/kg\" -> 40)\n      const price = extractPrice(supplier.price)\n      const priceMatches = price >= minPrice && price <= maxPrice\n      \n      // Calculate distance if user location is available\n      let distanceMatches = true\n      if (userLocation && supplier.coordinates && Array.isArray(supplier.coordinates) && supplier.coordinates.length >= 2) {\n        const distance = calculateDistance(\n          userLocation.lat,\n          userLocation.lng,\n          supplier.coordinates[0],\n          supplier.coordinates[1]\n        )\n        distanceMatches = distance <= radius\n      } else {\n        // If no user location, use the default distance\n        const supplierDistance = supplier.distance || 0\n        distanceMatches = supplierDistance <= radius\n      }\n      \n      return nameMatches && distanceMatches && organicMatches && verifiedMatches && ratingMatches && priceMatches\n    } catch (error) {\n      console.error('Error filtering supplier:', supplier, error)\n      return false\n    }\n  })\n\n  const getLocation = async () => {\n    console.log('getLocation called')\n    setIsGettingLocation(true)\n    setError(null)\n    // DON'T clear suppliers here - keep existing ones until new ones arrive\n    \n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser.')\n      setIsGettingLocation(false)\n      return\n    }\n\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 60000\n        })\n      })\n\n      const newLocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      }\n      \n      console.log('New location obtained:', newLocation)\n      setUserLocation(newLocation)\n      \n      // Update map center to user location\n      if (mapRef.current && mapRef.current._map) {\n        mapRef.current._map.setView([newLocation.lat, newLocation.lng], 12)\n      }\n      \n      // Generate nearby suppliers based on user location\n      const nearbySuppliers = generateNearbySuppliers(newLocation.lat, newLocation.lng, radius)\n      console.log('Generated suppliers:', nearbySuppliers)\n      console.log('First supplier structure:', nearbySuppliers[0])\n      \n      if (!nearbySuppliers || nearbySuppliers.length === 0) {\n        console.warn('No suppliers generated')\n        setError('No suppliers found in your area. Try increasing the search radius.')\n      }\n      \n      // Set suppliers and location detected together\n      setSuppliers(nearbySuppliers || [])\n      setLocationDetected(true)\n      \n      // Show success message\n      const region = getRegionFromCoordinates(newLocation.lat, newLocation.lng)\n      const regionName = {\n        mumbai: 'Mumbai',\n        naviMumbai: 'Navi Mumbai', \n        thane: 'Thane',\n        pune: 'Pune',\n        default: 'your area'\n      }[region]\n      \n      alert(`Location detected in ${regionName}! Found ${nearbySuppliers?.length || 0} suppliers within ${radius}km of your location.`)\n      \n    } catch (error) {\n      console.error('Error getting location:', error)\n      let errorMessage = 'Unable to get your location. '\n      \n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage += 'Please allow location access in your browser.'\n          break\n        case error.POSITION_UNAVAILABLE:\n          errorMessage += 'Location information is unavailable.'\n          break\n        case error.TIMEOUT:\n          errorMessage += 'Location request timed out.'\n          break\n        default:\n          errorMessage += 'Please check your browser permissions.'\n          break\n      }\n      \n      setError(errorMessage)\n      alert(errorMessage)\n    } finally {\n      setIsGettingLocation(false)\n    }\n  }\n\n  // Update suppliers when radius changes and location is detected\n  useEffect(() => {\n    if (userLocation && locationDetected) {\n      console.log('Updating suppliers due to radius change:', radius)\n      const nearbySuppliers = generateNearbySuppliers(userLocation.lat, userLocation.lng, radius)\n      setSuppliers(nearbySuppliers || [])\n    }\n  }, [radius, userLocation, locationDetected])\n\n  const handleAddToCart = (supplier) => {\n    try {\n      if (!supplier || !supplier.products || !Array.isArray(supplier.products) || supplier.products.length === 0) {\n        alert('No products available from this supplier')\n        return\n      }\n\n      // Add all products from the supplier to cart\n      let addedCount = 0\n      supplier.products.forEach(product => {\n        if (product) {\n          // Handle both string products and object products\n          const productName = typeof product === 'string' ? product : product.name\n          const productPrice = typeof product === 'string' ? supplier.price : (product.price || supplier.price)\n          \n          const cartItem = {\n            id: `${supplier.id}_${productName}`,\n            name: productName,\n            price: productPrice || 'â‚¹0',\n            image: typeof product === 'object' ? (product.image || '') : '',\n            supplier: supplier.name,\n            quantity: 1\n          }\n          addToCart(cartItem)\n          addedCount++\n        }\n      })\n      \n      // Show success message instead of navigating away\n      alert(`${addedCount} products from ${supplier.name} added to cart!`)\n      \n    } catch (error) {\n      console.error('Error adding to cart:', error)\n      alert('Error adding products to cart')\n    }\n  }\n\n  const startBargain = (supplier) => {\n    setSelectedSupplier(supplier)\n    setShowBargain(true)\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-12 px-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-primary-600\">Supplier Finder</h1>\n      </div>\n\n      {/* Error Display - only show if no suppliers found */}\n      {error && filteredSuppliers.length === 0 && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-red-800 font-medium\">Error</span>\n          </div>\n          <p className=\"text-red-700 text-sm mt-1\">{error}</p>\n        </div>\n      )}\n\n      {/* Location Status */}\n      {!locationDetected && !isGettingLocation && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-blue-600\" />\n            <span className=\"text-blue-800 font-medium\">Location Not Detected</span>\n          </div>\n          <p className=\"text-blue-700 text-sm mt-1\">\n            Click \"Get My Location\" to find nearby suppliers in your area\n          </p>\n        </div>\n      )}\n      \n      {userLocation && locationDetected && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-green-600\" />\n            <span className=\"text-green-800 font-medium\">Location Active</span>\n            <span className=\"text-green-600 text-sm\">\n              ({userLocation.lat.toFixed(4)}, {userLocation.lng.toFixed(4)})\n            </span>\n          </div>\n          <p className=\"text-green-700 text-sm mt-1\">\n            Found {suppliers.length} suppliers within {radius}km of your location\n          </p>\n        </div>\n      )}\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex flex-col md:flex-row gap-4 mb-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search suppliers\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n              className=\"input-field pl-10\"\n            />\n          </div>\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className=\"btn-secondary flex items-center gap-2\"\n          >\n            <Filter className=\"w-4 h-4\" />\n            Filter\n          </button>\n          <button\n            onClick={getLocation}\n            disabled={isGettingLocation}\n            className={`btn-primary flex items-center gap-2 ${isGettingLocation ? 'opacity-50 cursor-not-allowed' : ''}`}\n          >\n            <MapPin className=\"w-4 h-4\" />\n            {isGettingLocation ? 'Getting Location...' : 'Get My Location'}\n          </button>\n        </div>\n\n        {showFilters && (\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4 pt-4 border-t\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Radius ({radius} km)\n              </label>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={() => setRadius(Math.max(0, radius - 1))}\n                  className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium\"\n                >\n                  -\n                </button>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"25\"\n                  value={radius}\n                  onChange={e => setRadius(Number(e.target.value))}\n                  className=\"flex-1\"\n                />\n                <button\n                  onClick={() => setRadius(Math.min(25, radius + 1))}\n                  className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium\"\n                >\n                  +\n                </button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Min Rating\n              </label>\n              <select\n                value={minRating}\n                onChange={e => setMinRating(Number(e.target.value))}\n                className=\"input-field\"\n              >\n                <option value={0}>Any Rating</option>\n                <option value={3}>3+ Rating</option>\n                <option value={4}>4+ Rating</option>\n                <option value={4.5}>4.5+ Rating</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Min Price (â‚¹/kg)\n              </label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"200\"\n                value={minPrice}\n                onChange={e => setMinPrice(Number(e.target.value))}\n                className=\"input-field\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Max Price (â‚¹/kg)\n              </label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"200\"\n                value={maxPrice}\n                onChange={e => setMaxPrice(Number(e.target.value))}\n                className=\"input-field\"\n                placeholder=\"100\"\n              />\n            </div>\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"organic\"\n                checked={organicOnly}\n                onChange={e => setOrganicOnly(e.target.checked)}\n                className=\"mr-2\"\n              />\n              <label htmlFor=\"organic\">Organic Only</label>\n            </div>\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"verified\"\n                checked={verifiedOnly}\n                onChange={e => setVerifiedOnly(e.target.checked)}\n                className=\"mr-2\"\n              />\n              <label htmlFor=\"verified\">Verified Only</label>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Results */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Map View */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"bg-white rounded-lg shadow-md p-4\">\n            {!locationDetected && !isGettingLocation && (\n              <div className=\"h-96 flex items-center justify-center bg-gray-50 rounded-lg\">\n                <div className=\"text-center\">\n                  <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-600 mb-2\">No Location Detected</h3>\n                  <p className=\"text-gray-500 mb-4\">Please click \"Get My Location\" to view suppliers on the map</p>\n                </div>\n              </div>\n            )}\n            \n            {isGettingLocation && (\n              <div className=\"h-96 flex items-center justify-center bg-gray-50 rounded-lg\">\n                <div className=\"text-center\">\n                  <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n                  <h3 className=\"text-lg font-medium text-gray-600 mb-2\">Detecting Your Location...</h3>\n                  <p className=\"text-gray-500\">Please allow location access in your browser</p>\n                </div>\n              </div>\n            )}\n            \n            {locationDetected && (\n              <div className=\"relative\">\n                {/* Map Controls - Keep only location center button */}\n                <div className=\"absolute top-4 left-4 z-[1000] bg-white rounded-lg shadow-lg p-2\">\n                  <button \n                    onClick={() => {\n                      if (userLocation && mapRef.current) {\n                        mapRef.current.setView([userLocation.lat, userLocation.lng], 13)\n                      }\n                    }}\n                    className=\"w-8 h-8 bg-white border border-gray-300 rounded flex items-center justify-center hover:bg-gray-50 transition-colors\"\n                    title=\"Center on your location\"\n                  >\n                    ðŸ“\n                  </button>\n                </div>\n                \n                {/* Map Info */}\n                <div className=\"absolute top-4 right-4 z-[1000] bg-white rounded-lg shadow-lg p-3\">\n                  <div className=\"text-sm\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\n                      <span>Your Location</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                      <span>Suppliers ({filteredSuppliers.length})</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-3 h-3 bg-blue-500 rounded-full opacity-20\"></div>\n                      <span>Search Radius ({radius}km)</span>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"h-[600px] rounded-lg overflow-hidden border\">\n                  <MapContainer \n                    ref={mapRef}\n                    center={userLocation ? [userLocation.lat, userLocation.lng] : [19.0760, 72.8777]} \n                    zoom={userLocation ? 13 : 10} \n                    style={{ height: '100%', width: '100%' }}\n                    scrollWheelZoom={true}\n                  >\n                    <TileLayer\n                      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                      attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                    />\n                    \n                    {/* User Location Marker with Blue Circle */}\n                    {userLocation && (\n                      <>\n                        <Marker \n                          position={[userLocation.lat, userLocation.lng]}\n                          icon={L.divIcon({\n                            className: 'custom-div-icon',\n                            html: '<div style=\"background-color: #3B82F6; width: 24px; height: 24px; border-radius: 50%; border: 4px solid white; box-shadow: 0 0 15px rgba(59,130,246,0.5); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 12px;\">ðŸ“</div>',\n                            iconSize: [24, 24],\n                            iconAnchor: [12, 12]\n                          })}\n                        >\n                          <Popup>\n                            <div className=\"text-center\">\n                              <h3 className=\"font-bold text-blue-600\">ðŸ“ Your Location</h3>\n                              <p className=\"text-sm text-gray-600\">Lat: {userLocation.lat.toFixed(6)}</p>\n                              <p className=\"text-sm text-gray-600\">Lng: {userLocation.lng.toFixed(6)}</p>\n                            </div>\n                          </Popup>\n                        </Marker>\n                        \n                        {/* Search Radius Circle */}\n                        <Circle\n                          center={[userLocation.lat, userLocation.lng]}\n                          radius={radius * 1000}\n                          pathOptions={{\n                            color: '#3B82F6',\n                            fillColor: '#3B82F6',\n                            fillOpacity: 0.1,\n                            weight: 2\n                          }}\n                        />\n                      </>\n                    )}\n                    \n                    {/* Supplier Markers */}\n                    {filteredSuppliers.map(supplier => {\n                      // Calculate actual distance if user location is available\n                      let actualDistance = supplier.distance || 0\n                      if (userLocation && supplier.coordinates && supplier.coordinates.length >= 2) {\n                        actualDistance = calculateDistance(\n                          userLocation.lat,\n                          userLocation.lng,\n                          supplier.coordinates[0],\n                          supplier.coordinates[1]\n                        )\n                      }\n                      \n                      return (\n                        <Marker \n                          key={supplier.id} \n                          position={supplier.coordinates}\n                          icon={L.divIcon({\n                            className: 'supplier-marker',\n                            html: `<div style=\"background-color: #10B981; width: 32px; height: 32px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 10px rgba(16,185,129,0.5); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px;\">ðŸª</div>`,\n                            iconSize: [32, 32],\n                            iconAnchor: [16, 16]\n                          })}\n                        >\n                          <Popup>\n                            <div className=\"min-w-[250px] max-w-[300px]\">\n                              <div className=\"flex items-center gap-2 mb-2\">\n                                <h3 className=\"font-bold text-lg text-green-600\">{supplier.name}</h3>\n                                {supplier.fssaiVerified && (\n                                  <span className=\"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">FSSAI</span>\n                                )}\n                                {supplier.organic && (\n                                  <span className=\"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\">Organic</span>\n                                )}\n                              </div>\n                              \n                              <div className=\"space-y-2 text-sm\">\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-yellow-500\">â­</span>\n                                  <span><strong>Rating:</strong> {supplier.rating || 'N/A'}</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-blue-500\">ðŸ“</span>\n                                  <span><strong>Distance:</strong> {actualDistance.toFixed(1)} km</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-green-500\">ðŸ’°</span>\n                                  <span><strong>Starting from:</strong> â‚¹{getMinProductPrice(supplier.products) || extractPrice(supplier.price) || 'N/A'}/kg</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-gray-500\">ðŸ </span>\n                                  <span><strong>Location:</strong> {supplier.location || supplier.address || 'Location not specified'}</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-orange-500\">ðŸ›’</span>\n                                  <span><strong>Products:</strong> {supplier.products && supplier.products.length > 0 \n                                    ? supplier.products.slice(0, 3).map(p => typeof p === 'object' ? p.name : p).filter(name => name && name.trim()).join(', ')\n                                    : 'No products listed'\n                                  }</span>\n                                </div>\n                              </div>\n                              \n                              <div className=\"mt-4 space-y-2\">\n                                <button \n                                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 rounded transition-colors flex items-center gap-1 justify-center\"\n                                  onClick={() => {\n                                    setSelectedSupplierForProducts(supplier)\n                                    setShowProductsModal(true)\n                                  }}\n                                >\n                                  <span>ðŸ“¦</span>\n                                  Show Products\n                                </button>\n                                <button \n                                  className=\"w-full bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded transition-colors\"\n                                >\n                                  Bargain\n                                </button>\n                              </div>\n                            </div>\n                          </Popup>\n                        </Marker>\n                      )\n                    })}\n                  </MapContainer>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Supplier List */}\n          {locationDetected && filteredSuppliers.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Nearby Suppliers ({filteredSuppliers.length})</h3>\n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {filteredSuppliers.map(supplier => {\n                  // Calculate actual distance if user location is available\n                  let actualDistance = supplier.distance || 0\n                  if (userLocation && supplier.coordinates && supplier.coordinates.length >= 2) {\n                    actualDistance = calculateDistance(\n                      userLocation.lat,\n                      userLocation.lng,\n                      supplier.coordinates[0],\n                      supplier.coordinates[1]\n                    )\n                  }\n                  \n                  return (\n                    <div key={supplier.id} className=\"border rounded-lg p-3 hover:bg-gray-50 transition-colors\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-medium text-gray-900\">{supplier.name}</h4>\n                          <p className=\"text-sm text-gray-600\">{supplier.location}</p>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          {supplier.fssaiVerified && (\n                            <span className=\"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">FSSAI</span>\n                          )}\n                          {supplier.organic && (\n                            <span className=\"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\">Organic</span>\n                          )}\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-2 text-sm mb-3\">\n                        <div className=\"flex items-center gap-1\">\n                          <span className=\"text-yellow-500\">â­</span>\n                          <span>{supplier.rating || 'N/A'}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <span className=\"text-blue-500\">ðŸ“</span>\n                          <span>{actualDistance.toFixed(1)} km</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <span className=\"text-green-500\">ðŸ’°</span>\n                          <span>â‚¹{getMinProductPrice(supplier.products) || extractPrice(supplier.price) || 'N/A'}/kg</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <span className=\"text-orange-500\">ðŸ›’</span>\n                          <span>{supplier.products?.length || 0} products</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex gap-2\">\n                        <button \n                          className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 rounded transition-colors flex items-center gap-1 justify-center\"\n                          onClick={() => {\n                            setSelectedSupplierForProducts(supplier)\n                            setShowProductsModal(true)\n                          }}\n                        >\n                          <span>ðŸ“¦</span>\n                          Show Products\n                        </button>\n                        <button \n                          className=\"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded transition-colors\"\n                        >\n                          Bargain\n                        </button>\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          )}\n\n          {/* Selected Supplier Details */}\n          {selectedSupplier && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Supplier Details</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-medium\">{selectedSupplier.name}</h4>\n                  <p className=\"text-sm text-gray-600\">{selectedSupplier.location}</p>\n                </div>\n                \n                {/* Trust Score Component */}\n                <TrustScore supplierId={selectedSupplier.id} />\n                \n                {/* Negotiation Component */}\n                {showBargain && selectedSupplier && (\n                  <Negotiation \n                    initialOffer={parseInt(selectedSupplier.price.replace(/[^\\d]/g, ''))} \n                  />\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Products Modal - SHOWING ONLY PRODUCTS, NO REVIEWS */}\n      {showProductsModal && selectedSupplierForProducts && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            \n            {/* Header - Only supplier name */}\n            <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\n              <h3 className=\"text-xl font-bold text-gray-800\">\n                ðŸ“¦ Products from {selectedSupplierForProducts.name}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowProductsModal(false)\n                  setSelectedSupplierForProducts(null)\n                }}\n                className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            {/* ONLY PRODUCTS - NO REVIEWS, NO SUPPLIER INFO */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                ðŸ›ï¸ Available Products\n              </h4>\n              \n              {/* Force display products - either real ones or fallback */}\n              <div className=\"space-y-3\">\n                {/* Try to show real products first */}\n                {selectedSupplierForProducts.products && \n                 Array.isArray(selectedSupplierForProducts.products) && \n                 selectedSupplierForProducts.products.length > 0 ? (\n                  \n                  selectedSupplierForProducts.products.map((product, index) => (\n                    <div key={index} className=\"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"text-3xl\">{product.image || 'ðŸ¥¬'}</span>\n                          <div>\n                            <h5 className=\"text-lg font-bold text-gray-800\">{product.name || 'Fresh Produce'}</h5>\n                            <p className=\"text-sm text-gray-600\">Premium quality, fresh from farm</p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"text-right\">\n                            <p className=\"text-2xl font-bold text-green-600\">{product.price || 'â‚¹50/kg'}</p>\n                            <p className=\"text-xs text-gray-500\">per kilogram</p>\n                          </div>\n                          <button \n                            className=\"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors\"\n                            onClick={() => {\n                              alert(`${product.name || 'Product'} added to cart!`)\n                            }}\n                          >\n                            ðŸ›’ Add\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                  \n                ) : (\n                  \n                  /* Fallback products - ACTUAL INDIAN VENDOR PRODUCTS (no tea/coffee) */\n                  [\n                    { name: 'Fresh Tomatoes', price: 'â‚¹45/kg', image: 'ðŸ…' },\n                    { name: 'Organic Onions', price: 'â‚¹35/kg', image: 'ðŸ§…' },\n                    { name: 'Premium Potatoes', price: 'â‚¹30/kg', image: 'ðŸ¥”' },\n                    { name: 'Fresh Carrots', price: 'â‚¹40/kg', image: 'ðŸ¥•' },\n                    { name: 'Local Spinach', price: 'â‚¹50/kg', image: 'ðŸ¥¬' },\n                    { name: 'Green Peas', price: 'â‚¹60/kg', image: 'ðŸ«›' },\n                    { name: 'Cauliflower', price: 'â‚¹25/kg', image: 'ðŸ¥¦' },\n                    { name: 'Brinjal (Eggplant)', price: 'â‚¹40/kg', image: 'ðŸ†' },\n                    { name: 'Cucumber', price: 'â‚¹30/kg', image: 'ðŸ¥’' },\n                    { name: 'Bell Peppers', price: 'â‚¹80/kg', image: 'ðŸ«‘' },\n                    { name: 'Ginger', price: 'â‚¹120/kg', image: 'ðŸ«˜' },\n                    { name: 'Garlic', price: 'â‚¹100/kg', image: 'ðŸ§„' },\n                    { name: 'Coriander Leaves', price: 'â‚¹40/kg', image: 'ðŸŒ¿' },\n                    { name: 'Mint Leaves', price: 'â‚¹60/kg', image: 'ðŸŒ±' },\n                    { name: 'Lemon', price: 'â‚¹80/kg', image: 'ðŸ‹' }\n                  ].map((product, index) => (\n                    <div key={index} className=\"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"text-3xl\">{product.image}</span>\n                          <div>\n                            <h5 className=\"text-lg font-bold text-gray-800\">{product.name}</h5>\n                            <p className=\"text-sm text-gray-600\">Premium quality, fresh from farm</p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"text-right\">\n                            <p className=\"text-2xl font-bold text-green-600\">{product.price}</p>\n                            <p className=\"text-xs text-gray-500\">per kilogram</p>\n                          </div>\n                          <button \n                            className=\"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors\"\n                            onClick={() => {\n                              alert(`${product.name} added to cart!`)\n                            }}\n                          >\n                            ðŸ›’ Add\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* Action Button */}\n            <div className=\"border-t pt-4\">\n              <button \n                className=\"w-full px-6 py-3 bg-green-600 text-white text-lg font-bold rounded-lg hover:bg-green-700 transition-colors shadow-lg\"\n                onClick={() => {\n                  // Add to cart functionality\n                  alert('Products added to cart!')\n                  setShowProductsModal(false)\n                  setSelectedSupplierForProducts(null)\n                }}\n              >\n                ðŸ›’ Add All Products to Cart\n              </button>\n            </div>\n            \n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SupplierFinder","size_bytes":40544},"src/services/productApi.js":{"content":"// Mock API service for product management\n// Simulates REST API calls with localStorage persistence\n\n// Import will be handled dynamically to avoid circular dependencies\n\nclass ProductAPI {\n  constructor() {\n    this.baseUrl = '/api/products' // Mock API base URL\n    this.storageKey = 'vendorMitraProducts'\n    this.initialize()\n  }\n\n  // Initialize products from localStorage\n  initialize() {\n    const saved = localStorage.getItem(this.storageKey)\n    if (!saved) {\n      // Add sample products for testing\n      const sampleProducts = [\n        {\n          id: 1,\n          name: 'Red Onions',\n          price: 30,\n          quantity: 75,\n          stock: 75,\n          unit: 'kg',\n          supplierId: 2,\n          supplierName: 'Farm Fresh Co',\n          supplierRating: 4.2,\n          category: 'vegetables',\n          description: 'Premium red onions from Farm Fresh Co',\n          isOrganic: false,\n          image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop',\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        }\n      ]\n      localStorage.setItem(this.storageKey, JSON.stringify(sampleProducts))\n    }\n  }\n\n  // Simulate API delay\n  async delay(ms = 100) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n\n  // GET /api/products - Fetch all products\n  async getAllProducts() {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      \n      // Remove duplicates by ID at the API level\n      const uniqueProducts = products.filter((product, index, self) => \n        index === self.findIndex(p => p.id === product.id)\n      )\n      \n      // Save back the cleaned data\n      if (uniqueProducts.length !== products.length) {\n        console.log(`Removed ${products.length - uniqueProducts.length} duplicate products from storage`)\n        localStorage.setItem(this.storageKey, JSON.stringify(uniqueProducts))\n      }\n      return {\n        success: true,\n        data: uniqueProducts,\n        message: 'Products fetched successfully'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: [],\n        message: 'Failed to fetch products',\n        error: error.message\n      }\n    }\n  }\n\n  // GET /api/products/:id - Fetch product by ID\n  async getProductById(id) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const product = products.find(p => p.id === id)\n      \n      if (product) {\n        return {\n          success: true,\n          data: product,\n          message: 'Product fetched successfully'\n        }\n      } else {\n        return {\n          success: false,\n          data: null,\n          message: 'Product not found'\n        }\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to fetch product',\n        error: error.message\n      }\n    }\n  }\n\n  // GET /api/products/supplier/:supplierId - Fetch products by supplier\n  async getProductsBySupplier(supplierId) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const supplierProducts = products.filter(p => p.supplierId === supplierId)\n      \n      return {\n        success: true,\n        data: supplierProducts,\n        message: 'Supplier products fetched successfully'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: [],\n        message: 'Failed to fetch supplier products',\n        error: error.message\n      }\n    }\n  }\n\n  // POST /api/products - Create new product\n  async createProduct(productData) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      \n      // Generate new ID\n      const maxId = products.length > 0 ? Math.max(...products.map(p => p.id)) : 0\n      \n      const newProduct = {\n        id: maxId + 1,\n        ...productData,\n        image: productData.image || 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop',\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      }\n\n      products.push(newProduct)\n      localStorage.setItem(this.storageKey, JSON.stringify(products))\n\n      // Emit real-time sync event\n      this.emitProductUpdate('create', newProduct)\n\n      return {\n        success: true,\n        data: newProduct,\n        message: 'Product created successfully'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to create product',\n        error: error.message\n      }\n    }\n  }\n\n  // PUT /api/products/:id - Update product\n  async updateProduct(id, updates) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const index = products.findIndex(p => p.id === id)\n      \n      if (index === -1) {\n        return {\n          success: false,\n          data: null,\n          message: 'Product not found'\n        }\n      }\n\n      products[index] = {\n        ...products[index],\n        ...updates,\n        updatedAt: new Date().toISOString()\n      }\n\n      localStorage.setItem(this.storageKey, JSON.stringify(products))\n\n      // Emit real-time sync event\n      this.emitProductUpdate('update', products[index])\n\n      return {\n        success: true,\n        data: products[index],\n        message: 'Product updated successfully'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to update product',\n        error: error.message\n      }\n    }\n  }\n\n  // DELETE /api/products/:id - Delete product\n  async deleteProduct(id) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const index = products.findIndex(p => p.id === id)\n      \n      if (index === -1) {\n        return {\n          success: false,\n          data: null,\n          message: 'Product not found'\n        }\n      }\n\n      const deletedProduct = products[index]\n      products.splice(index, 1)\n      localStorage.setItem(this.storageKey, JSON.stringify(products))\n\n      // Emit real-time sync event with proper ID\n      console.log('Emitting delete event for product:', deletedProduct.id)\n      this.emitProductUpdate('delete', deletedProduct)\n\n      return {\n        success: true,\n        data: deletedProduct,\n        message: 'Product deleted successfully'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to delete product',\n        error: error.message\n      }\n    }\n  }\n\n  // Inventory management methods\n  async decreaseStock(productId, quantity) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const index = products.findIndex(p => p.id === productId)\n      \n      if (index === -1) {\n        return {\n          success: false,\n          data: null,\n          message: 'Product not found'\n        }\n      }\n\n      const product = products[index]\n      const currentStock = product.stock || product.quantity || 0\n      \n      if (currentStock < quantity) {\n        return {\n          success: false,\n          data: null,\n          message: `Insufficient stock. Available: ${currentStock}, Requested: ${quantity}`\n        }\n      }\n\n      const newStock = currentStock - quantity\n      products[index] = {\n        ...product,\n        stock: newStock,\n        quantity: newStock,\n        updatedAt: new Date().toISOString()\n      }\n\n      localStorage.setItem(this.storageKey, JSON.stringify(products))\n\n      // Emit real-time sync event for stock update with newStock in detail\n      this.emitProductUpdate('stock_update', { ...products[index], newStock })\n\n      return {\n        success: true,\n        data: products[index],\n        message: `Stock decreased by ${quantity}. New stock: ${newStock}`\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to decrease stock',\n        error: error.message\n      }\n    }\n  }\n\n  async increaseStock(productId, quantity) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const index = products.findIndex(p => p.id === productId)\n      \n      if (index === -1) {\n        return {\n          success: false,\n          data: null,\n          message: 'Product not found'\n        }\n      }\n\n      const product = products[index]\n      const currentStock = product.stock || product.quantity || 0\n      const newStock = currentStock + quantity\n      products[index] = {\n        ...product,\n        stock: newStock,\n        quantity: newStock,\n        updatedAt: new Date().toISOString()\n      }\n\n      localStorage.setItem(this.storageKey, JSON.stringify(products))\n\n      // Emit real-time sync event for stock update with newStock in detail\n      this.emitProductUpdate('stock_update', { ...products[index], newStock })\n\n      return {\n        success: true,\n        data: products[index],\n        message: `Stock increased by ${quantity}. New stock: ${newStock}`\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        message: 'Failed to increase stock',\n        error: error.message\n      }\n    }\n  }\n\n  async getAvailableStock(productId) {\n    await this.delay()\n    try {\n      const products = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n      const product = products.find(p => p.id === productId)\n      \n      if (product) {\n        const stock = product.stock || product.quantity || 0\n        return {\n          success: true,\n          data: { stock },\n          message: 'Stock fetched successfully'\n        }\n      } else {\n        return {\n          success: false,\n          data: { stock: 0 },\n          message: 'Product not found'\n        }\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: { stock: 0 },\n        message: 'Failed to fetch stock',\n        error: error.message\n      }\n    }\n  }\n\n  // Real-time sync event emission\n  emitProductUpdate(action, product) {\n    const event = new CustomEvent('productUpdate', {\n      detail: {\n        action,\n        product,\n        timestamp: Date.now()\n      }\n    })\n    window.dispatchEvent(event)\n\n    // Also use localStorage for cross-tab sync\n    const syncKey = `vendorMitra_sync_product_${Date.now()}`\n    localStorage.setItem(syncKey, JSON.stringify({\n      action,\n      product,\n      timestamp: Date.now()\n    }))\n\n    // Clean up sync key after delay\n    setTimeout(() => {\n      localStorage.removeItem(syncKey)\n    }, 1000)\n  }\n\n  // Subscribe to real-time product updates\n  subscribeToUpdates(callback) {\n    const handleUpdate = (event) => {\n      console.log('ProductAPI subscription received event:', event.detail)\n      callback(event.detail)\n    }\n\n    const handleStorageUpdate = (event) => {\n      if (event.key && event.key.startsWith('vendorMitra_sync_product_')) {\n        const data = JSON.parse(event.newValue)\n        console.log('ProductAPI storage sync received:', data)\n        callback(data)\n      }\n    }\n\n    window.addEventListener('productUpdate', handleUpdate)\n    window.addEventListener('storage', handleStorageUpdate)\n\n    // Return cleanup function\n    return () => {\n      window.removeEventListener('productUpdate', handleUpdate)\n      window.removeEventListener('storage', handleStorageUpdate)\n    }\n  }\n}\n\n// Create singleton instance\nconst productApi = new ProductAPI()\n\nexport default productApi\n","size_bytes":11733},"src/utils/productImages.js":{"content":"// Product Image Utility using Unsplash API\nimport { API_CONFIG, isApiKeyConfigured } from '../config/api.js';\n\n// Cache for storing fetched images\nconst imageCache = new Map();\n\n// Fallback placeholder images for different product types - using reliable, different images\nconst PLACEHOLDER_IMAGES = {\n  default: 'https://picsum.photos/400/300?random=1',\n  vegetables: 'https://picsum.photos/400/300?random=2',\n  fruits: 'https://picsum.photos/400/300?random=3',\n  grains: 'https://picsum.photos/400/300?random=4'\n};\n\n/**\n * Get appropriate placeholder image based on product name\n * @param {string} productName - Name of the product\n * @returns {string} - Placeholder image URL\n */\nfunction getPlaceholderImage(productName) {\n  if (!productName) return PLACEHOLDER_IMAGES.default;\n  \n  const name = productName.toLowerCase().trim();\n  \n  // Vegetable keywords - more comprehensive list\n  const vegetables = [\n    'spinach', 'tomato', 'potato', 'onion', 'carrot', 'cucumber', 'pepper', 'lettuce', \n    'cabbage', 'broccoli', 'cauliflower', 'garlic', 'ginger', 'chili', 'okra', 'eggplant',\n    'zucchini', 'squash', 'pumpkin', 'beetroot', 'radish', 'turnip', 'parsnip', 'celery',\n    'asparagus', 'artichoke', 'brussels', 'kale', 'collard', 'mustard', 'watercress',\n    'arugula', 'endive', 'escarole', 'fennel', 'leek', 'shallot', 'scallion', 'chive'\n  ];\n  \n  // Fruit keywords - more comprehensive list\n  const fruits = [\n    'apple', 'banana', 'orange', 'mango', 'grape', 'strawberry', 'pineapple', 'watermelon',\n    'papaya', 'pear', 'peach', 'plum', 'apricot', 'cherry', 'blueberry', 'raspberry',\n    'blackberry', 'cranberry', 'kiwi', 'pomegranate', 'fig', 'date', 'prune', 'raisin',\n    'currant', 'gooseberry', 'mulberry', 'elderberry', 'boysenberry', 'loganberry'\n  ];\n  \n  // Grain keywords - more comprehensive list\n  const grains = [\n    'rice', 'wheat', 'corn', 'oats', 'barley', 'quinoa', 'millet', 'sorghum', 'rye',\n    'buckwheat', 'amaranth', 'teff', 'spelt', 'kamut', 'farro', 'bulgur', 'couscous'\n  ];\n  \n  // Check if product name contains any vegetable keywords\n  if (vegetables.some(veg => name.includes(veg))) {\n    return PLACEHOLDER_IMAGES.vegetables;\n  }\n  \n  // Check if product name contains any fruit keywords\n  if (fruits.some(fruit => name.includes(fruit))) {\n    return PLACEHOLDER_IMAGES.fruits;\n  }\n  \n  // Check if product name contains any grain keywords\n  if (grains.some(grain => name.includes(grain))) {\n    return PLACEHOLDER_IMAGES.grains;\n  }\n  \n  return PLACEHOLDER_IMAGES.default;\n}\n\n/**\n * Fetch product image from Unsplash API\n * @param {string} productName - Name of the product\n * @returns {Promise<string>} - Image URL\n */\nexport async function getProductImage(productName) {\n  if (!productName || typeof productName !== 'string') {\n    return getPlaceholderImage(productName);\n  }\n\n  // Check cache first\n  const cacheKey = productName.toLowerCase().trim();\n  if (imageCache.has(cacheKey)) {\n    return imageCache.get(cacheKey);\n  }\n\n  try {\n    // If no API key, return appropriate placeholder\n    if (!isApiKeyConfigured()) {\n      console.warn('Unsplash API key not configured. Using placeholder images.');\n      return getPlaceholderImage(productName);\n    }\n\n    // Build search query - add \"food\" or \"vegetable\" for better results\n    const searchQuery = `${productName} food vegetable fruit`;\n    \n    const response = await fetch(\n      `${API_CONFIG.UNSPLASH_API_URL}?query=${encodeURIComponent(searchQuery)}&per_page=${API_CONFIG.IMAGES_PER_REQUEST}&orientation=${API_CONFIG.IMAGE_ORIENTATION}`,\n      {\n        headers: {\n          'Authorization': `Client-ID ${API_CONFIG.UNSPLASH_ACCESS_KEY}`,\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`API request failed: ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    if (data.results && data.results.length > 0) {\n      const imageUrl = data.results[0].urls.regular;\n      \n      // Cache the result\n      imageCache.set(cacheKey, imageUrl);\n      \n      return imageUrl;\n         } else {\n       // No results found, use placeholder\n       const placeholder = getPlaceholderImage(productName);\n       imageCache.set(cacheKey, placeholder);\n       return placeholder;\n     }\n   } catch (error) {\n     console.error('Error fetching product image:', error);\n     \n     // Cache placeholder to avoid repeated failed requests\n     const placeholder = getPlaceholderImage(productName);\n     imageCache.set(cacheKey, placeholder);\n     return placeholder;\n   }\n}\n\n/**\n * Get cached image if available, otherwise return placeholder\n * @param {string} productName - Name of the product\n * @returns {string} - Cached image URL or placeholder\n */\nexport function getCachedProductImage(productName) {\n  if (!productName) return getPlaceholderImage(productName);\n  \n  const cacheKey = productName.toLowerCase().trim();\n  return imageCache.get(cacheKey) || getPlaceholderImage(productName);\n}\n\n/**\n * Clear image cache\n */\nexport function clearImageCache() {\n  imageCache.clear();\n}\n\n/**\n * Get cache statistics\n */\nexport function getCacheStats() {\n  return {\n    size: imageCache.size,\n    keys: Array.from(imageCache.keys())\n  };\n}\n","size_bytes":5184},"src/utils/purchaseHandler.js":{"content":"// Purchase Handler - Updates product stock after vendor purchases\nimport { productDatabase, deliveriesDatabase } from '../data/userDatabase'\nimport realTimeSync from './realTimeSync'\n\n/**\n * Updates product stock after a purchase\n * @param {number} productId - The ID of the product being purchased\n * @param {number} purchasedAmount - The quantity being purchased\n * @param {Object} options - Additional options (vendorId, orderId, etc.)\n * @returns {Object} Result object with success status and updated data\n */\nexport const updateProductStockAfterPurchase = async (productId, purchasedAmount, options = {}) => {\n  try {\n    // Input validation\n    if (!productId || purchasedAmount <= 0) {\n      return {\n        success: false,\n        error: 'Invalid product ID or purchase amount',\n        code: 'INVALID_INPUT'\n      }\n    }\n\n    // Get the current product from database\n    const product = productDatabase.getProductById(productId)\n    if (!product) {\n      return {\n        success: false,\n        error: `Product with ID ${productId} not found`,\n        code: 'PRODUCT_NOT_FOUND'\n      }\n    }\n\n    // Get current stock (support both 'quantity' and 'stock' fields)\n    const currentStock = parseInt(product.quantity || product.stock || 0)\n    const purchaseAmount = parseInt(purchasedAmount)\n\n    console.log(`Processing purchase: Product ${product.name}, Current Stock: ${currentStock}, Purchase Amount: ${purchaseAmount}`)\n\n    // Check if sufficient stock is available\n    if (currentStock < purchaseAmount) {\n      return {\n        success: false,\n        error: `Insufficient stock. Available: ${currentStock}, Requested: ${purchaseAmount}`,\n        code: 'INSUFFICIENT_STOCK',\n        data: {\n          productName: product.name,\n          availableStock: currentStock,\n          requestedAmount: purchaseAmount,\n          shortfall: purchaseAmount - currentStock\n        }\n      }\n    }\n\n    // Calculate new stock (ensure it never goes negative)\n    const newStock = Math.max(0, currentStock - purchaseAmount)\n    \n    console.log(`Stock calculation: ${currentStock} - ${purchaseAmount} = ${newStock}`)\n\n    // Update the product in database\n    const updatedProduct = {\n      ...product,\n      quantity: newStock,\n      stock: newStock, // Update both fields for compatibility\n      availableStock: newStock, // Also update availableStock field\n      lastPurchase: {\n        amount: purchaseAmount,\n        timestamp: new Date().toISOString(),\n        vendorId: options.vendorId,\n        orderId: options.orderId\n      },\n      updatedAt: new Date().toISOString()\n    }\n\n    // Save to database\n    const updateResult = productDatabase.updateProduct(productId, updatedProduct)\n    if (!updateResult) {\n      return {\n        success: false,\n        error: 'Failed to update product in database',\n        code: 'DATABASE_UPDATE_FAILED'\n      }\n    }\n\n    // Emit real-time stock update for cross-tab synchronization\n    realTimeSync.emitStockUpdate('purchase', {\n      productId,\n      productName: product.name,\n      previousStock: currentStock,\n      newStock,\n      quantityPurchased: purchaseAmount,\n      product: updatedProduct,\n      vendorId: options.vendorId,\n      orderId: options.orderId,\n      timestamp: Date.now()\n    })\n\n    // Feature 1: Update supplier deliveries when vendor buys something\n    if (options.vendorId && options.deliveryAddress) {\n      const deliveryData = {\n        customer: options.vendorName || `Vendor ${options.vendorId}`,\n        customerId: options.vendorId,\n        supplier: product.supplierName || `Supplier ${product.supplierId}`,\n        supplierId: product.supplierId,\n        products: [{\n          id: productId,\n          name: product.name,\n          quantity: purchaseAmount,\n          unit: product.unit || 'kg',\n          price: product.price,\n          image: product.image\n        }],\n        totalAmount: product.price * purchaseAmount,\n        paymentMethod: options.paymentMethod || 'UPI',\n        deliveryAddress: options.deliveryAddress,\n        orderDate: new Date().toISOString()\n      }\n      \n      const newDelivery = deliveriesDatabase.addDelivery(deliveryData)\n      console.log('Added delivery to supplier dashboard:', newDelivery)\n      \n      // Feature 2: Update vendor's recent orders in real-time\n      realTimeSync.emitOrderUpdate('new_order', {\n        vendorId: options.vendorId,\n        order: newDelivery\n      })\n    }\n\n    // Log the transaction\n    logPurchaseTransaction({\n      productId,\n      productName: product.name,\n      previousStock: currentStock,\n      newStock,\n      purchaseAmount,\n      vendorId: options.vendorId,\n      orderId: options.orderId,\n      timestamp: new Date().toISOString()\n    })\n\n    return {\n      success: true,\n      data: {\n        productId,\n        productName: product.name,\n        previousStock: currentStock,\n        newStock,\n        purchaseAmount,\n        updatedProduct\n      }\n    }\n\n  } catch (error) {\n    console.error('Error updating product stock after purchase:', error)\n    return {\n      success: false,\n      error: error.message || 'Unknown error occurred',\n      code: 'UNEXPECTED_ERROR'\n    }\n  }\n}\n\n/**\n * Batch update multiple products after purchase\n * @param {Array} purchases - Array of {productId, amount} objects\n * @param {Object} options - Additional options\n * @returns {Object} Result with success/failure details for each product\n */\nexport const batchUpdateStockAfterPurchase = async (purchases, options = {}) => {\n  const results = []\n  let successCount = 0\n  let failureCount = 0\n\n  for (const purchase of purchases) {\n    const result = await updateProductStockAfterPurchase(\n      purchase.productId, \n      purchase.amount, \n      { ...options, ...purchase.options }\n    )\n    \n    results.push({\n      productId: purchase.productId,\n      ...result\n    })\n\n    if (result.success) {\n      successCount++\n    } else {\n      failureCount++\n    }\n  }\n\n  return {\n    success: failureCount === 0,\n    results,\n    summary: {\n      total: purchases.length,\n      successful: successCount,\n      failed: failureCount\n    }\n  }\n}\n\n/**\n * Check if purchase is possible before processing\n * @param {number} productId - Product ID\n * @param {number} requestedAmount - Requested purchase amount\n * @returns {Object} Availability check result\n */\nexport const checkPurchaseAvailability = (productId, requestedAmount) => {\n  try {\n    const product = productDatabase.getProductById(productId)\n    if (!product) {\n      return {\n        available: false,\n        error: 'Product not found'\n      }\n    }\n\n    const currentStock = parseInt(product.quantity || product.stock || 0)\n    const requested = parseInt(requestedAmount || 0)\n\n    return {\n      available: currentStock >= requested,\n      productName: product.name,\n      currentStock,\n      requestedAmount: requested,\n      shortfall: Math.max(0, requested - currentStock)\n    }\n  } catch (error) {\n    return {\n      available: false,\n      error: error.message\n    }\n  }\n}\n\n/**\n * Log purchase transaction for audit trail\n * @param {Object} transaction - Transaction details\n */\nconst logPurchaseTransaction = (transaction) => {\n  try {\n    const logs = JSON.parse(localStorage.getItem('vendorMitraPurchaseLogs') || '[]')\n    logs.push(transaction)\n    \n    // Keep only last 1000 transactions\n    if (logs.length > 1000) {\n      logs.splice(0, logs.length - 1000)\n    }\n    \n    localStorage.setItem('vendorMitraPurchaseLogs', JSON.stringify(logs))\n  } catch (error) {\n    console.warn('Failed to log purchase transaction:', error)\n  }\n}\n\n/**\n * Get purchase transaction history\n * @param {number} productId - Optional product ID filter\n * @param {number} limit - Maximum number of records to return\n * @returns {Array} Transaction history\n */\nexport const getPurchaseHistory = (productId = null, limit = 50) => {\n  try {\n    const logs = JSON.parse(localStorage.getItem('vendorMitraPurchaseLogs') || '[]')\n    let filteredLogs = logs\n\n    if (productId) {\n      filteredLogs = logs.filter(log => log.productId === productId)\n    }\n\n    return filteredLogs\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\n      .slice(0, limit)\n  } catch (error) {\n    console.error('Error getting purchase history:', error)\n    return []\n  }\n}\n\n// Example usage and test cases\nexport const runPurchaseExamples = async () => {\n  console.log('=== Purchase Handler Examples ===')\n  \n  // Example 1: Product A: quantity = 10 â†’ vendor buys 2 â†’ new quantity = 8\n  console.log('\\nExample 1: Normal purchase')\n  const result1 = await updateProductStockAfterPurchase(1, 2, {\n    vendorId: 'vendor_123',\n    orderId: 'ORD_001'\n  })\n  console.log('Result:', result1)\n  \n  // Example 2: Product B: quantity = 20 â†’ vendor buys 5 â†’ new quantity = 15\n  console.log('\\nExample 2: Larger purchase')\n  const result2 = await updateProductStockAfterPurchase(2, 5, {\n    vendorId: 'vendor_456',\n    orderId: 'ORD_002'\n  })\n  console.log('Result:', result2)\n  \n  // Example 3: Insufficient stock scenario\n  console.log('\\nExample 3: Insufficient stock (should fail)')\n  const result3 = await updateProductStockAfterPurchase(1, 100, {\n    vendorId: 'vendor_789',\n    orderId: 'ORD_003'\n  })\n  console.log('Result:', result3)\n  \n  // Example 4: Batch purchase\n  console.log('\\nExample 4: Batch purchase')\n  const batchResult = await batchUpdateStockAfterPurchase([\n    { productId: 1, amount: 1 },\n    { productId: 2, amount: 3 }\n  ], {\n    vendorId: 'vendor_batch',\n    orderId: 'ORD_BATCH'\n  })\n  console.log('Batch Result:', batchResult)\n}\n\nexport default updateProductStockAfterPurchase\n","size_bytes":9611},"src/utils/realTimeSync.js":{"content":"// Real-time synchronization utility using localStorage events\n// This provides cross-tab communication for real-time updates\n\n// Import required functions (these should be implemented in your project)\n// import { getProductById, updateProduct } from '../database/productDatabase'\n// For now, we'll assume these functions are available globally or imported elsewhere\nclass RealTimeSync {\n  constructor() {\n    this.listeners = new Map()\n    this.setupStorageListener()\n  }\n\n  setupStorageListener() {\n    window.addEventListener('storage', (e) => {\n      if (e.key && e.key.startsWith('vendorMitra_sync_')) {\n        const eventType = e.key.replace('vendorMitra_sync_', '')\n        const data = e.newValue ? JSON.parse(e.newValue) : null\n        \n        if (this.listeners.has(eventType)) {\n          this.listeners.get(eventType).forEach(callback => callback(data))\n        }\n      }\n    })\n  }\n\n  // Subscribe to real-time updates\n  subscribe(eventType, callback) {\n    if (!this.listeners.has(eventType)) {\n      this.listeners.set(eventType, new Set())\n    }\n    this.listeners.get(eventType).add(callback)\n\n    // Return unsubscribe function\n    return () => {\n      if (this.listeners.has(eventType)) {\n        this.listeners.get(eventType).delete(callback)\n      }\n    }\n  }\n\n  // Emit real-time update\n  emit(eventType, data) {\n    const key = `vendorMitra_sync_${eventType}`\n    const value = JSON.stringify({\n      ...data,\n      timestamp: Date.now(),\n      id: Math.random().toString(36).substr(2, 9)\n    })\n    \n    localStorage.setItem(key, value)\n    \n    // Clean up after a short delay to prevent localStorage bloat\n    setTimeout(() => {\n      localStorage.removeItem(key)\n    }, 1000)\n  }\n\n  // Emit product updates\n  emitProductUpdate(action, product) {\n    this.emit('product_update', {\n      action, // 'add', 'update', 'delete'\n      product,\n      supplierId: product.supplierId\n    })\n  }\n\n  // Emit bargain updates\n  emitBargainUpdate(action, bargain) {\n    this.emit('bargain_update', {\n      action, // 'create', 'message', 'status_change'\n      bargain,\n      supplierId: bargain.supplierId,\n      vendorId: bargain.vendorId\n    })\n  }\n\n  // Emit flash sale updates\n  emitFlashSaleUpdate(action, flashSale) {\n    this.emit('flash_sale_update', {\n      action, // 'create', 'update', 'delete', 'purchase'\n      flashSale,\n      supplierId: flashSale.supplierId\n    })\n  }\n\n  // Emit review updates\n  emitReviewUpdate(action, review) {\n    this.emit('review_update', {\n      action, // 'add', 'update'\n      review,\n      supplierId: review.supplierId,\n      vendorId: review.vendorId\n    })\n  }\n\n  // Emit delivery updates\n  emitDeliveryUpdate(action, delivery) {\n    this.emit('delivery_update', {\n      action, // 'create', 'update', 'status_change'\n      delivery,\n      supplierId: delivery.supplierId,\n      vendorId: delivery.customerId\n    })\n  }\n\n  // Emit stock updates\n  emitStockUpdate(action, stockData) {\n    this.emit('stock_update', {\n      action, // 'purchase', 'restock', 'update'\n      ...stockData\n    })\n  }\n\n  // Emit order updates for vendor profile\n  emitOrderUpdate(action, orderData) {\n    this.emit('order_update', {\n      action, // 'new_order', 'status_change'\n      ...orderData\n    })\n  }\n}\n\n// Create singleton instance\nconst realTimeSync = new RealTimeSync()\n\nconst realTimeSyncApi = {\n  // General subscribe method - expose the core subscribe functionality\n  subscribe: (eventType, callback) => {\n    return realTimeSync.subscribe(eventType, callback)\n  },\n\n  // General emit method - expose the core emit functionality\n  emit: (eventType, data) => {\n    return realTimeSync.emit(eventType, data)\n  },\n\n  // Emit stock update events\n  emitStockUpdate: (data) => {\n    realTimeSync.emit('stock_update', data)\n  },\n\n  // Subscribe to stock update events\n  subscribeToStockUpdates: (callback) => {\n    return realTimeSync.subscribe('stock_update', callback)\n  },\n\n  // Emit product CRUD events\n  emitProductUpdate: (data) => {\n    realTimeSync.emit('product_update', data)\n  },\n\n  // Subscribe to product CRUD events\n  subscribeToProductUpdates: (callback) => {\n    return realTimeSync.subscribe('product_update', callback)\n  },\n\n  // Emit bargain update events\n  emitBargainUpdate: (data) => {\n    realTimeSync.emit('bargain_update', data)\n  },\n\n  // Subscribe to bargain update events\n  subscribeToBargainUpdates: (callback) => {\n    return realTimeSync.subscribe('bargain_update', callback)\n  },\n\n  // Comprehensive stock management functions\n  decreaseStock: async (productId, quantity, options = {}) => {\n    try {\n      // Import productDatabase dynamically to avoid circular dependencies\n      const { productDatabase } = await import('../data/userDatabase')\n      \n      // Get current product data\n      const product = productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          data: null\n        }\n      }\n\n      // Calculate new stock (cannot go below 0)\n      const currentStock = parseInt(product.stock || product.quantity || 0)\n      const decreaseAmount = parseInt(quantity || 0)\n      \n      if (decreaseAmount <= 0) {\n        return {\n          success: false,\n          error: 'Invalid quantity to decrease',\n          data: null\n        }\n      }\n\n      if (currentStock < decreaseAmount) {\n        return {\n          success: false,\n          error: `Insufficient stock. Available: ${currentStock}, Requested: ${decreaseAmount}`,\n          data: { availableStock: currentStock }\n        }\n      }\n\n      const newStock = Math.max(0, currentStock - decreaseAmount)\n\n      // Update product in database/state\n      const updatedProduct = {\n        ...product,\n        stock: newStock,\n        quantity: newStock, // Support both stock and quantity fields\n        updatedAt: new Date().toISOString()\n      }\n\n      const updateResult = productDatabase.updateProduct(productId, updatedProduct)\n      if (!updateResult) {\n        return {\n          success: false,\n          error: 'Failed to update product stock',\n          data: null\n        }\n      }\n\n      // Emit real-time stock update\n      realTimeSync.emitStockUpdate('purchase', {\n        productId,\n        previousStock: currentStock,\n        newStock,\n        quantityPurchased: decreaseAmount,\n        product: updatedProduct,\n        vendorId: options.vendorId,\n        orderId: options.orderId,\n        timestamp: Date.now()\n      })\n\n      return {\n        success: true,\n        data: {\n          product: updatedProduct,\n          stock: newStock,\n          newStock,\n          previousStock: currentStock,\n          quantityPurchased: decreaseAmount\n        }\n      }\n\n    } catch (error) {\n      console.error('Error decreasing stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Unknown error occurred',\n        data: null\n      }\n    }\n  },\n\n  // Increase stock function (for restocking)\n  increaseStock: async (productId, quantity, options = {}) => {\n    try {\n      // Import productDatabase dynamically to avoid circular dependencies\n      const { productDatabase } = await import('../data/userDatabase')\n      \n      // Get current product data\n      const product = productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          data: null\n        }\n      }\n\n      // Calculate new stock\n      const currentStock = parseInt(product.stock || product.quantity || 0)\n      const increaseAmount = parseInt(quantity || 0)\n      \n      if (increaseAmount <= 0) {\n        return {\n          success: false,\n          error: 'Invalid quantity to increase',\n          data: null\n        }\n      }\n\n      const newStock = currentStock + increaseAmount\n\n      // Update product in database/state\n      const updatedProduct = {\n        ...product,\n        stock: newStock,\n        quantity: newStock, // Support both stock and quantity fields\n        updatedAt: new Date().toISOString()\n      }\n\n      const updateResult = productDatabase.updateProduct(productId, updatedProduct)\n      if (!updateResult) {\n        return {\n          success: false,\n          error: 'Failed to update product stock',\n          data: null\n        }\n      }\n\n      // Emit real-time stock update\n      realTimeSync.emitStockUpdate('restock', {\n        productId,\n        previousStock: currentStock,\n        newStock,\n        quantityAdded: increaseAmount,\n        product: updatedProduct,\n        supplierId: options.supplierId,\n        timestamp: Date.now()\n      })\n\n      return {\n        success: true,\n        data: {\n          product: updatedProduct,\n          stock: newStock,\n          newStock,\n          previousStock: currentStock,\n          quantityAdded: increaseAmount\n        }\n      }\n\n    } catch (error) {\n      console.error('Error increasing stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Unknown error occurred',\n        data: null\n      }\n    }\n  },\n\n  // Set stock to a specific value\n  setStock: async (productId, newStockValue, options = {}) => {\n    try {\n      // Import productDatabase dynamically to avoid circular dependencies\n      const { productDatabase } = await import('../data/userDatabase')\n      \n      // Get current product data\n      const product = productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          data: null\n        }\n      }\n\n      const currentStock = parseInt(product.stock || product.quantity || 0)\n      const newStock = Math.max(0, parseInt(newStockValue || 0))\n\n      // Update product in database/state\n      const updatedProduct = {\n        ...product,\n        stock: newStock,\n        quantity: newStock, // Support both stock and quantity fields\n        updatedAt: new Date().toISOString()\n      }\n\n      const updateResult = productDatabase.updateProduct(productId, updatedProduct)\n      if (!updateResult) {\n        return {\n          success: false,\n          error: 'Failed to update product stock',\n          data: null\n        }\n      }\n\n      // Emit real-time stock update\n      realTimeSync.emitStockUpdate('update', {\n        productId,\n        previousStock: currentStock,\n        newStock,\n        stockChange: newStock - currentStock,\n        product: updatedProduct,\n        supplierId: options.supplierId,\n        timestamp: Date.now()\n      })\n\n      return {\n        success: true,\n        data: {\n          product: updatedProduct,\n          stock: newStock,\n          newStock,\n          previousStock: currentStock,\n          stockChange: newStock - currentStock\n        }\n      }\n\n    } catch (error) {\n      console.error('Error setting stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Unknown error occurred',\n        data: null\n      }\n    }\n  },\n\n  // Get current stock for a product\n  getStock: async (productId) => {\n    try {\n      // Import productDatabase dynamically to avoid circular dependencies\n      const { productDatabase } = await import('../data/userDatabase')\n      \n      const product = productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          data: null\n        }\n      }\n\n      const currentStock = parseInt(product.stock || product.quantity || 0)\n      \n      return {\n        success: true,\n        data: {\n          productId,\n          stock: currentStock,\n          product: product\n        }\n      }\n\n    } catch (error) {\n      console.error('Error getting stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Unknown error occurred',\n        data: null\n      }\n    }\n  },\n\n  // Check if sufficient stock is available\n  checkStockAvailability: async (productId, requestedQuantity) => {\n    try {\n      // Import productDatabase dynamically to avoid circular dependencies\n      const { productDatabase } = await import('../data/userDatabase')\n      \n      const product = productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          data: null\n        }\n      }\n\n      const currentStock = parseInt(product.stock || product.quantity || 0)\n      const requested = parseInt(requestedQuantity || 0)\n      const isAvailable = currentStock >= requested\n\n      return {\n        success: true,\n        data: {\n          productId,\n          currentStock,\n          requestedQuantity: requested,\n          isAvailable,\n          shortfall: isAvailable ? 0 : requested - currentStock,\n          product: product\n        }\n      }\n\n    } catch (error) {\n      console.error('Error checking stock availability:', error)\n      return {\n        success: false,\n        error: error.message || 'Unknown error occurred',\n        data: null\n      }\n    }\n  }\n}\n\nexport default realTimeSyncApi\nexport { realTimeSync }\n","size_bytes":13069},"src/utils/stockManager.js":{"content":"// Comprehensive Stock Management System\n// Handles all stock operations with real-time synchronization\n\nimport realTimeSync from './realTimeSync'\n\nclass StockManager {\n  constructor() {\n    this.productDatabase = null\n    this.initialized = false\n  }\n\n  // Initialize the stock manager with product database\n  async initialize() {\n    if (!this.initialized) {\n      try {\n        const { productDatabase } = await import('../data/userDatabase')\n        this.productDatabase = productDatabase\n        this.initialized = true\n      } catch (error) {\n        console.error('Failed to initialize StockManager:', error)\n        throw error\n      }\n    }\n  }\n\n  // Ensure initialization before any operation\n  async ensureInitialized() {\n    if (!this.initialized) {\n      await this.initialize()\n    }\n  }\n\n  // Purchase operation - decreases stock\n  async purchase(productId, quantity, options = {}) {\n    await this.ensureInitialized()\n    \n    try {\n      const product = this.productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          code: 'PRODUCT_NOT_FOUND'\n        }\n      }\n\n      const currentStock = this.getCurrentStock(product)\n      const purchaseQuantity = this.validateQuantity(quantity)\n\n      if (purchaseQuantity <= 0) {\n        return {\n          success: false,\n          error: 'Invalid purchase quantity',\n          code: 'INVALID_QUANTITY'\n        }\n      }\n\n      if (currentStock < purchaseQuantity) {\n        return {\n          success: false,\n          error: `Insufficient stock. Available: ${currentStock}${product.unit || 'units'}, Requested: ${purchaseQuantity}${product.unit || 'units'}`,\n          code: 'INSUFFICIENT_STOCK',\n          data: { \n            availableStock: currentStock,\n            requestedQuantity: purchaseQuantity,\n            shortfall: purchaseQuantity - currentStock\n          }\n        }\n      }\n\n      const newStock = currentStock - purchaseQuantity\n      const result = await this.updateProductStock(product, newStock, {\n        action: 'purchase',\n        quantityChanged: -purchaseQuantity,\n        ...options\n      })\n\n      if (result.success) {\n        // Log the purchase for analytics\n        this.logStockTransaction({\n          type: 'purchase',\n          productId,\n          productName: product.name,\n          previousStock: currentStock,\n          newStock,\n          quantityChanged: -purchaseQuantity,\n          vendorId: options.vendorId,\n          orderId: options.orderId,\n          timestamp: new Date().toISOString()\n        })\n      }\n\n      return result\n    } catch (error) {\n      console.error('Error in purchase operation:', error)\n      return {\n        success: false,\n        error: error.message || 'Purchase operation failed',\n        code: 'PURCHASE_ERROR'\n      }\n    }\n  }\n\n  // Restock operation - increases stock\n  async restock(productId, quantity, options = {}) {\n    await this.ensureInitialized()\n    \n    try {\n      const product = this.productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          code: 'PRODUCT_NOT_FOUND'\n        }\n      }\n\n      const currentStock = this.getCurrentStock(product)\n      const restockQuantity = this.validateQuantity(quantity)\n\n      if (restockQuantity <= 0) {\n        return {\n          success: false,\n          error: 'Invalid restock quantity',\n          code: 'INVALID_QUANTITY'\n        }\n      }\n\n      const newStock = currentStock + restockQuantity\n      const result = await this.updateProductStock(product, newStock, {\n        action: 'restock',\n        quantityChanged: restockQuantity,\n        ...options\n      })\n\n      if (result.success) {\n        // Log the restock for analytics\n        this.logStockTransaction({\n          type: 'restock',\n          productId,\n          productName: product.name,\n          previousStock: currentStock,\n          newStock,\n          quantityChanged: restockQuantity,\n          supplierId: options.supplierId,\n          timestamp: new Date().toISOString()\n        })\n      }\n\n      return result\n    } catch (error) {\n      console.error('Error in restock operation:', error)\n      return {\n        success: false,\n        error: error.message || 'Restock operation failed',\n        code: 'RESTOCK_ERROR'\n      }\n    }\n  }\n\n  // Set stock to a specific value\n  async setStock(productId, newStockValue, options = {}) {\n    await this.ensureInitialized()\n    \n    try {\n      const product = this.productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          code: 'PRODUCT_NOT_FOUND'\n        }\n      }\n\n      const currentStock = this.getCurrentStock(product)\n      const newStock = Math.max(0, this.validateQuantity(newStockValue))\n      const quantityChanged = newStock - currentStock\n\n      const result = await this.updateProductStock(product, newStock, {\n        action: 'update',\n        quantityChanged,\n        ...options\n      })\n\n      if (result.success) {\n        // Log the stock update for analytics\n        this.logStockTransaction({\n          type: 'update',\n          productId,\n          productName: product.name,\n          previousStock: currentStock,\n          newStock,\n          quantityChanged,\n          supplierId: options.supplierId,\n          timestamp: new Date().toISOString()\n        })\n      }\n\n      return result\n    } catch (error) {\n      console.error('Error in setStock operation:', error)\n      return {\n        success: false,\n        error: error.message || 'Set stock operation failed',\n        code: 'SET_STOCK_ERROR'\n      }\n    }\n  }\n\n  // Check stock availability\n  async checkAvailability(productId, requestedQuantity) {\n    await this.ensureInitialized()\n    \n    try {\n      const product = this.productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          code: 'PRODUCT_NOT_FOUND'\n        }\n      }\n\n      const currentStock = this.getCurrentStock(product)\n      const requested = this.validateQuantity(requestedQuantity)\n      const isAvailable = currentStock >= requested\n\n      return {\n        success: true,\n        data: {\n          productId,\n          productName: product.name,\n          currentStock,\n          requestedQuantity: requested,\n          isAvailable,\n          shortfall: isAvailable ? 0 : requested - currentStock,\n          stockStatus: this.getStockStatus(currentStock, product),\n          unit: product.unit || 'units'\n        }\n      }\n    } catch (error) {\n      console.error('Error checking stock availability:', error)\n      return {\n        success: false,\n        error: error.message || 'Stock availability check failed',\n        code: 'AVAILABILITY_CHECK_ERROR'\n      }\n    }\n  }\n\n  // Get current stock for a product\n  async getStock(productId) {\n    await this.ensureInitialized()\n    \n    try {\n      const product = this.productDatabase.getProductById(productId)\n      if (!product) {\n        return {\n          success: false,\n          error: 'Product not found',\n          code: 'PRODUCT_NOT_FOUND'\n        }\n      }\n\n      const currentStock = this.getCurrentStock(product)\n      \n      return {\n        success: true,\n        data: {\n          productId,\n          productName: product.name,\n          stock: currentStock,\n          stockStatus: this.getStockStatus(currentStock, product),\n          unit: product.unit || 'units',\n          lastUpdated: product.updatedAt || product.createdAt\n        }\n      }\n    } catch (error) {\n      console.error('Error getting stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Get stock operation failed',\n        code: 'GET_STOCK_ERROR'\n      }\n    }\n  }\n\n  // Batch operations for multiple products\n  async batchPurchase(purchases) {\n    const results = []\n    \n    for (const purchase of purchases) {\n      const result = await this.purchase(\n        purchase.productId, \n        purchase.quantity, \n        purchase.options || {}\n      )\n      results.push({\n        productId: purchase.productId,\n        ...result\n      })\n    }\n    \n    return {\n      success: results.every(r => r.success),\n      results,\n      successCount: results.filter(r => r.success).length,\n      failureCount: results.filter(r => !r.success).length\n    }\n  }\n\n  // Helper methods\n  getCurrentStock(product) {\n    return parseInt(product.stock || product.quantity || 0)\n  }\n\n  validateQuantity(quantity) {\n    const num = parseInt(quantity)\n    return isNaN(num) ? 0 : Math.max(0, num)\n  }\n\n  getStockStatus(stock, product) {\n    const lowStockThreshold = product.lowStockThreshold || 10\n    const outOfStockThreshold = product.outOfStockThreshold || 0\n    \n    if (stock <= outOfStockThreshold) return 'out_of_stock'\n    if (stock <= lowStockThreshold) return 'low_stock'\n    return 'in_stock'\n  }\n\n  async updateProductStock(product, newStock, options = {}) {\n    try {\n      const updatedProduct = {\n        ...product,\n        stock: newStock,\n        quantity: newStock, // Support both fields\n        updatedAt: new Date().toISOString(),\n        lastStockUpdate: new Date().toISOString()\n      }\n\n      const updateResult = this.productDatabase.updateProduct(product.id, updatedProduct)\n      if (!updateResult) {\n        return {\n          success: false,\n          error: 'Failed to update product in database',\n          code: 'DATABASE_UPDATE_ERROR'\n        }\n      }\n\n      // Emit real-time stock update\n      realTimeSync.emitStockUpdate(options.action || 'update', {\n        productId: product.id,\n        productName: product.name,\n        previousStock: this.getCurrentStock(product),\n        newStock,\n        quantityChanged: options.quantityChanged || 0,\n        product: updatedProduct,\n        vendorId: options.vendorId,\n        supplierId: options.supplierId,\n        orderId: options.orderId,\n        timestamp: Date.now()\n      })\n\n      return {\n        success: true,\n        data: {\n          product: updatedProduct,\n          previousStock: this.getCurrentStock(product),\n          newStock,\n          quantityChanged: options.quantityChanged || 0\n        }\n      }\n    } catch (error) {\n      console.error('Error updating product stock:', error)\n      return {\n        success: false,\n        error: error.message || 'Failed to update product stock',\n        code: 'UPDATE_ERROR'\n      }\n    }\n  }\n\n  logStockTransaction(transaction) {\n    try {\n      // Store transaction log in localStorage for analytics\n      const logs = JSON.parse(localStorage.getItem('vendorMitraStockLogs') || '[]')\n      logs.push(transaction)\n      \n      // Keep only last 1000 transactions to prevent storage bloat\n      if (logs.length > 1000) {\n        logs.splice(0, logs.length - 1000)\n      }\n      \n      localStorage.setItem('vendorMitraStockLogs', JSON.stringify(logs))\n      console.log('Stock transaction logged:', transaction)\n    } catch (error) {\n      console.warn('Failed to log stock transaction:', error)\n    }\n  }\n\n  // Get stock transaction history\n  getStockHistory(productId = null, limit = 100) {\n    try {\n      const logs = JSON.parse(localStorage.getItem('vendorMitraStockLogs') || '[]')\n      let filteredLogs = logs\n      \n      if (productId) {\n        filteredLogs = logs.filter(log => log.productId === productId)\n      }\n      \n      return filteredLogs\n        .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\n        .slice(0, limit)\n    } catch (error) {\n      console.error('Error getting stock history:', error)\n      return []\n    }\n  }\n}\n\n// Create singleton instance\nconst stockManager = new StockManager()\n\n// Export both the class and the singleton instance\nexport default stockManager\nexport { StockManager }\n","size_bytes":11897},"src/utils/stockUpdateDemo.js":{"content":"// Stock Update Demo - Working examples of product stock updates after purchase\nimport { updateProductStockAfterPurchase, batchUpdateStockAfterPurchase, checkPurchaseAvailability } from './purchaseHandler'\nimport { productDatabase } from '../data/userDatabase'\n\n/**\n * Demo function showing stock updates after purchases\n * This demonstrates the exact functionality requested:\n * - Product A: quantity = 10 â†’ vendor buys 2 â†’ new quantity = 8\n * - Product B: quantity = 20 â†’ vendor buys 5 â†’ new quantity = 15\n */\nexport const demonstrateStockUpdates = async () => {\n  console.log('=== Stock Update Demonstration ===')\n  \n  // Initialize some test products if they don't exist\n  await initializeTestProducts()\n  \n  console.log('\\n1. Initial Stock Levels:')\n  const productA = productDatabase.getProductById(1)\n  const productB = productDatabase.getProductById(2)\n  console.log(`Product A (${productA?.name}): ${productA?.quantity || 0} units`)\n  console.log(`Product B (${productB?.name}): ${productB?.quantity || 0} units`)\n  \n  // Example 1: Product A: quantity = 10 â†’ vendor buys 2 â†’ new quantity = 8\n  console.log('\\n2. Processing Purchase: Product A - Buy 2 units')\n  const purchaseA = await updateProductStockAfterPurchase(1, 2, {\n    vendorId: 'vendor_001',\n    orderId: 'ORD_DEMO_001'\n  })\n  \n  if (purchaseA.success) {\n    console.log(`âœ… Success: ${purchaseA.data.productName}`)\n    console.log(`   Previous Stock: ${purchaseA.data.previousStock}`)\n    console.log(`   Purchased: ${purchaseA.data.purchaseAmount}`)\n    console.log(`   New Stock: ${purchaseA.data.newStock}`)\n    console.log(`   Calculation: ${purchaseA.data.previousStock} - ${purchaseA.data.purchaseAmount} = ${purchaseA.data.newStock}`)\n  } else {\n    console.log(`âŒ Failed: ${purchaseA.error}`)\n  }\n  \n  // Example 2: Product B: quantity = 20 â†’ vendor buys 5 â†’ new quantity = 15\n  console.log('\\n3. Processing Purchase: Product B - Buy 5 units')\n  const purchaseB = await updateProductStockAfterPurchase(2, 5, {\n    vendorId: 'vendor_002',\n    orderId: 'ORD_DEMO_002'\n  })\n  \n  if (purchaseB.success) {\n    console.log(`âœ… Success: ${purchaseB.data.productName}`)\n    console.log(`   Previous Stock: ${purchaseB.data.previousStock}`)\n    console.log(`   Purchased: ${purchaseB.data.purchaseAmount}`)\n    console.log(`   New Stock: ${purchaseB.data.newStock}`)\n    console.log(`   Calculation: ${purchaseB.data.previousStock} - ${purchaseB.data.purchaseAmount} = ${purchaseB.data.newStock}`)\n  } else {\n    console.log(`âŒ Failed: ${purchaseB.error}`)\n  }\n  \n  // Example 3: Test negative stock prevention\n  console.log('\\n4. Testing Negative Stock Prevention: Try to buy 100 units from Product A')\n  const purchaseExcessive = await updateProductStockAfterPurchase(1, 100, {\n    vendorId: 'vendor_003',\n    orderId: 'ORD_DEMO_003'\n  })\n  \n  if (purchaseExcessive.success) {\n    console.log(`âœ… Purchase completed`)\n  } else {\n    console.log(`âŒ Purchase rejected: ${purchaseExcessive.error}`)\n    if (purchaseExcessive.data) {\n      console.log(`   Available: ${purchaseExcessive.data.availableStock}`)\n      console.log(`   Requested: ${purchaseExcessive.data.requestedAmount}`)\n      console.log(`   Shortfall: ${purchaseExcessive.data.shortfall}`)\n    }\n  }\n  \n  // Example 4: Batch purchase\n  console.log('\\n5. Batch Purchase: Multiple products at once')\n  const batchPurchase = await batchUpdateStockAfterPurchase([\n    { productId: 1, amount: 1 },\n    { productId: 2, amount: 2 }\n  ], {\n    vendorId: 'vendor_batch',\n    orderId: 'ORD_BATCH_001'\n  })\n  \n  console.log(`Batch Purchase Result: ${batchPurchase.success ? 'SUCCESS' : 'FAILED'}`)\n  console.log(`Total: ${batchPurchase.summary.total}, Successful: ${batchPurchase.summary.successful}, Failed: ${batchPurchase.summary.failed}`)\n  \n  batchPurchase.results.forEach((result, index) => {\n    if (result.success) {\n      console.log(`  Product ${result.productId}: ${result.data.previousStock} â†’ ${result.data.newStock} (-${result.data.purchaseAmount})`)\n    } else {\n      console.log(`  Product ${result.productId}: FAILED - ${result.error}`)\n    }\n  })\n  \n  // Final stock levels\n  console.log('\\n6. Final Stock Levels:')\n  const finalProductA = productDatabase.getProductById(1)\n  const finalProductB = productDatabase.getProductById(2)\n  console.log(`Product A (${finalProductA?.name}): ${finalProductA?.quantity || 0} units`)\n  console.log(`Product B (${finalProductB?.name}): ${finalProductB?.quantity || 0} units`)\n  \n  return {\n    purchaseA,\n    purchaseB,\n    purchaseExcessive,\n    batchPurchase\n  }\n}\n\n/**\n * Initialize test products for demonstration\n */\nconst initializeTestProducts = async () => {\n  // Check if products already exist\n  let productA = productDatabase.getProductById(1)\n  let productB = productDatabase.getProductById(2)\n  \n  // Create Product A if it doesn't exist\n  if (!productA) {\n    productA = productDatabase.addProduct({\n      name: 'Fresh Tomatoes',\n      price: 40,\n      quantity: 10,\n      stock: 10,\n      unit: 'kg',\n      supplierId: 1,\n      supplierName: 'Green Valley Farms',\n      category: 'vegetables',\n      description: 'Fresh organic tomatoes',\n      isOrganic: true\n    })\n  } else {\n    // Reset to initial quantity for demo\n    productDatabase.updateProduct(1, { quantity: 10, stock: 10 })\n  }\n  \n  // Create Product B if it doesn't exist\n  if (!productB) {\n    productB = productDatabase.addProduct({\n      name: 'Red Onions',\n      price: 30,\n      quantity: 20,\n      stock: 20,\n      unit: 'kg',\n      supplierId: 2,\n      supplierName: 'Farm Fresh Co',\n      category: 'vegetables',\n      description: 'Premium red onions',\n      isOrganic: false\n    })\n  } else {\n    // Reset to initial quantity for demo\n    productDatabase.updateProduct(2, { quantity: 20, stock: 20 })\n  }\n}\n\n/**\n * Real-world purchase simulation\n * Simulates actual vendor purchases with realistic scenarios\n */\nexport const simulateRealPurchases = async () => {\n  console.log('\\n=== Real-World Purchase Simulation ===')\n  \n  const scenarios = [\n    { productId: 1, amount: 3, vendor: 'Restaurant A', description: 'Restaurant buying tomatoes for daily menu' },\n    { productId: 2, amount: 8, vendor: 'Grocery Store B', description: 'Bulk purchase of onions' },\n    { productId: 1, amount: 2, vendor: 'Cafe C', description: 'Small cafe buying tomatoes' },\n    { productId: 2, amount: 15, vendor: 'Hotel D', description: 'Large hotel kitchen order' }\n  ]\n  \n  for (const scenario of scenarios) {\n    console.log(`\\n${scenario.description}:`)\n    \n    // Check availability first\n    const availability = checkPurchaseAvailability(scenario.productId, scenario.amount)\n    console.log(`  Available: ${availability.available ? 'YES' : 'NO'} (Stock: ${availability.currentStock}, Requested: ${availability.requestedAmount})`)\n    \n    if (availability.available) {\n      const result = await updateProductStockAfterPurchase(scenario.productId, scenario.amount, {\n        vendorId: scenario.vendor.toLowerCase().replace(' ', '_'),\n        orderId: `ORD_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`\n      })\n      \n      if (result.success) {\n        console.log(`  âœ… Purchase completed: ${result.data.previousStock} â†’ ${result.data.newStock} units`)\n      } else {\n        console.log(`  âŒ Purchase failed: ${result.error}`)\n      }\n    } else {\n      console.log(`  âŒ Purchase rejected: ${availability.error || 'Insufficient stock'}`)\n    }\n  }\n}\n\n// Export for use in components\nexport default demonstrateStockUpdates\n","size_bytes":7533},"src/components/Bargain/Negotiation.jsx":{"content":"import React, { useState } from 'react'\n\nconst Negotiation = ({ initialOffer = 100, product = null, onBargainConfirmed = null }) => {\n  const [messages, setMessages] = useState([\n    { sender: 'supplier', text: `Current price: â‚¹${initialOffer}` }\n  ])\n  const [agreedPrice, setAgreedPrice] = useState(null)\n  const [isConfirmed, setIsConfirmed] = useState(false)\n\n  // Update messages when initialOffer changes\n  React.useEffect(() => {\n    setMessages([{ sender: 'supplier', text: `Current price: â‚¹${initialOffer}` }])\n  }, [initialOffer])\n  const [input, setInput] = useState('')\n\n  const sendMessage = (text, sender, offer = null) => {\n    setMessages([...messages, { sender, text, offer }])\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (!input.trim()) return\n    \n    // Check if input is a price offer (number)\n    const offerMatch = input.match(/(\\d+)/)\n    const offer = offerMatch ? parseInt(offerMatch[1]) : null\n    \n    sendMessage(input, 'vendor', offer)\n    setInput('')\n    \n    // Removed automatic supplier responses - suppliers must manually respond\n  }\n\n  // Feature 3: Confirm option to settle at agreed price\n  const handleConfirmBargain = () => {\n    if (agreedPrice && product) {\n      setIsConfirmed(true)\n      if (onBargainConfirmed) {\n        onBargainConfirmed({\n          product,\n          agreedPrice,\n          originalPrice: initialOffer\n        })\n      }\n    }\n  }\n\n  return (\n    <div className=\"card space-y-4\">\n      <h4 className=\"font-bold\">Bargain/Negotiate</h4>\n      <div className=\"h-40 overflow-y-auto bg-gray-50 p-2 rounded\">\n        {messages.map((msg, i) => (\n          <div key={i} className={`mb-2 ${msg.sender === 'vendor' ? 'text-right' : 'text-left'}`}>\n            <span className={`inline-block px-3 py-1 rounded ${msg.sender === 'vendor' ? 'bg-primary-100' : 'bg-gray-200'}`}>\n              <b>{msg.sender === 'vendor' ? 'You' : 'Supplier'}:</b> {msg.text}\n              {msg.offer && <div className=\"font-bold text-green-600\">Offer: â‚¹{msg.offer}</div>}\n            </span>\n          </div>\n        ))}\n      </div>\n      <form onSubmit={handleSubmit} className=\"flex gap-2\">\n        <input\n          className=\"input-field flex-1\"\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"Type your offer or message...\"\n          disabled={isConfirmed}\n        />\n        <button className=\"btn-primary\" type=\"submit\" disabled={isConfirmed}>Send</button>\n      </form>\n      \n      {/* Agreement section - only shows when manually set by supplier */}\n      {agreedPrice && !isConfirmed && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <h5 className=\"font-semibold text-green-800 mb-2\">Agreement Reached!</h5>\n          <p className=\"text-green-700 mb-3\">\n            Both parties agree on â‚¹{agreedPrice} (Original: â‚¹{initialOffer})\n          </p>\n          <div className=\"flex gap-2\">\n            <button \n              onClick={handleConfirmBargain}\n              className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\n            >\n              Confirm & Add to Cart\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {isConfirmed && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <p className=\"text-blue-700 font-semibold\">âœ“ Deal confirmed! Item added to cart at â‚¹{agreedPrice}</p>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Negotiation ","size_bytes":3514},"src/components/BuyNow/BuyNowDialog.jsx":{"content":"import React, { useState } from 'react'\nimport { MapPin, CreditCard, Smartphone, Banknote, X } from 'lucide-react'\n\nconst BuyNowDialog = ({ isOpen, onClose, item, quantity, totalPrice, onConfirmOrder }) => {\n  const [deliveryAddress, setDeliveryAddress] = useState('')\n  const [paymentMethod, setPaymentMethod] = useState('COD')\n  const [isProcessing, setIsProcessing] = useState(false)\n\n  const paymentOptions = [\n    { id: 'COD', label: 'Cash on Delivery', icon: Banknote },\n    { id: 'UPI', label: 'UPI Payment', icon: Smartphone },\n    { id: 'CARD', label: 'Credit/Debit Card', icon: CreditCard },\n    { id: 'NETBANKING', label: 'Net Banking', icon: CreditCard }\n  ]\n\n  const handleConfirmOrder = async () => {\n    if (!deliveryAddress.trim()) {\n      alert('Please enter a delivery address')\n      return\n    }\n\n    setIsProcessing(true)\n    \n    try {\n      await onConfirmOrder({\n        item,\n        quantity,\n        totalPrice,\n        deliveryAddress: deliveryAddress.trim(),\n        paymentMethod\n      })\n      \n      // Reset form\n      setDeliveryAddress('')\n      setPaymentMethod('COD')\n      onClose()\n    } catch (error) {\n      alert('Failed to place order. Please try again.')\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h3 className=\"text-xl font-semibold\">Complete Your Order</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700\"\n            disabled={isProcessing}\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Order Summary */}\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n          <h4 className=\"font-medium mb-3\">Order Summary</h4>\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between\">\n              <span>{item?.name}</span>\n              <span>{quantity} {item?.unit}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span>Price per {item?.unit}</span>\n              <span>â‚¹{item?.price}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span>Supplier</span>\n              <span>{item?.supplier}</span>\n            </div>\n            <hr className=\"my-2\" />\n            <div className=\"flex justify-between font-semibold text-lg\">\n              <span>Total Amount</span>\n              <span>â‚¹{totalPrice}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Delivery Address */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            <MapPin className=\"w-4 h-4 inline mr-1\" />\n            Delivery Address *\n          </label>\n          <textarea\n            value={deliveryAddress}\n            onChange={(e) => setDeliveryAddress(e.target.value)}\n            placeholder=\"Enter your complete delivery address...\"\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            rows=\"3\"\n            disabled={isProcessing}\n          />\n        </div>\n\n        {/* Payment Method */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n            Payment Method\n          </label>\n          <div className=\"space-y-2\">\n            {paymentOptions.map((option) => {\n              const Icon = option.icon\n              return (\n                <label\n                  key={option.id}\n                  className={`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${\n                    paymentMethod === option.id\n                      ? 'border-blue-500 bg-blue-50'\n                      : 'border-gray-300 hover:bg-gray-50'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"paymentMethod\"\n                    value={option.id}\n                    checked={paymentMethod === option.id}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                    className=\"mr-3\"\n                    disabled={isProcessing}\n                  />\n                  <Icon className=\"w-5 h-5 mr-2 text-gray-600\" />\n                  <span>{option.label}</span>\n                </label>\n              )\n            })}\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\n            disabled={isProcessing}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleConfirmOrder}\n            disabled={isProcessing || !deliveryAddress.trim()}\n            className=\"flex-1 py-3 px-4 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n          >\n            {isProcessing ? 'Processing...' : `Place Order - â‚¹${totalPrice}`}\n          </button>\n        </div>\n\n        {/* Payment Info */}\n        {paymentMethod !== 'COD' && (\n          <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\n            <p className=\"text-sm text-blue-800\">\n              You will be redirected to the payment gateway after confirming your order.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default BuyNowDialog\n","size_bytes":5799},"src/components/Cart/QuantitySelector.jsx":{"content":"import React, { useState } from 'react'\nimport { ShoppingCart, X, Plus, Minus } from 'lucide-react'\n\nconst QuantitySelector = ({ isOpen, onClose, item, onConfirm }) => {\n  const [quantity, setQuantity] = useState(1)\n  const maxStock = item?.total - item?.sold || 0\n\n  const handleQuantityChange = (newQuantity) => {\n    if (newQuantity < 1) return\n    if (newQuantity > maxStock) {\n      alert(`Only ${maxStock} items available!`)\n      return\n    }\n    setQuantity(newQuantity)\n  }\n\n  const handleConfirm = () => {\n    onConfirm(quantity)\n    setQuantity(1)\n    onClose()\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h3 className=\"text-xl font-semibold\">Select Quantity</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Product Info */}\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center gap-4\">\n            {item?.image && (\n              <img \n                src={item.image} \n                alt={item.product}\n                className=\"w-16 h-16 object-cover rounded-lg\"\n              />\n            )}\n            <div className=\"flex-1\">\n              <h4 className=\"font-medium\">{item?.product}</h4>\n              <p className=\"text-sm text-gray-600\">by {item?.supplier}</p>\n              <div className=\"flex items-center gap-2 mt-1\">\n                <span className=\"text-lg font-bold text-green-600\">â‚¹{item?.price}</span>\n                <span className=\"text-sm text-gray-500 line-through\">â‚¹{item?.oldPrice}</span>\n                <span className=\"text-xs bg-red-100 text-red-600 px-2 py-1 rounded\">\n                  {item?.discount}% OFF\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Quantity Selector */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n            Quantity\n          </label>\n          <div className=\"flex items-center justify-center gap-4\">\n            <button\n              onClick={() => handleQuantityChange(quantity - 1)}\n              className=\"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors\"\n              disabled={quantity <= 1}\n            >\n              <Minus className=\"w-4 h-4\" />\n            </button>\n            \n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"number\"\n                value={quantity}\n                onChange={(e) => handleQuantityChange(parseInt(e.target.value) || 1)}\n                className=\"w-20 text-center text-lg font-medium border border-gray-300 rounded-lg py-2\"\n                min=\"1\"\n                max={maxStock}\n              />\n              <span className=\"text-sm text-gray-500\">{item?.quantityUnit || 'piece'}</span>\n            </div>\n            \n            <button\n              onClick={() => handleQuantityChange(quantity + 1)}\n              className=\"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors\"\n              disabled={quantity >= maxStock}\n            >\n              <Plus className=\"w-4 h-4\" />\n            </button>\n          </div>\n          \n          <div className=\"text-center mt-2\">\n            <span className=\"text-sm text-gray-500\">\n              {maxStock} per {item?.quantityUnit || 'piece'} available\n            </span>\n          </div>\n        </div>\n\n        {/* Total Price */}\n        <div className=\"bg-blue-50 rounded-lg p-4 mb-6\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"font-medium\">Total Price:</span>\n            <span className=\"text-xl font-bold text-blue-600\">\n              â‚¹{(item?.price * quantity).toFixed(2)}\n            </span>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleConfirm}\n            className=\"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2\"\n          >\n            <ShoppingCart className=\"w-4 h-4\" />\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default QuantitySelector\n","size_bytes":4964},"src/components/FSSAI/LicenseVerification.jsx":{"content":"import React, { useState } from 'react'\n\nconst mockVerifyFSSAI = (license) => {\n  // Simulate API call\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(license === 'VALIDFSSAI123')\n    }, 1000)\n  })\n}\n\nconst LicenseVerification = ({ onVerify }) => {\n  const [license, setLicense] = useState('')\n  const [status, setStatus] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  const handleVerify = async () => {\n    setLoading(true)\n    const isValid = await mockVerifyFSSAI(license)\n    setStatus(isValid ? 'valid' : 'invalid')\n    setLoading(false)\n    if (isValid && onVerify) onVerify(license)\n  }\n\n  return (\n    <div className=\"card space-y-4\">\n      <label className=\"block font-semibold\">FSSAI License Number</label>\n      <input\n        type=\"text\"\n        value={license}\n        onChange={e => setLicense(e.target.value)}\n        className=\"input-field\"\n        placeholder=\"Enter FSSAI License Number\"\n      />\n      <button className=\"btn-primary\" onClick={handleVerify} disabled={loading}>\n        {loading ? 'Verifying...' : 'Verify'}\n      </button>\n      {status === 'valid' && <div className=\"text-green-600\">License is valid âœ…</div>}\n      {status === 'invalid' && <div className=\"text-red-600\">Invalid license âŒ</div>}\n    </div>\n  )\n}\n\nexport default LicenseVerification ","size_bytes":1334},"src/components/FlashSales/FlashSaleTimer.jsx":{"content":"import React, { useEffect, useState } from 'react'\n\nconst FlashSaleTimer = ({ endTime, onExpired }) => {\n  const [timeLeft, setTimeLeft] = useState('Loading...')\n  const [hasExpired, setHasExpired] = useState(false)\n\n  useEffect(() => {\n    if (!endTime) {\n      setTimeLeft('Ended')\n      return\n    }\n\n    const updateTimer = () => {\n      let end;\n      try {\n        end = new Date(endTime)\n      } catch (error) {\n        console.error('Invalid endTime:', endTime, error)\n        setTimeLeft('Ended')\n        return\n      }\n      \n      const now = new Date()\n      const diff = end - now\n      \n      if (isNaN(diff) || diff <= 0) {\n        setTimeLeft('Ended')\n        if (!hasExpired && onExpired) {\n          setHasExpired(true)\n          onExpired()\n        }\n      } else {\n        const hours = Math.floor(diff / 3600000)\n        const minutes = Math.floor((diff % 3600000) / 60000)\n        const seconds = Math.floor((diff % 60000) / 1000)\n        \n        if (hours > 0) {\n          setTimeLeft(`${hours}h ${minutes}m ${seconds}s`)\n        } else if (minutes > 0) {\n          setTimeLeft(`${minutes}m ${seconds}s`)\n        } else {\n          setTimeLeft(`${seconds}s`)\n        }\n      }\n    }\n\n    // Update immediately\n    updateTimer()\n    \n    // Then update every second\n    const interval = setInterval(updateTimer, 1000)\n    \n    return () => clearInterval(interval)\n  }, [endTime])\n\n  return <span className=\"text-xs font-medium\">{timeLeft}</span>\n}\n\nexport default FlashSaleTimer ","size_bytes":1502},"src/components/FlashSales/FlashSalesDisplay.jsx":{"content":"import React, { useState, useEffect, useCallback } from 'react'\nimport { flashSalesDatabase } from '../../data/userDatabase'\nimport FlashSaleTimer from './FlashSaleTimer'\nimport realTimeSync from '../../utils/realTimeSync'\nimport { Zap, ShoppingCart } from 'lucide-react'\n\nconst FlashSalesDisplay = ({ onAddToCart }) => {\n  const [flashSales, setFlashSales] = useState([])\n  const [expiredSales, setExpiredSales] = useState(new Set())\n\n  const loadFlashSales = useCallback(() => {\n    const activeFlashSales = flashSalesDatabase.getAllFlashSales()\n    // Filter out expired sales that haven't been removed yet\n    const currentTime = new Date()\n    const validSales = activeFlashSales.filter(sale => {\n      const endTime = new Date(sale.endTime)\n      return currentTime < endTime\n    })\n    setFlashSales(validSales)\n  }, [])\n\n  // Handle timer expiration\n  const handleTimerExpired = useCallback((saleId) => {\n    setExpiredSales(prev => new Set([...prev, saleId]))\n    // Remove expired sale after a short delay to show \"EXPIRED\" state\n    setTimeout(() => {\n      const expiredSale = flashSales.find(sale => sale.id === saleId)\n      if (expiredSale && expiredSale.total > expiredSale.sold) {\n        // Move remaining stock back to normal product catalog\n        const remainingStock = expiredSale.total - expiredSale.sold\n        // Add back to product database with original price\n        const productData = {\n          name: expiredSale.product,\n          price: expiredSale.oldPrice || expiredSale.price,\n          quantity: remainingStock,\n          unit: 'kg', // Default unit\n          description: `${expiredSale.product} - Flash sale ended`,\n          image: expiredSale.image,\n          isOrganic: false,\n          supplier: expiredSale.supplier,\n          supplierId: expiredSale.supplierId,\n          category: 'general'\n        }\n        // Import productDatabase to add the product back\n        import('../../data/userDatabase').then(({ productDatabase }) => {\n          productDatabase.addProduct(productData)\n        })\n      }\n      \n      setFlashSales(prev => prev.filter(sale => sale.id !== saleId))\n      setExpiredSales(prev => {\n        const newSet = new Set(prev)\n        newSet.delete(saleId)\n        return newSet\n      })\n      // Also remove from database\n      flashSalesDatabase.deleteFlashSale(saleId)\n      // Emit real-time sync\n      realTimeSync.emit('flash_sale_update', {\n        action: 'expired_remove',\n        saleId: saleId,\n        remainingStock: expiredSale ? expiredSale.total - expiredSale.sold : 0\n      })\n    }, 2000)\n  }, [flashSales])\n\n  useEffect(() => {\n    loadFlashSales()\n\n    // Subscribe to real-time flash sale updates\n    const unsubscribe = realTimeSync.subscribe('flash_sale_update', (data) => {\n      if (data && data.action) {\n        loadFlashSales()\n      }\n    })\n\n    // Set up interval to check for expired sales every 30 seconds\n    const intervalId = setInterval(() => {\n      loadFlashSales()\n    }, 30000)\n\n    return () => {\n      unsubscribe()\n      clearInterval(intervalId)\n    }\n  }, [loadFlashSales])\n\n  const handlePurchase = (flashSale) => {\n    // Check available stock using remainingStock or calculated value\n    const remainingStock = flashSale.remainingStock !== undefined \n      ? flashSale.remainingStock \n      : (flashSale.total - flashSale.sold)\n    \n    if (remainingStock <= 0) {\n      alert('This flash sale is sold out!')\n      return\n    }\n\n    if (onAddToCart) {\n      onAddToCart({\n        id: flashSale.id,\n        name: flashSale.product,\n        price: `â‚¹${flashSale.price}`,\n        image: flashSale.image,\n        supplier: flashSale.supplier,\n        supplierId: flashSale.supplierId,\n        quantity: 1,\n        isFlashSale: true\n      })\n    }\n\n    // Use proper inventory management for flash sales\n    const updatedSale = flashSalesDatabase.decreaseFlashSaleStock(flashSale.id, 1)\n    \n    if (!updatedSale) {\n      alert('Failed to update flash sale inventory!')\n      return\n    }\n    \n    console.log(`Flash sale stock updated: ${flashSale.product} - Remaining: ${updatedSale.remainingStock}`)\n\n    // Reload flash sales to reflect changes\n    loadFlashSales()\n  }\n\n  if (flashSales.length === 0) {\n    return null\n  }\n\n  return (\n    <div className=\"bg-gradient-to-r from-red-50 to-orange-50 rounded-lg p-6 mb-8\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Zap className=\"w-6 h-6 text-orange-600\" />\n        <h2 className=\"text-2xl font-bold text-gray-800\">âš¡ Flash Sales</h2>\n      </div>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {flashSales.map((sale) => {\n          const remainingStock = sale.remainingStock !== undefined ? sale.remainingStock : (sale.total - sale.sold)\n          const isSoldOut = remainingStock <= 0\n          const isExpired = expiredSales.has(sale.id)\n          const cardBgClass = isSoldOut ? 'bg-gray-200' : isExpired ? 'bg-gray-100' : 'bg-white'\n          const borderClass = isSoldOut ? 'border-gray-400' : isExpired ? 'border-gray-300' : 'border-red-200'\n          \n          return (\n          <div key={sale.id} className={`${cardBgClass} rounded-lg shadow-md p-4 border-2 ${borderClass} relative`}>\n            {/* Sold Out / Expired Overlay */}\n            {(isSoldOut || isExpired) && (\n              <div className=\"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center z-10\">\n                <span className=\"bg-red-600 text-white text-xl font-bold px-4 py-2 rounded-lg\">\n                  {isExpired ? 'EXPIRED' : 'SOLD OUT'}\n                </span>\n              </div>\n            )}\n            \n            <div className=\"flex justify-between items-start mb-2\">\n              <h3 className={`font-bold text-lg ${isSoldOut || isExpired ? 'text-gray-500' : ''}`}>{sale.product}</h3>\n              <span className={`text-white text-sm px-2 py-1 rounded-full ${\n                isSoldOut || isExpired ? 'bg-gray-400' : 'bg-red-500'\n              }`}>\n                {sale.discount}% OFF\n              </span>\n            </div>\n            \n            {sale.image && (\n              <img \n                src={sale.image} \n                alt={sale.product}\n                className=\"w-full h-48 object-cover rounded mb-3\"\n                onError={(e) => {\n                  e.target.src = 'https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop'\n                }}\n              />\n            )}\n            \n            <div className=\"space-y-2 mb-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className={`line-through ${isSoldOut || isExpired ? 'text-gray-400' : 'text-gray-500'}`}>â‚¹{sale.oldPrice}</span>\n                <span className={`text-2xl font-bold ${\n                  isSoldOut || isExpired ? 'text-gray-500' : 'text-green-600'\n                }`}>â‚¹{sale.price}</span>\n              </div>\n              \n              <div className={`text-sm ${isSoldOut || isExpired ? 'text-gray-400' : 'text-gray-600'}`}>\n                by {sale.supplier}\n              </div>\n              \n              <div className=\"flex justify-between text-sm\">\n                <span className={isSoldOut || isExpired ? 'text-gray-400' : ''}>Sold: {sale.sold}/{sale.total}</span>\n                <span className={`font-medium ${\n                  isExpired ? 'text-gray-400' : isSoldOut ? 'text-gray-500' : 'text-red-600'\n                }`}>\n                  <FlashSaleTimer \n                    endTime={sale.endTime} \n                    onExpired={() => handleTimerExpired(sale.id)}\n                  />\n                </span>\n              </div>\n            </div>\n            \n            <div className=\"w-full bg-gray-200 rounded-full h-2 mb-3\">\n              <div\n                className={`h-2 rounded-full transition-all duration-300 ${\n                  isSoldOut || isExpired ? 'bg-gray-400' : 'bg-red-500'\n                }`}\n                style={{ width: `${Math.min((sale.sold / sale.total) * 100, 100)}%` }}\n              ></div>\n            </div>\n            \n            <button\n              onClick={() => handlePurchase(sale)}\n              disabled={isSoldOut || isExpired}\n              className={`w-full flex items-center justify-center gap-2 py-2 px-4 rounded-lg font-medium transition-colors ${\n                isSoldOut || isExpired\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  : 'bg-red-600 hover:bg-red-700 text-white'\n              }`}\n            >\n              <ShoppingCart className=\"w-4 h-4\" />\n              {isExpired ? 'Expired' : isSoldOut ? 'Sold Out' : 'Buy Now'}\n            </button>\n          </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default FlashSalesDisplay\n","size_bytes":8822},"src/components/Layout/Footer.jsx":{"content":"import React from 'react'\nimport { \n  Phone, \n  Mail\n} from 'lucide-react'\n\nconst Footer = () => {\n  return (\n    <footer className=\"bg-gray-900 text-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Company Info */}\n          <div>\n            <div className=\"flex items-center mb-4\">\n              <div className=\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\">\n                <span className=\"text-white font-bold text-lg\">VM</span>\n              </div>\n              <span className=\"ml-2 text-xl font-bold\">Vendor Mitra</span>\n            </div>\n            <p className=\"text-gray-300 mb-4\">\n              Connecting trusted food suppliers with vendors across India. \n              Verified suppliers, smart bargaining, and real-time tracking.\n            </p>\n          </div>\n\n          {/* Contact Info */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Contact Us</h3>\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center text-gray-300\">\n                <Phone className=\"w-4 h-4 mr-2\" />\n                <span>+91 9155564974</span>\n              </div>\n              <div className=\"flex items-center text-gray-300\">\n                <Mail className=\"w-4 h-4 mr-2\" />\n                <span>vendormitra@gmail.com</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400\">\n          <p>&copy; 2025 Vendor Mitra. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer","size_bytes":1709},"src/components/Layout/Navbar.jsx":{"content":"import React, { useState } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { useCart } from '../../contexts/CartContext'\nimport { \n  Menu, \n  X, \n  User, \n  MapPin, \n  ShoppingCart, \n  Zap,\n  Store,\n  Home,\n  BarChart3,\n  Package,\n  MessageSquare,\n  ChevronDown,\n  Settings,\n  LogOut\n} from 'lucide-react'\n\nconst Navbar = () => {\n  const [isOpen, setIsOpen] = useState(false)\n  const [profileDropdownOpen, setProfileDropdownOpen] = useState(false)\n  const { user, logout } = useAuth()\n  const { getCartCount } = useCart()\n  const location = useLocation()\n\n  const navigation = [\n    { name: 'Home', href: '/', icon: Home },\n    { name: 'Find Items', href: '/find-items', icon: Package },\n    { name: 'Flash Sales', href: '/find-sales', icon: Zap },\n    { name: 'Suppliers', href: '/suppliers', icon: MapPin },\n    { name: 'Organic', href: '/organic', icon: Store },\n    { name: 'Bargains', href: '/bargains', icon: MessageSquare },\n  ]\n\n  // Filter navigation based on user type\n  const getFilteredNavigation = () => {\n    if (user && (user.type === 'supplier' || user.userType === 'supplier')) {\n      // Suppliers see only their dashboard and profile\n      return []\n    }\n    // Vendors see all navigation items\n    return navigation\n  }\n\n  const handleLogout = () => {\n    logout()\n    setIsOpen(false)\n  }\n\n  return (\n    <nav className=\"bg-white shadow-lg\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center\">\n            <Link to=\"/\" className=\"flex-shrink-0 flex items-center\">\n              <div className=\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\">\n                <span className=\"text-white font-bold text-lg\">VM</span>\n              </div>\n              <span className=\"ml-2 text-xl font-bold text-gray-900\">Vendor Mitra</span>\n            </Link>\n          </div>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center space-x-8\">\n            {getFilteredNavigation().map((item) => {\n              const Icon = item.icon\n              return (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                    location.pathname === item.href\n                      ? 'text-primary-600 bg-primary-50'\n                      : 'text-gray-700 hover:text-primary-600 hover:bg-gray-50'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4 mr-1\" />\n                  {item.name}\n                </Link>\n              )\n            })}\n          </div>\n\n          <div className=\"hidden md:flex items-center space-x-4\">\n            {/* Cart Icon - Only for vendors */}\n            {(!user || (user.type !== 'supplier' && user.userType !== 'supplier')) && (\n              <div className=\"relative\">\n                <Link to=\"/cart\" className=\"flex items-center gap-1 hover:text-primary-600 transition-colors\">\n                  <ShoppingCart className=\"w-5 h-5 text-gray-700\" />\n                  {getCartCount() > 0 && (\n                    <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                      {getCartCount()}\n                    </span>\n                  )}\n                  <span className=\"text-xs text-gray-500\">({getCartCount()})</span>\n                </Link>\n              </div>\n            )}\n\n\n            {/* Auth Buttons */}\n            {user ? (\n              <div className=\"relative\">\n                <button\n                  onClick={() => setProfileDropdownOpen(!profileDropdownOpen)}\n                  className=\"flex items-center space-x-2 text-gray-700 hover:text-primary-600 bg-gray-50 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors\"\n                >\n                  <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white font-semibold text-sm\">{user.name?.charAt(0) || 'U'}</span>\n                  </div>\n                  <span className=\"font-medium\">{user.name}</span>\n                  <ChevronDown className=\"w-4 h-4\" />\n                </button>\n\n                {/* Profile Dropdown */}\n                {profileDropdownOpen && (\n                  <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\">\n                    <div className=\"px-4 py-3 border-b border-gray-100\">\n                      <p className=\"text-sm font-medium text-gray-900\">{user.name}</p>\n                      <p className=\"text-sm text-gray-500\">{user.email}</p>\n                    </div>\n                    \n                    {(user.type === 'supplier' || user.userType === 'supplier') && (\n                      <Link\n                        to=\"/supplier-dashboard\"\n                        className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                        onClick={() => setProfileDropdownOpen(false)}\n                      >\n                        <BarChart3 className=\"w-4 h-4 mr-3\" />\n                        My Dashboard\n                      </Link>\n                    )}\n                    \n                    <Link\n                      to=\"/profile\"\n                      className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                      onClick={() => setProfileDropdownOpen(false)}\n                    >\n                      <User className=\"w-4 h-4 mr-3\" />\n                      Profile Settings\n                    </Link>\n                    \n                    <Link\n                      to=\"/settings\"\n                      className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                      onClick={() => setProfileDropdownOpen(false)}\n                    >\n                      <Settings className=\"w-4 h-4 mr-3\" />\n                      Settings\n                    </Link>\n                    \n                    <div className=\"border-t border-gray-100 mt-1\">\n                      <button\n                        onClick={() => {\n                          handleLogout()\n                          setProfileDropdownOpen(false)\n                        }}\n                        className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n                      >\n                        <LogOut className=\"w-4 h-4 mr-3\" />\n                        Sign Out\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"flex items-center space-x-4\">\n                <Link\n                  to=\"/login\"\n                  className=\"text-gray-700 hover:text-primary-600\"\n                >\n                  Login\n                </Link>\n                <Link\n                  to=\"/register\"\n                  className=\"btn-primary\"\n                >\n                  Register\n                </Link>\n              </div>\n            )}\n          </div>\n\n          {/* Mobile menu button */}\n          <div className=\"md:hidden flex items-center\">\n            <button\n              onClick={() => setIsOpen(!isOpen)}\n              className=\"text-gray-700 hover:text-primary-600\"\n            >\n              {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Navigation */}\n      {isOpen && (\n        <div className=\"md:hidden\">\n          <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t\">\n            {getFilteredNavigation().map((item) => {\n              const Icon = item.icon\n              return (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`flex items-center px-3 py-2 rounded-md text-base font-medium ${\n                    location.pathname === item.href\n                      ? 'text-primary-600 bg-primary-50'\n                      : 'text-gray-700 hover:text-primary-600 hover:bg-gray-50'\n                  }`}\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Icon className=\"w-4 h-4 mr-2\" />\n                  {item.name}\n                </Link>\n              )\n            })}\n            \n            {/* Mobile Cart Link - Only for vendors */}\n            {(!user || (user.type !== 'supplier' && user.userType !== 'supplier')) && (\n              <Link\n                to=\"/cart\"\n                className=\"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50\"\n                onClick={() => setIsOpen(false)}\n              >\n                <ShoppingCart className=\"w-4 h-4 mr-2\" />\n                Cart ({getCartCount()})\n              </Link>\n            )}\n\n            {user ? (\n              <div className=\"pt-4 border-t border-gray-200\">\n                {/* Dashboard link - Only for suppliers */}\n                {(user.type === 'supplier' || user.userType === 'supplier') && (\n                  <Link\n                    to=\"/supplier-dashboard\"\n                    className=\"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600\"\n                    onClick={() => setIsOpen(false)}\n                  >\n                    <BarChart3 className=\"w-4 h-4 mr-2\" />\n                    Dashboard\n                  </Link>\n                )}\n                <Link\n                  to=\"/profile\"\n                  className=\"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <User className=\"w-4 h-4 mr-2\" />\n                  {user.name}\n                </Link>\n                <button\n                  onClick={handleLogout}\n                  className=\"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600\"\n                >\n                  Logout\n                </button>\n              </div>\n            ) : (\n              <div className=\"pt-4 border-t border-gray-200 space-y-2\">\n                <Link\n                  to=\"/login\"\n                  className=\"block px-3 py-2 text-gray-700 hover:text-primary-600\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  Login\n                </Link>\n                <Link\n                  to=\"/register\"\n                  className=\"block px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  Register\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </nav>\n  )\n}\n\nexport default Navbar ","size_bytes":11089},"src/components/Layout/SupplierLayout.jsx":{"content":"import React, { useState } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport {\n  Menu,\n  X,\n  User,\n  BarChart3,\n  Package,\n  MessageSquare,\n  Zap,\n  Star,\n  Truck,\n  LogOut,\n  Settings\n} from 'lucide-react'\n\nconst SupplierLayout = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { user, logout } = useAuth()\n  const location = useLocation()\n\n  const supplierNavigation = [\n    { name: 'Dashboard', href: '/supplier-dashboard', icon: BarChart3 },\n  ]\n\n  const handleLogout = () => {\n    logout()\n    setIsOpen(false)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Supplier Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex items-center\">\n              <Link to=\"/supplier-dashboard\" className=\"flex-shrink-0 flex items-center\">\n                <div className=\"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-white font-bold text-lg\">VM</span>\n                </div>\n                <span className=\"ml-2 text-xl font-bold text-gray-900\">Vendor Mitra</span>\n              </Link>\n            </div>\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden md:flex items-center space-x-8\">\n              {supplierNavigation.map((item) => {\n                const Icon = item.icon\n                return (\n                  <Link\n                    key={item.name}\n                    to={item.href}\n                    className={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      location.pathname === item.href\n                        ? 'text-green-600 bg-green-50'\n                        : 'text-gray-700 hover:text-green-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    <Icon className=\"w-4 h-4 mr-1\" />\n                    {item.name}\n                  </Link>\n                )\n              })}\n            </div>\n\n            <div className=\"hidden md:flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                  <User className=\"w-4 h-4 text-green-600\" />\n                </div>\n                <div className=\"text-sm\">\n                  <p className=\"font-medium text-gray-900\">{user?.name}</p>\n                  <p className=\"text-gray-500\">Supplier</p>\n                </div>\n              </div>\n              <Link\n                to=\"/profile\"\n                className=\"text-gray-700 hover:text-green-600\"\n              >\n                <Settings className=\"w-5 h-5\" />\n              </Link>\n              <button\n                onClick={handleLogout}\n                className=\"text-gray-700 hover:text-red-600\"\n              >\n                <LogOut className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Mobile menu button */}\n            <div className=\"md:hidden flex items-center\">\n              <button\n                onClick={() => setIsOpen(!isOpen)}\n                className=\"text-gray-700 hover:text-green-600\"\n              >\n                {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Mobile Navigation */}\n      {isOpen && (\n        <div className=\"md:hidden\">\n          <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t\">\n            {supplierNavigation.map((item) => {\n              const Icon = item.icon\n              return (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`flex items-center px-3 py-2 rounded-md text-base font-medium ${\n                    location.pathname === item.href\n                      ? 'text-green-600 bg-green-50'\n                      : 'text-gray-700 hover:text-green-600 hover:bg-gray-50'\n                  }`}\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Icon className=\"w-4 h-4 mr-2\" />\n                  {item.name}\n                </Link>\n              )\n            })}\n\n            <div className=\"pt-4 border-t border-gray-200\">\n              <div className=\"flex items-center px-3 py-2\">\n                <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3\">\n                  <User className=\"w-4 h-4 text-green-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">{user?.name}</p>\n                  <p className=\"text-xs text-gray-500\">Supplier</p>\n                </div>\n              </div>\n              <Link\n                to=\"/profile\"\n                className=\"flex items-center px-3 py-2 text-gray-700 hover:text-green-600\"\n                onClick={() => setIsOpen(false)}\n              >\n                <Settings className=\"w-4 h-4 mr-2\" />\n                Settings\n              </Link>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600\"\n              >\n                <LogOut className=\"w-4 h-4 mr-2\" />\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Main Content */}\n      <main className=\"flex-1\">\n        {children}\n      </main>\n\n      {/* Supplier Footer */}\n      <footer className=\"bg-white border-t mt-auto\">\n        <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center text-sm text-gray-500\">\n            <p>&copy; 2025 Vendor Mitra Supplier Portal. All rights reserved.</p>\n            <p className=\"mt-1\">For support, contact: +91 9155564974 | vendormitra@gmail.com</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  )\n}\n\nexport default SupplierLayout ","size_bytes":6204},"src/components/Location/LocationTracker.jsx":{"content":"import React, { useState } from 'react'\nimport { MapPin, Map } from 'lucide-react'\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\n\n// Fix for default markers in react-leaflet\nimport L from 'leaflet'\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n})\n\nconst LocationTracker = () => {\n  const [location, setLocation] = useState(null)\n  const [error, setError] = useState('')\n  const [showMap, setShowMap] = useState(false)\n\n  const getLocation = () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser.')\n      return\n    }\n    \n    setError('')\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        const newLocation = {\n          lat: pos.coords.latitude,\n          lng: pos.coords.longitude\n        }\n        setLocation(newLocation)\n        setShowMap(true)\n        setError('')\n      },\n      (err) => {\n        setError('Unable to retrieve your location. Please check your browser permissions.')\n        console.error('Geolocation error:', err)\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000\n      }\n    )\n  }\n\n  return (\n    <div className=\"card space-y-4\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <MapPin className=\"w-5 h-5 text-primary-600\" />\n        <h3 className=\"text-lg font-semibold\">Location Tracker</h3>\n      </div>\n      \n      <button \n        className=\"btn-primary w-full flex items-center justify-center gap-2\" \n        onClick={getLocation}\n      >\n        <Map className=\"w-4 h-4\" />\n        Get My Location\n      </button>\n      \n      {location && (\n        <div className=\"space-y-3\">\n          <div className=\"bg-gray-50 p-3 rounded-lg\">\n            <div className=\"text-sm font-medium text-gray-700\">Your Location:</div>\n            <div className=\"text-sm text-gray-600\">Latitude: {location.lat.toFixed(6)}</div>\n            <div className=\"text-sm text-gray-600\">Longitude: {location.lng.toFixed(6)}</div>\n          </div>\n          \n          {showMap && (\n            <div className=\"h-64 rounded-lg overflow-hidden border\">\n              <MapContainer \n                center={[location.lat, location.lng]} \n                zoom={15} \n                style={{ height: '100%', width: '100%' }}\n              >\n                <TileLayer\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                />\n                <Marker position={[location.lat, location.lng]}>\n                  <Popup>\n                    <div>\n                      <h3 className=\"font-bold\">Your Location</h3>\n                      <p>Lat: {location.lat.toFixed(6)}</p>\n                      <p>Lng: {location.lng.toFixed(6)}</p>\n                    </div>\n                  </Popup>\n                </Marker>\n              </MapContainer>\n            </div>\n          )}\n        </div>\n      )}\n      \n      {error && (\n        <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default LocationTracker ","size_bytes":3548},"src/components/Rating/ReviewSystem.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { Star, Upload, X, Camera } from 'lucide-react'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { reviewsDatabase } from '../../data/userDatabase'\n\nconst ReviewSystem = ({ itemId, itemName, supplierId, supplierName, onClose, onSubmit, readOnly = false }) => {\n  const { user } = useAuth()\n  const [rating, setRating] = useState(0)\n  const [comment, setComment] = useState('')\n  const [selectedImage, setSelectedImage] = useState(null)\n  const [imagePreview, setImagePreview] = useState(null)\n  const [reviews, setReviews] = useState([])\n  const [showForm, setShowForm] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0]\n    if (file) {\n      setSelectedImage(file)\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        setImagePreview(e.target.result)\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n\n  const removeImage = () => {\n    setSelectedImage(null)\n    setImagePreview(null)\n  }\n\n  // Load existing reviews for this supplier\n  useEffect(() => {\n    if (supplierId) {\n      const existingReviews = reviewsDatabase.getReviewsBySupplier(supplierId)\n      setReviews(existingReviews)\n    }\n  }, [supplierId])\n\n  const handleSubmitReview = () => {\n    if (rating === 0) {\n      alert('Please select a rating')\n      return\n    }\n\n    if (!comment.trim()) {\n      alert('Please write a comment')\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      const newReview = {\n        productId: itemId,\n        productName: itemName,\n        supplierId: supplierId,\n        supplierName: supplierName,\n        vendorId: user?.id || 1,\n        vendorName: user?.name || 'Anonymous',\n        rating,\n        comment,\n        image: imagePreview,\n        date: new Date().toISOString(),\n        status: 'published'\n      }\n\n      // Save to database\n      const savedReview = reviewsDatabase.addReview(newReview)\n      console.log('Review submitted successfully:', savedReview)\n      \n      // Update local state\n      setReviews(prev => [...prev, savedReview])\n      setRating(0)\n      setComment('')\n      setSelectedImage(null)\n      setImagePreview(null)\n      setShowForm(false)\n\n      if (onSubmit) {\n        onSubmit(savedReview)\n      }\n\n      // Close the modal after successful submission\n      if (onClose) {\n        onClose()\n      }\n    } catch (error) {\n      console.error('Error submitting review:', error)\n      alert('Failed to submit review. Please try again.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const averageRating = reviews.length > 0 \n    ? (reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length).toFixed(1)\n    : 0\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full\">\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Reviews for {itemName}</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Average Rating */}\n        <div className=\"flex items-center gap-2 mb-4\">\n          <div className=\"flex items-center\">\n            {[1, 2, 3, 4, 5].map((star) => (\n              <Star\n                key={star}\n                className={`w-5 h-5 ${\n                  star <= averageRating\n                    ? 'text-yellow-400 fill-current'\n                    : 'text-gray-300'\n                }`}\n              />\n            ))}\n          </div>\n          <span className=\"text-sm text-gray-600\">\n            {averageRating} ({reviews.length} reviews)\n          </span>\n        </div>\n\n        {/* Write Review Button - Only show if not read-only */}\n        {!readOnly && !showForm && (\n          <button\n            onClick={() => setShowForm(true)}\n            className=\"w-full bg-primary-600 hover:bg-primary-700 text-white py-2 px-4 rounded-lg transition-colors mb-4\"\n          >\n            Write a Review\n          </button>\n        )}\n\n        {/* Review Form - Only show if not read-only */}\n        {!readOnly && showForm && (\n          <div className=\"border rounded-lg p-4 mb-4\">\n            <h4 className=\"font-medium mb-3\">Write Your Review</h4>\n            \n            {/* Rating Selection */}\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Rating *\n              </label>\n              <div className=\"flex items-center gap-1\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <button\n                    key={star}\n                    onClick={() => setRating(star)}\n                    className=\"focus:outline-none\"\n                  >\n                    <Star\n                      className={`w-6 h-6 ${\n                        star <= rating\n                          ? 'text-yellow-400 fill-current'\n                          : 'text-gray-300'\n                      }`}\n                    />\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Comment */}\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Comment *\n              </label>\n              <textarea\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n                placeholder=\"Share your experience...\"\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                rows=\"3\"\n              />\n            </div>\n\n            {/* Image Upload */}\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Add Photo (Optional)\n              </label>\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\n                {!imagePreview ? (\n                  <div>\n                    <Camera className=\"w-8 h-8 text-gray-400 mx-auto mb-2\" />\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleImageUpload}\n                      className=\"hidden\"\n                      id=\"image-upload\"\n                    />\n                    <label\n                      htmlFor=\"image-upload\"\n                      className=\"cursor-pointer text-primary-600 hover:text-primary-700\"\n                    >\n                      Click to upload image\n                    </label>\n                  </div>\n                ) : (\n                  <div className=\"relative\">\n                    <img\n                      src={imagePreview}\n                      alt=\"Preview\"\n                      className=\"w-full h-32 object-cover rounded-lg\"\n                    />\n                    <button\n                      onClick={removeImage}\n                      className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"flex gap-2\">\n              <button\n                onClick={handleSubmitReview}\n                disabled={loading}\n                className=\"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-lg transition-colors\"\n              >\n                {loading ? 'Submitting...' : 'Submit Review'}\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Reviews List */}\n        <div className=\"space-y-4 max-h-64 overflow-y-auto\">\n          {reviews.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              <p>No reviews yet for this supplier.</p>\n              <p className=\"text-sm\">Be the first to share your experience!</p>\n            </div>\n          ) : (\n            <>\n              {/* Past Reviews Header */}\n              <div className=\"flex items-center justify-between mb-4\">\n                <h4 className=\"font-medium text-gray-900\">Past Reviews ({reviews.length})</h4>\n              </div>\n              \n              {reviews.map((review) => (\n                <div key={review.id} className=\"border-b pb-4\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className=\"flex items-center\">\n                      {[1, 2, 3, 4, 5].map((star) => (\n                        <Star\n                          key={star}\n                          className={`w-4 h-4 ${\n                            star <= review.rating\n                              ? 'text-yellow-400 fill-current'\n                              : 'text-gray-300'\n                          }`}\n                        />\n                      ))}\n                    </div>\n                    <span className=\"text-sm text-gray-500 font-medium\">{review.vendorName || 'Anonymous'}</span>\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(review.date).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-700 mb-2\">{review.comment}</p>\n                  {review.image && (\n                    <img\n                      src={review.image}\n                      alt=\"Review\"\n                      className=\"w-20 h-20 object-cover rounded-lg\"\n                    />\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewSystem ","size_bytes":9926},"src/components/Rating/TrustScore.jsx":{"content":"import React, { useState } from 'react'\nimport { Star, Image } from 'lucide-react'\n\nconst TrustScore = ({ supplierId }) => {\n  const [rating, setRating] = useState(0)\n  const [comment, setComment] = useState('')\n  const [photo, setPhoto] = useState(null)\n  const [reviews, setReviews] = useState([])\n\n  const handlePhotoUpload = (e) => {\n    setPhoto(URL.createObjectURL(e.target.files[0]))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setReviews([...reviews, { rating, comment, photo }])\n    setRating(0)\n    setComment('')\n    setPhoto(null)\n  }\n\n  return (\n    <div className=\"card space-y-4\">\n      <div className=\"flex items-center gap-2\">\n        {[1,2,3,4,5].map(n => (\n          <Star\n            key={n}\n            className={`w-6 h-6 cursor-pointer ${n <= rating ? 'text-yellow-400' : 'text-gray-300'}`}\n            onClick={() => setRating(n)}\n          />\n        ))}\n        <span className=\"ml-2 font-semibold\">Rate Supplier</span>\n      </div>\n      <form onSubmit={handleSubmit} className=\"space-y-2\">\n        <textarea\n          className=\"input-field\"\n          placeholder=\"Leave a comment...\"\n          value={comment}\n          onChange={e => setComment(e.target.value)}\n        />\n        <input type=\"file\" accept=\"image/*\" onChange={handlePhotoUpload} />\n        <button className=\"btn-primary\" type=\"submit\">Submit Review</button>\n      </form>\n      <div>\n        <h4 className=\"font-bold mb-2\">Reviews</h4>\n        {reviews.length === 0 && <div>No reviews yet.</div>}\n        {reviews.map((r, i) => (\n          <div key={i} className=\"border-b py-2\">\n            <div className=\"flex items-center gap-1\">\n              {[...Array(r.rating)].map((_, idx) => (\n                <Star key={idx} className=\"w-4 h-4 text-yellow-400\" />\n              ))}\n            </div>\n            <div>{r.comment}</div>\n            {r.photo && <img src={r.photo} alt=\"review\" className=\"w-24 h-24 object-cover mt-2 rounded\" />}\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default TrustScore ","size_bytes":2043},"src/components/StockManagement/StockDemo.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport { Package, Plus, Minus, RefreshCw, AlertTriangle, CheckCircle, Clock } from 'lucide-react'\nimport stockManager from '../../utils/stockManager'\nimport { productDatabase } from '../../data/userDatabase'\nimport realTimeSync from '../../utils/realTimeSync'\n\nconst StockDemo = () => {\n  const [products, setProducts] = useState([])\n  const [selectedProduct, setSelectedProduct] = useState(null)\n  const [operationType, setOperationType] = useState('purchase')\n  const [quantity, setQuantity] = useState(1)\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [logs, setLogs] = useState([])\n  const [stockHistory, setStockHistory] = useState([])\n\n  useEffect(() => {\n    loadProducts()\n    loadStockHistory()\n    \n    // Subscribe to real-time stock updates\n    const unsubscribe = realTimeSync.subscribe('stock_update', (data) => {\n      console.log('Real-time stock update received:', data)\n      addLog(`Real-time update: ${data.productName} stock changed from ${data.previousStock} to ${data.newStock}`)\n      loadProducts() // Refresh products\n      loadStockHistory() // Refresh history\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  const loadProducts = () => {\n    const allProducts = productDatabase.getAllProducts()\n    setProducts(allProducts)\n    if (!selectedProduct && allProducts.length > 0) {\n      setSelectedProduct(allProducts[0])\n    }\n  }\n\n  const loadStockHistory = () => {\n    const history = stockManager.getStockHistory(null, 10)\n    setStockHistory(history)\n  }\n\n  const addLog = (message) => {\n    const timestamp = new Date().toLocaleTimeString()\n    setLogs(prev => [`[${timestamp}] ${message}`, ...prev.slice(0, 9)])\n  }\n\n  const handleStockOperation = async () => {\n    if (!selectedProduct || quantity <= 0) {\n      addLog('Error: Please select a product and enter a valid quantity')\n      return\n    }\n\n    setIsProcessing(true)\n    addLog(`Starting ${operationType} operation for ${selectedProduct.name}...`)\n\n    try {\n      let result\n      const options = {\n        vendorId: 1,\n        supplierId: selectedProduct.supplierId,\n        orderId: `DEMO-${Date.now()}`\n      }\n\n      switch (operationType) {\n        case 'purchase':\n          result = await stockManager.purchase(selectedProduct.id, quantity, options)\n          break\n        case 'restock':\n          result = await stockManager.restock(selectedProduct.id, quantity, options)\n          break\n        case 'setStock':\n          result = await stockManager.setStock(selectedProduct.id, quantity, options)\n          break\n        default:\n          throw new Error('Invalid operation type')\n      }\n\n      if (result.success) {\n        addLog(`âœ… ${operationType} successful: ${selectedProduct.name} (${quantity} units)`)\n        addLog(`Stock updated: ${result.data.previousStock} â†’ ${result.data.newStock}`)\n        loadProducts()\n        loadStockHistory()\n      } else {\n        addLog(`âŒ ${operationType} failed: ${result.error}`)\n      }\n    } catch (error) {\n      addLog(`âŒ Error: ${error.message}`)\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  const checkStockAvailability = async () => {\n    if (!selectedProduct || quantity <= 0) return\n\n    try {\n      const result = await stockManager.checkAvailability(selectedProduct.id, quantity)\n      if (result.success) {\n        const { isAvailable, currentStock, shortfall } = result.data\n        if (isAvailable) {\n          addLog(`âœ… Stock check: ${quantity} units available (${currentStock} in stock)`)\n        } else {\n          addLog(`âš ï¸ Stock check: Insufficient stock. Need ${shortfall} more units`)\n        }\n      }\n    } catch (error) {\n      addLog(`âŒ Stock check error: ${error.message}`)\n    }\n  }\n\n  const getStockStatusColor = (stock) => {\n    if (stock === 0) return 'text-red-600 bg-red-50'\n    if (stock <= 10) return 'text-yellow-600 bg-yellow-50'\n    return 'text-green-600 bg-green-50'\n  }\n\n  const getStockStatusIcon = (stock) => {\n    if (stock === 0) return <AlertTriangle className=\"w-4 h-4\" />\n    if (stock <= 10) return <Clock className=\"w-4 h-4\" />\n    return <CheckCircle className=\"w-4 h-4\" />\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-2\">\n          <Package className=\"w-6 h-6 text-blue-600\" />\n          Stock Management Demo\n        </h2>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Control Panel */}\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Product\n              </label>\n              <select\n                value={selectedProduct?.id || ''}\n                onChange={(e) => {\n                  const product = products.find(p => p.id === parseInt(e.target.value))\n                  setSelectedProduct(product)\n                }}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Choose a product...</option>\n                {products.map(product => (\n                  <option key={product.id} value={product.id}>\n                    {product.name} (Stock: {product.stock || product.quantity || 0})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {selectedProduct && (\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h3 className=\"font-medium text-gray-900 mb-2\">{selectedProduct.name}</h3>\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-gray-600\">Current Stock:</span>\n                    <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ml-2 ${getStockStatusColor(selectedProduct.stock || selectedProduct.quantity || 0)}`}>\n                      {getStockStatusIcon(selectedProduct.stock || selectedProduct.quantity || 0)}\n                      {selectedProduct.stock || selectedProduct.quantity || 0} {selectedProduct.unit || 'units'}\n                    </div>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">Price:</span>\n                    <span className=\"ml-2 font-medium\">â‚¹{selectedProduct.price}/{selectedProduct.unit || 'unit'}</span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">Supplier:</span>\n                    <span className=\"ml-2\">{selectedProduct.supplierName}</span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">Category:</span>\n                    <span className=\"ml-2 capitalize\">{selectedProduct.category}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Operation Type\n              </label>\n              <div className=\"grid grid-cols-3 gap-2\">\n                {[\n                  { value: 'purchase', label: 'Purchase', icon: Minus, color: 'red' },\n                  { value: 'restock', label: 'Restock', icon: Plus, color: 'green' },\n                  { value: 'setStock', label: 'Set Stock', icon: RefreshCw, color: 'blue' }\n                ].map(({ value, label, icon: Icon, color }) => (\n                  <button\n                    key={value}\n                    onClick={() => setOperationType(value)}\n                    className={`p-3 rounded-lg border-2 transition-all ${\n                      operationType === value\n                        ? `border-${color}-500 bg-${color}-50 text-${color}-700`\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <Icon className=\"w-4 h-4 mx-auto mb-1\" />\n                    <div className=\"text-xs font-medium\">{label}</div>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Quantity\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                value={quantity}\n                onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter quantity...\"\n              />\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={handleStockOperation}\n                disabled={isProcessing || !selectedProduct}\n                className=\"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isProcessing ? 'Processing...' : `Execute ${operationType}`}\n              </button>\n              <button\n                onClick={checkStockAvailability}\n                disabled={!selectedProduct}\n                className=\"px-4 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors\"\n              >\n                Check Stock\n              </button>\n            </div>\n          </div>\n\n          {/* Live Logs */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold\">Live Activity Log</h3>\n            <div className=\"bg-gray-900 text-green-400 p-4 rounded-lg h-64 overflow-y-auto font-mono text-sm\">\n              {logs.length === 0 ? (\n                <div className=\"text-gray-500\">No activity yet...</div>\n              ) : (\n                logs.map((log, index) => (\n                  <div key={index} className=\"mb-1\">\n                    {log}\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Stock History */}\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Recent Stock Transactions</h3>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b\">\n                <th className=\"text-left py-2\">Time</th>\n                <th className=\"text-left py-2\">Product</th>\n                <th className=\"text-left py-2\">Type</th>\n                <th className=\"text-left py-2\">Previous Stock</th>\n                <th className=\"text-left py-2\">New Stock</th>\n                <th className=\"text-left py-2\">Change</th>\n              </tr>\n            </thead>\n            <tbody>\n              {stockHistory.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"text-center py-4 text-gray-500\">\n                    No transactions yet\n                  </td>\n                </tr>\n              ) : (\n                stockHistory.map((transaction, index) => (\n                  <tr key={index} className=\"border-b hover:bg-gray-50\">\n                    <td className=\"py-2\">\n                      {new Date(transaction.timestamp).toLocaleTimeString()}\n                    </td>\n                    <td className=\"py-2 font-medium\">{transaction.productName}</td>\n                    <td className=\"py-2\">\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                        transaction.type === 'purchase' ? 'bg-red-100 text-red-700' :\n                        transaction.type === 'restock' ? 'bg-green-100 text-green-700' :\n                        'bg-blue-100 text-blue-700'\n                      }`}>\n                        {transaction.type}\n                      </span>\n                    </td>\n                    <td className=\"py-2\">{transaction.previousStock}</td>\n                    <td className=\"py-2\">{transaction.newStock}</td>\n                    <td className=\"py-2\">\n                      <span className={`font-medium ${\n                        transaction.quantityChanged > 0 ? 'text-green-600' : 'text-red-600'\n                      }`}>\n                        {transaction.quantityChanged > 0 ? '+' : ''}{transaction.quantityChanged}\n                      </span>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Current Stock Overview */}\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Current Stock Overview</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {products.map(product => {\n            const stock = product.stock || product.quantity || 0\n            return (\n              <div key={product.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"font-medium truncate\">{product.name}</h4>\n                  {getStockStatusIcon(stock)}\n                </div>\n                <div className=\"text-sm text-gray-600 mb-2\">\n                  {product.supplierName}\n                </div>\n                <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${getStockStatusColor(stock)}`}>\n                  {stock} {product.unit || 'units'}\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default StockDemo\n","size_bytes":13839},"src/components/SupplierFinder/NearbySuppliers.jsx":{"content":"import React, { useState, useEffect } from 'react'\nimport {\n  MapPin,\n  Star,\n  Search,\n  Filter,\n  Map as MapIcon,\n  List,\n  Plus,\n  Minus\n} from 'lucide-react'\n\n// --- NEW: react-leaflet / leaflet imports ---\nimport {\n  MapContainer,\n  TileLayer,\n  Marker,\n  Popup,\n  Circle,\n  useMap\n} from 'react-leaflet'\nimport L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\n// Import the enhanced suppliers database\nimport { generateNearbySuppliers as generateSuppliersFromDB } from '../../data/suppliersDatabase.js'\nimport realTimeSync from '../../utils/realTimeSync'\n\n// --- Fix default marker icon paths for CRA/Vite bundlers ---\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n})\n\n// Helper to recenter the leaflet map when user location changes\nconst ChangeView = ({ center, zoom }) => {\n  const map = useMap()\n  useEffect(() => {\n    if (center) map.setView(center, zoom)\n  }, [center, zoom, map])\n  return null\n}\n\nconst NearbySuppliers = () => {\n  const [search, setSearch] = useState('')\n  const [radius, setRadius] = useState(0)\n  const [organicOnly, setOrganicOnly] = useState(false)\n  const [verifiedOnly, setVerifiedOnly] = useState(false)\n  const [minRating, setMinRating] = useState(0)\n  const [maxPrice, setMaxPrice] = useState(100)\n  const [minPrice, setMinPrice] = useState(0)\n  const [viewMode, setViewMode] = useState('list')\n  const [selectedSupplier, setSelectedSupplier] = useState(null)\n  const [showFilters, setShowFilters] = useState(false)\n  const [userLocation, setUserLocation] = useState(null)\n  const [isGettingLocation, setIsGettingLocation] = useState(false)\n  const [suppliers, setSuppliers] = useState([])\n  const [locationDetected, setLocationDetected] = useState(false)\n  const [error, setError] = useState(null)\n  const [cart, setCart] = useState([])\n  const [showProductsModal, setShowProductsModal] = useState(false)\n  const [selectedSupplierForProducts, setSelectedSupplierForProducts] = useState(null)\n\n  // Reverse geocode - unchanged\n  const getAreaNameFromCoordinates = async (lat, lng) => {\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=14&addressdetails=1`,\n        {\n          headers: {\n            // polite header to avoid being throttled\n            'User-Agent': 'vendor_mitraa_demo/1.0'\n          }\n        }\n      )\n      const data = await response.json()\n\n      if (data && data.address) {\n        const {\n          suburb,\n          neighbourhood,\n          village,\n          town,\n          city_district,\n          city,\n          state_district\n        } = data.address\n        return (\n          suburb ||\n          neighbourhood ||\n          village ||\n          town ||\n          city_district ||\n          city ||\n          state_district ||\n          'Unknown Area'\n        )\n      }\n      return 'Unknown Area'\n    } catch (error) {\n      console.error('Error getting area name:', error)\n      return 'Unknown Area'\n    }\n  }\n\n  const calculateDistance = (lat1, lng1, lat2, lng2) => {\n    const R = 6371\n    const dLat = ((lat2 - lat1) * Math.PI) / 180\n    const dLng = ((lng2 - lng1) * Math.PI) / 180\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos((lat1 * Math.PI) / 180) *\n        Math.cos((lat2 * Math.PI) / 180) *\n        Math.sin(dLng / 2) *\n        Math.sin(dLng / 2)\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n    return R * c\n  }\n\n  // Function to generate suppliers including existing login suppliers\n  const generateNearbySuppliers = async (userLat, userLng, searchRadius) => {\n    \n    // Get suppliers from the enhanced database\n    let allSuppliers = generateSuppliersFromDB(userLat, userLng, searchRadius)\n    \n    // Add existing supplier logins as real suppliers\n    const existingSuppliers = [\n      {\n        id: 'existing_1',\n        name: 'Ravi Kumar (Verified Supplier)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.005, userLng + (Math.random() - 0.5) * 0.005],\n        location: 'Sector 15, Chandigarh',\n        address: 'Shop 15, Market Complex, Sector 15 - Fresh produce supplier',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.005, userLng + (Math.random() - 0.5) * 0.005),\n        rating: '4.2',\n        trustScore: 85,\n        price: 'â‚¹45/kg',\n        products: [\n          { name: 'Fresh Tomatoes', price: 'â‚¹45/kg', image: 'ðŸ…' },\n          { name: 'Organic Onions', price: 'â‚¹35/kg', image: 'ðŸ§…' },\n          { name: 'Premium Potatoes', price: 'â‚¹30/kg', image: 'ðŸ¥”' },\n          { name: 'Fresh Carrots', price: 'â‚¹40/kg', image: 'ðŸ¥•' }\n        ],\n        organic: true,\n        fssaiVerified: true,\n        lastActive: 'Just now',\n        deliveryTime: '2-4 hours',\n        minimumOrder: 'â‚¹200',\n        paymentMethods: ['Cash', 'UPI', 'Card'],\n        specialOffers: ['10% off on first order'],\n        supplierType: 'Individual Farmer'\n      },\n      // Add guaranteed nearby suppliers\n      {\n        id: 'guaranteed_1',\n        name: 'Local Market (Always Nearby)',\n        coordinates: [userLat + 0.001, userLng + 0.001], // Very close to user\n        location: 'Sector 1, Chandigarh',\n        address: 'Local Market - Always within range',\n        distance: 0.1, // Always within 0.1km\n        rating: '4.5',\n        trustScore: 90,\n        price: 'â‚¹40/kg',\n        products: [\n          { name: 'Fresh Vegetables', price: 'â‚¹40/kg', image: 'ðŸ¥¬' },\n          { name: 'Local Fruits', price: 'â‚¹60/kg', image: 'ðŸŽ' },\n          { name: 'Fresh Herbs', price: 'â‚¹80/kg', image: 'ðŸŒ¿' }\n        ],\n        organic: false,\n        fssaiVerified: true,\n        lastActive: 'Just now',\n        deliveryTime: '1-2 hours',\n        minimumOrder: 'â‚¹100',\n        paymentMethods: ['Cash', 'UPI'],\n        specialOffers: ['Local delivery free'],\n        supplierType: 'Retailer'\n      },\n      {\n        id: 'guaranteed_2',\n        name: 'Neighborhood Store (Close By)',\n        coordinates: [userLat - 0.002, userLng - 0.002], // Very close to user\n        location: 'Sector 2, Chandigarh',\n        address: 'Neighborhood Store - Always accessible',\n        distance: 0.2, // Always within 0.2km\n        rating: '4.3',\n        trustScore: 85,\n        price: 'â‚¹35/kg',\n        products: [\n          { name: 'Daily Essentials', price: 'â‚¹35/kg', image: 'ðŸ¥•' },\n          { name: 'Fresh Produce', price: 'â‚¹45/kg', image: 'ðŸ…' },\n          { name: 'Local Dairy', price: 'â‚¹70/liter', image: 'ðŸ¥›' }\n        ],\n        organic: false,\n        fssaiVerified: true,\n        lastActive: '5 minutes ago',\n        deliveryTime: '1-3 hours',\n        minimumOrder: 'â‚¹150',\n        paymentMethods: ['Cash', 'UPI'],\n        specialOffers: ['Same day delivery'],\n        supplierType: 'Retailer'\n      },\n      {\n        id: 'existing_2',\n        name: 'Priya Singh (Organic Farm)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.008, userLng + (Math.random() - 0.5) * 0.008],\n        location: 'Sector 20, Chandigarh',\n        address: 'Farm 23, Organic Valley, Sector 20 - 100% organic produce',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.008, userLng + (Math.random() - 0.5) * 0.008),\n        rating: '4.7',\n        trustScore: 92,\n        price: 'â‚¹60/kg',\n        products: [\n          { name: 'Organic Spinach', price: 'â‚¹60/kg', image: 'ðŸ¥¬' },\n          { name: 'Organic Kale', price: 'â‚¹70/kg', image: 'ðŸ¥¬' },\n          { name: 'Organic Lettuce', price: 'â‚¹55/kg', image: 'ðŸ¥¬' },\n          { name: 'Organic Cabbage', price: 'â‚¹40/kg', image: 'ðŸ¥¬' }\n        ],\n        organic: true,\n        fssaiVerified: true,\n        lastActive: '15 minutes ago',\n        deliveryTime: '3-5 hours',\n        minimumOrder: 'â‚¹300',\n        paymentMethods: ['UPI', 'Card'],\n        specialOffers: ['Free delivery above â‚¹500'],\n        supplierType: 'Cooperative'\n      },\n      {\n        id: 'existing_3',\n        name: 'Amit Patel (Fresh Market)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.003, userLng + (Math.random() - 0.5) * 0.003],\n        location: 'Sector 10, Chandigarh',\n        address: 'Market Stall 7, Sector 10 - Daily fresh vegetables',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.003, userLng + (Math.random() - 0.5) * 0.003),\n        rating: '4.0',\n        trustScore: 78,\n        price: 'â‚¹35/kg',\n        products: [\n          { name: 'Fresh Cauliflower', price: 'â‚¹35/kg', image: 'ðŸ¥¦' },\n          { name: 'Green Peas', price: 'â‚¹50/kg', image: 'ðŸ«›' },\n          { name: 'Fresh Beans', price: 'â‚¹45/kg', image: 'ðŸ«˜' },\n          { name: 'Fresh Corn', price: 'â‚¹30/kg', image: 'ðŸŒ½' }\n        ],\n        organic: false,\n        fssaiVerified: true,\n        lastActive: '1 hour ago',\n        deliveryTime: '1-3 hours',\n        minimumOrder: 'â‚¹150',\n        paymentMethods: ['Cash', 'UPI'],\n        specialOffers: [],\n        supplierType: 'Retailer'\n      },\n      {\n        id: 'existing_4',\n        name: 'Sunita Sharma (Dairy Farm)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.006, userLng + (Math.random() - 0.5) * 0.006],\n        location: 'Sector 11, Chandigarh',\n        address: 'Dairy Farm 12, Sector 11 - Fresh dairy products',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.006, userLng + (Math.random() - 0.5) * 0.006),\n        rating: '4.5',\n        trustScore: 88,\n        price: 'â‚¹80/liter',\n        products: [\n          { name: 'Fresh Milk', price: 'â‚¹80/liter', image: 'ðŸ¥›' },\n          { name: 'Curd', price: 'â‚¹60/kg', image: 'ðŸ¥›' },\n          { name: 'Butter', price: 'â‚¹120/kg', image: 'ðŸ§ˆ' },\n          { name: 'Cheese', price: 'â‚¹200/kg', image: 'ðŸ§€' }\n        ],\n        organic: true,\n        fssaiVerified: true,\n        lastActive: '30 minutes ago',\n        deliveryTime: '2-4 hours',\n        minimumOrder: 'â‚¹250',\n        paymentMethods: ['Cash', 'UPI', 'Card'],\n        specialOffers: ['Buy 2 get 1 free on milk'],\n        supplierType: 'Individual Farmer'\n      },\n      {\n        id: 'existing_5',\n        name: 'Deepak Joshi (Grain Supplier)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.004, userLng + (Math.random() - 0.5) * 0.004],\n        location: 'Sector 12, Chandigarh',\n        address: 'Grain Store 45, Sector 12 - Quality grains and pulses',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.004, userLng + (Math.random() - 0.5) * 0.004),\n        rating: '4.3',\n        trustScore: 82,\n        price: 'â‚¹50/kg',\n        products: [\n          { name: 'Basmati Rice', price: 'â‚¹50/kg', image: 'ðŸš' },\n          { name: 'Wheat Flour', price: 'â‚¹40/kg', image: 'ðŸŒ¾' },\n          { name: 'Red Lentils', price: 'â‚¹60/kg', image: 'ðŸ«˜' },\n          { name: 'Chickpeas', price: 'â‚¹55/kg', image: 'ðŸ«˜' }\n        ],\n        organic: false,\n        fssaiVerified: true,\n        lastActive: '2 hours ago',\n        deliveryTime: '4-6 hours',\n        minimumOrder: 'â‚¹200',\n        paymentMethods: ['Cash', 'UPI'],\n        specialOffers: ['Bulk discount above 10kg'],\n        supplierType: 'Wholesaler'\n      },\n      {\n        id: 'existing_6',\n        name: 'Meena Gupta (Fruit Garden)',\n        coordinates: [userLat + (Math.random() - 0.5) * 0.007, userLng + (Math.random() - 0.5) * 0.007],\n        location: 'Sector 13, Chandigarh',\n        address: 'Fruit Garden 8, Sector 13 - Fresh seasonal fruits',\n        distance: calculateDistance(userLat, userLng, userLat + (Math.random() - 0.5) * 0.007, userLng + (Math.random() - 0.5) * 0.007),\n        rating: '4.6',\n        trustScore: 90,\n        price: 'â‚¹120/kg',\n        products: [\n          { name: 'Fresh Apples', price: 'â‚¹120/kg', image: 'ðŸŽ' },\n          { name: 'Sweet Bananas', price: 'â‚¹80/dozen', image: 'ðŸŒ' },\n          { name: 'Fresh Oranges', price: 'â‚¹100/kg', image: 'ðŸŠ' },\n          { name: 'Sweet Grapes', price: 'â‚¹150/kg', image: 'ðŸ‡' }\n        ],\n        organic: true,\n        fssaiVerified: true,\n        lastActive: '45 minutes ago',\n        deliveryTime: '3-5 hours',\n        minimumOrder: 'â‚¹350',\n        paymentMethods: ['UPI', 'Card'],\n        specialOffers: ['Seasonal fruit basket discount'],\n        supplierType: 'Cooperative'\n      }\n    ]\n\n    // Filter existing suppliers by distance\n    const nearbyExistingSuppliers = existingSuppliers.filter(supplier => \n      supplier.distance <= searchRadius\n    )\n\n    // Combine both supplier lists\n    const combinedSuppliers = [...nearbyExistingSuppliers, ...allSuppliers]\n    \n    // Sort by distance and remove duplicates\n    const uniqueSuppliers = combinedSuppliers.filter((supplier, index, self) => \n      index === self.findIndex(s => s.id === supplier.id)\n    )\n    \n    return uniqueSuppliers.sort((a, b) => a.distance - b.distance)\n  }\n\n  const extractPrice = priceString => {\n    if (!priceString) return 0\n    const match = priceString.toString().match(/\\d+/)\n    return match ? parseInt(match[0]) : 0\n  }\n\n  const getMinProductPrice = products => {\n    if (!products || !Array.isArray(products) || products.length === 0) return 0\n\n    const prices = products\n      .map(p => {\n        if (typeof p === 'object' && p.price) {\n          return extractPrice(p.price)\n        }\n        return 0\n      })\n      .filter(price => price > 0)\n\n    return prices.length > 0 ? Math.min(...prices) : 0\n  }\n\n  const filteredSuppliers = suppliers.filter(supplier => {\n    try {\n      \n      if (\n        !supplier ||\n        !supplier.name\n      ) {\n        return false\n      }\n\n      // Check if products exist and format them properly if needed\n      let supplierProducts = supplier.products\n      if (!supplierProducts || !Array.isArray(supplierProducts)) {\n        // If products is missing or not an array, create a default product\n        supplierProducts = [{ name: 'Fresh Produce', price: supplier.price || 'â‚¹50/kg', image: 'ðŸ¥¬' }]\n        supplier.products = supplierProducts\n      }\n\n      const nameMatches = supplier.name\n        .toLowerCase()\n        .includes(search.toLowerCase())\n      const organicMatches = !organicOnly || supplier.organic\n      const verifiedMatches = !verifiedOnly || supplier.fssaiVerified\n      const ratingMatches = (supplier.rating || 0) >= minRating\n\n      const price = extractPrice(supplier.price)\n      const priceMatches = price >= minPrice && price <= maxPrice\n\n      // Show suppliers within the specified radius\n      const supplierDistance = supplier.distance || 0\n      const distanceMatches = supplierDistance <= radius\n\n      const result = (\n        nameMatches &&\n        distanceMatches &&\n        organicMatches &&\n        verifiedMatches &&\n        ratingMatches &&\n        priceMatches\n      )\n      \n      return result\n    } catch (error) {\n      console.error('Error filtering supplier:', supplier, error)\n      return false\n    }\n  })\n\n  const getLocation = async () => {\n    setIsGettingLocation(true)\n    setError(null)\n\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser.')\n      setIsGettingLocation(false)\n      return\n    }\n\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 60000\n        })\n      })\n\n      const newLocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      }\n\n      setUserLocation(newLocation)\n\n      const nearbySuppliers = await generateNearbySuppliers(\n        newLocation.lat,\n        newLocation.lng,\n        radius\n      )\n\n      if (!nearbySuppliers || nearbySuppliers.length === 0) {\n        setError(\n          'No suppliers found in your area. Try increasing the search radius.'\n        )\n      }\n\n      setSuppliers(nearbySuppliers || [])\n      setLocationDetected(true)\n      alert(\n        `Location detected! Found ${nearbySuppliers?.length || 0} suppliers within ${radius}km of your location.`\n      )\n    } catch (error) {\n      console.error('Error getting location:', error)\n      let errorMessage = 'Unable to get your location. '\n\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage += 'Please allow location access in your browser.'\n          break\n        case error.POSITION_UNAVAILABLE:\n          errorMessage += 'Location information is unavailable.'\n          break\n        case error.TIMEOUT:\n          errorMessage += 'Location request timed out.'\n          break\n        default:\n          errorMessage += 'Please check your browser permissions.'\n          break\n      }\n\n      setError(errorMessage)\n      alert(errorMessage)\n    } finally {\n      setIsGettingLocation(false)\n    }\n  }\n\n  useEffect(() => {\n    const updateSuppliers = async () => {\n      if (userLocation && locationDetected) {\n        const nearbySuppliers = await generateNearbySuppliers(\n          userLocation.lat,\n          userLocation.lng,\n          radius\n        )\n        setSuppliers(nearbySuppliers || [])\n      }\n    }\n    updateSuppliers()\n  }, [radius, userLocation, locationDetected])\n\n  // Subscribe to product updates to refresh suppliers when products are added\n  useEffect(() => {\n    const unsubscribe = realTimeSync.subscribe('product_update', (data) => {\n      console.log('Product update received in NearbySuppliers:', data)\n      if (userLocation && locationDetected) {\n        generateNearbySuppliers(userLocation.lat, userLocation.lng, radius).then(nearbySuppliers => {\n          setSuppliers(nearbySuppliers || [])\n        })\n      }\n    })\n    \n    return () => {\n      unsubscribe()\n    }\n  }, [userLocation, locationDetected, radius])\n\n  // Cart logic (unchanged)\n  const addToCart = item => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(\n        cartItem => cartItem.id === item.id\n      )\n      if (existingItem) {\n        return prevCart.map(cartItem =>\n          cartItem.id === item.id\n            ? { ...cartItem, quantity: cartItem.quantity + 1 }\n            : cartItem\n        )\n      }\n      return [...prevCart, { ...item, quantity: 1 }]\n    })\n  }\n\n  const removeFromCart = id => {\n    setCart(prevCart => prevCart.filter(item => item.id !== id))\n  }\n\n  const updateQuantity = (id, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(id)\n      return\n    }\n    setCart(prevCart =>\n      prevCart.map(item =>\n        item.id === id ? { ...item, quantity: newQuantity } : item\n      )\n    )\n  }\n\n  const getCartTotal = () => {\n    return cart.reduce((total, item) => {\n      const price = extractPrice(item.price)\n      return total + price * item.quantity\n    }, 0)\n  }\n\n  const getCartCount = () => {\n    return cart.reduce((total, item) => total + item.quantity, 0)\n  }\n\n  const handleAddToCart = supplier => {\n    try {\n      if (\n        !supplier ||\n        !supplier.products ||\n        !Array.isArray(supplier.products) ||\n        supplier.products.length === 0\n      ) {\n        alert('No products available from this supplier')\n        return\n      }\n\n      supplier.products.forEach(product => {\n        if (product && product.name) {\n          const cartItem = {\n            id: `${supplier.id}_${product.name}`,\n            name: product.name,\n            price: product.price || 'â‚¹0',\n            image: product.image || '',\n            supplier: supplier.name\n          }\n          addToCart(cartItem)\n        }\n      })\n      alert(\n        `${supplier.products.length} products from ${supplier.name} added to cart!`\n      )\n    } catch (error) {\n      console.error('Error adding to cart:', error)\n      alert('Error adding products to cart')\n    }\n  }\n\n  const indiaCenter = [20.5937, 78.9629]\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-8 px-4 bg-gray-50 min-h-screen\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-green-600\">Supplier Finder</h1>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => setViewMode('list')}\n            className={`p-2 rounded-lg transition-colors ${\n              viewMode === 'list'\n                ? 'bg-green-100 text-green-600'\n                : 'bg-white text-gray-600 hover:bg-gray-100'\n            }`}\n          >\n          <List className=\"w-5 h-5\" />\n          </button>\n          <button\n            onClick={() => setViewMode('map')}\n            className={`p-2 rounded-lg transition-colors ${\n              viewMode === 'map'\n                ? 'bg-green-100 text-green-600'\n                : 'bg-white text-gray-600 hover:bg-gray-100'\n            }`}\n          >\n            <MapIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-red-800 font-medium\">Error</span>\n          </div>\n          <p className=\"text-red-700 text-sm mt-1\">{error}</p>\n        </div>\n      )}\n\n      {!locationDetected && !isGettingLocation && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-blue-600\" />\n            <span className=\"text-blue-800 font-medium\">\n              Location Not Detected\n            </span>\n          </div>\n          <p className=\"text-blue-700 text-sm mt-1\">\n            Click \"Get My Location\" to find nearby suppliers in your area\n          </p>\n        </div>\n      )}\n\n      {userLocation && locationDetected && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-green-600\" />\n            <span className=\"text-green-800 font-medium\">Location Active</span>\n            <span className=\"text-green-600 text-sm\">\n              ({userLocation.lat.toFixed(4)}, {userLocation.lng.toFixed(4)})\n            </span>\n          </div>\n          <p className=\"text-green-700 text-sm mt-1\">\n            Found {suppliers.length} suppliers within {radius}km of your\n            location\n          </p>\n        </div>\n      )}\n\n      {/* Search / Filters */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex flex-col md:flex-row gap-4 mb-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search suppliers...\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            />\n          </div>\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2 transition-colors\"\n          >\n            <Filter className=\"w-4 h-4\" />\n            Filter\n          </button>\n          <button\n            onClick={getLocation}\n            disabled={isGettingLocation}\n            className={`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors ${\n              isGettingLocation ? 'opacity-50 cursor-not-allowed' : ''\n            }`}\n          >\n            <MapPin className=\"w-4 h-4\" />\n            {isGettingLocation ? 'Getting Location...' : 'Get My Location'}\n          </button>\n          <button\n            onClick={() => {\n              // Test supplier generation with Mumbai coordinates\n              const testLat = 19.0760\n              const testLng = 72.8777\n              generateNearbySuppliers(testLat, testLng, radius).then(suppliers => {\n                setSuppliers(suppliers || [])\n                setUserLocation({ lat: testLat, lng: testLng })\n                setLocationDetected(true)\n              })\n            }}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors\"\n          >\n            ðŸ§ª Test Suppliers\n          </button>\n        </div>\n\n        {showFilters && (\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4 pt-4 border-t\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Radius ({radius} km)\n              </label>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={() => setRadius(Math.max(0, radius - 1))}\n                  className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium\"\n                >\n                  -\n                </button>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"25\"\n                  value={radius}\n                  onChange={e => setRadius(Number(e.target.value))}\n                  className=\"flex-1 accent-green-600\"\n                />\n                <button\n                  onClick={() => setRadius(Math.min(25, radius + 1))}\n                  className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium\"\n                >\n                  +\n                </button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Min Rating\n              </label>\n              <select\n                value={minRating}\n                onChange={e => setMinRating(Number(e.target.value))}\n                className=\"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500\"\n              >\n                <option value={0}>Any Rating</option>\n                <option value={3}>3+ Rating</option>\n                <option value={4}>4+ Rating</option>\n                <option value={4.5}>4.5+ Rating</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Min Price (â‚¹/kg)\n              </label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"200\"\n                value={minPrice}\n                onChange={e => setMinPrice(Number(e.target.value))}\n                className=\"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500\"\n                placeholder=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Max Price (â‚¹/kg)\n              </label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"200\"\n                value={maxPrice}\n                onChange={e => setMaxPrice(Number(e.target.value))}\n                className=\"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500\"\n                placeholder=\"100\"\n              />\n            </div>\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"organic\"\n                checked={organicOnly}\n                onChange={e => setOrganicOnly(e.target.checked)}\n                className=\"mr-2 text-green-600 focus:ring-green-500\"\n              />\n              <label htmlFor=\"organic\" className=\"text-sm\">\n                Organic Only\n              </label>\n            </div>\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"verified\"\n                checked={verifiedOnly}\n                onChange={e => setVerifiedOnly(e.target.checked)}\n                className=\"mr-2 text-green-600 focus:ring-green-500\"\n              />\n              <label htmlFor=\"verified\" className=\"text-sm\">\n                FSSAI Verified\n              </label>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Results */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Supplier List / Map */}\n        <div className=\"lg:col-span-2\">\n          {viewMode === 'list' ? (\n            <div className=\"bg-white rounded-lg shadow-md\">\n              <div className=\"p-4 border-b\">\n                <h2 className=\"text-lg font-semibold\">\n                  {locationDetected\n                    ? `${filteredSuppliers.length} Suppliers Found`\n                    : 'Nearby Suppliers'}\n                </h2>\n              </div>\n\n              {!locationDetected && !isGettingLocation && (\n                <div className=\"text-center py-12\">\n                  <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                    No Location Detected\n                  </h3>\n                  <p className=\"text-gray-500 mb-4\">\n                    Please click \"Get My Location\" to find suppliers near you\n                  </p>\n                </div>\n              )}\n\n              {isGettingLocation && (\n                <div className=\"text-center py-12\">\n                  <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4\"></div>\n                  <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                    Detecting Your Location...\n                  </h3>\n                  <p className=\"text-gray-500\">\n                    Please allow location access in your browser\n                  </p>\n                </div>\n              )}\n\n              {locationDetected &&\n                filteredSuppliers.length === 0 &&\n                suppliers.length > 0 && (\n                  <div className=\"text-center py-12\">\n                    <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                      No Suppliers Match Filters\n                    </h3>\n                    <p className=\"text-gray-500 mb-4\">\n                      No suppliers match your current filters within {radius}km\n                    </p>\n                    <button\n                      onClick={() => {\n                        setSearch('')\n                        setRadius(0)\n                        setOrganicOnly(false)\n                        setVerifiedOnly(false)\n                        setMinRating(0)\n                        setMinPrice(0)\n                        setMaxPrice(100)\n                      }}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                    >\n                      Clear Filters\n                    </button>\n                  </div>\n                )}\n\n              {locationDetected && suppliers.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                    No Suppliers Found\n                  </h3>\n                  <p className=\"text-gray-500 mb-4\">\n                    No suppliers found in your area. Try increasing the search\n                    radius.\n                  </p>\n                  <button\n                    onClick={() => setRadius(1)}\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                  >\n                    Increase Search Radius\n                  </button>\n                </div>\n              )}\n\n              {locationDetected && filteredSuppliers.length > 0 && (\n                <div className=\"divide-y\">\n                  {filteredSuppliers.map(supplier => (\n                    <div\n                      key={supplier.id}\n                      className=\"p-6 hover:bg-gray-50 transition-colors\"\n                    >\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <h3 className=\"text-xl font-bold text-gray-800\">\n                              {supplier.name}\n                            </h3>\n                            {supplier.fssaiVerified && (\n                              <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full\">\n                                FSSAI\n                              </span>\n                            )}\n                            {supplier.organic && (\n                              <span className=\"text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full\">\n                                Organic\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"flex items-center gap-4 text-gray-600 mb-2\">\n                            <div className=\"flex items-center gap-1\">\n                              <Star className=\"w-4 h-4 text-yellow-400 fill-current\" />\n                              <span>{supplier.rating || 'N/A'}</span>\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <MapPin className=\"w-4 h-4\" />\n                              <span>{supplier.distance.toFixed(1)} km</span>\n                            </div>\n                            <span className=\"text-green-600 font-medium\">\n                              Trust Score: {supplier.trustScore || 'N/A'}%\n                            </span>\n                          </div>\n                          <div className=\"text-sm text-gray-600 mb-2\">\n                            <MapPin className=\"w-4 h-4 inline mr-1\" />\n                            {supplier.location}\n                          </div>\n                          <div className=\"text-sm text-gray-500 mb-2\">\n                            <span className=\"font-medium\">Products:</span>{' '}\n                            {supplier.products.map(p => p.name).join(', ')}\n                          </div>\n                          <div className=\"text-sm text-green-600 mb-2 font-medium\">\n                            Starting from: â‚¹{getMinProductPrice(supplier.products)}\n                            /kg\n                          </div>\n                          <div className=\"text-xs text-gray-400\">\n                            Last active: {supplier.lastActive}\n                          </div>\n                        </div>\n                        <div className=\"flex flex-col gap-2 ml-4\">\n                          <button\n                            className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors flex items-center gap-1\"\n                            onClick={() => {\n                              setSelectedSupplierForProducts(supplier)\n                              setShowProductsModal(true)\n                            }}\n                          >\n                            <span>ðŸ“¦</span>\n                            Show Products\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ) : (\n            // --------------------- REAL MAP VIEW ---------------------\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              {!locationDetected && !isGettingLocation && (\n                <div className=\"h-96 flex items-center justify-center bg-gray-50 rounded-lg\">\n                  <div className=\"text-center\">\n                    <MapPin className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                      No Location Detected\n                    </h3>\n                    <p className=\"text-gray-500 mb-4\">\n                      Please click \"Get My Location\" to view suppliers on the\n                      map\n                    </p>\n                  </div>\n                </div>\n              )}\n\n              {isGettingLocation && (\n                <div className=\"h-96 flex items-center justify-center bg-gray-50 rounded-lg\">\n                  <div className=\"text-center\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4\"></div>\n                    <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                      Detecting Your Location...\n                    </h3>\n                    <p className=\"text-gray-500\">\n                      Please allow location access in your browser\n                    </p>\n                  </div>\n                </div>\n              )}\n\n              {locationDetected && (\n                <div className=\"h-[500px] rounded-lg overflow-hidden\">\n                  <MapContainer\n                    center={\n                      userLocation\n                        ? [userLocation.lat, userLocation.lng]\n                        : indiaCenter\n                    }\n                    zoom={13}\n                    style={{ height: '100%', width: '100%' }}\n                    scrollWheelZoom\n                  >\n                    <ChangeView\n                      center={\n                        userLocation\n                          ? [userLocation.lat, userLocation.lng]\n                          : indiaCenter\n                      }\n                      zoom={13}\n                    />\n                    <TileLayer\n                      attribution=\"&copy; OpenStreetMap contributors\"\n                      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n\n                    {/* User marker + radius */}\n                    {userLocation && (\n                      <>\n                        <Marker\n                          position={[userLocation.lat, userLocation.lng]}\n                        >\n                          <Popup>You are here</Popup>\n                        </Marker>\n                        <Circle\n                          center={[userLocation.lat, userLocation.lng]}\n                          radius={radius * 1000}\n                          pathOptions={{ color: 'green', fillOpacity: 0.1 }}\n                        />\n                      </>\n                    )}\n\n                    {/* Supplier markers */}\n                    {filteredSuppliers.map(s => (\n                      <Marker\n                        key={s.id}\n                        position={s.coordinates}\n                        eventHandlers={{\n                          click: () => setSelectedSupplier(s)\n                        }}\n                      >\n                        <Popup>\n                          <div className=\"text-sm\">\n                            <div className=\"font-semibold\">{s.name}</div>\n                            <div className=\"text-gray-500\">\n                              {s.distance.toFixed(1)} km\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <Star className=\"w-3 h-3 text-yellow-400 fill-current\" />\n                              <span>{s.rating}</span>\n                            </div>\n                          </div>\n                        </Popup>\n                      </Marker>\n                    ))}\n                  </MapContainer>\n                </div>\n              )}\n            </div>\n            // ---------------------------------------------------------\n          )}\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Location Tracker */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <MapPin className=\"w-5 h-5 text-green-600\" />\n              <h3 className=\"text-lg font-semibold\">Location Tracker</h3>\n            </div>\n\n            <button\n              onClick={getLocation}\n              disabled={isGettingLocation}\n              className={`w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 mb-4 transition-colors ${\n                isGettingLocation ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              <MapPin className=\"w-4 h-4\" />\n              {isGettingLocation ? 'Getting Location...' : 'Get My Location'}\n            </button>\n\n            {userLocation && (\n              <div className=\"text-sm space-y-2\">\n                <div>\n                  <span className=\"font-medium\">Your Location:</span>\n                </div>\n                <div className=\"text-gray-600\">\n                  Latitude: {userLocation.lat.toFixed(6)}\n                </div>\n                <div className=\"text-gray-600\">\n                  Longitude: {userLocation.lng.toFixed(6)}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Cart Summary */}\n          {cart.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">\n                Cart ({getCartCount()} items)\n              </h3>\n              <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                {cart.map((item, index) => (\n                  <div key={index} className=\"flex items-center gap-3 p-2 border rounded\">\n                    <div className=\"text-2xl\">{item.image}</div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <span className=\"text-sm font-medium\">{item.name}</span>\n                          {item.supplier && (\n                            <p className=\"text-xs text-gray-500\">from {item.supplier}</p>\n                          )}\n                        </div>\n                        <span className=\"text-sm font-medium\">{item.price}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 mt-2\">\n                        <button \n                          onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                          className=\"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded flex items-center transition-colors\"\n                        >\n                          <Minus className=\"w-3 h-3\" />\n                        </button>\n                        <span className=\"text-xs font-medium min-w-[20px] text-center\">{item.quantity}</span>\n                        <button \n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          className=\"text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded flex items-center transition-colors\"\n                        >\n                          <Plus className=\"w-3 h-3\" />\n                        </button>\n                        <button \n                          onClick={() => removeFromCart(item.id)}\n                          className=\"text-xs text-red-500 hover:text-red-700 ml-auto transition-colors\"\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"border-t pt-2 mt-4\">\n                <div className=\"flex justify-between font-semibold\">\n                  <span>Total:</span>\n                  <span>â‚¹{getCartTotal()}</span>\n                </div>\n              </div>\n              <button className=\"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 mt-4 transition-colors\">\n                Proceed to Checkout\n              </button>\n            </div>\n          )}\n\n          {/* Selected Supplier Details */}\n          {selectedSupplier && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Supplier Details</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-medium text-lg\">{selectedSupplier.name}</h4>\n                  <p className=\"text-sm text-gray-600 flex items-center gap-1\">\n                    <MapPin className=\"w-4 h-4\" />\n                    {selectedSupplier.location}\n                  </p>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"font-medium\">Rating:</span>\n                    <div className=\"flex items-center gap-1\">\n                      <Star className=\"w-4 h-4 text-yellow-400 fill-current\" />\n                      <span>{selectedSupplier.rating}</span>\n                    </div>\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Distance:</span>\n                    <p>{selectedSupplier.distance.toFixed(1)} km</p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Trust Score:</span>\n                    <p>{selectedSupplier.trustScore}%</p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Last Active:</span>\n                    <p>{selectedSupplier.lastActive}</p>\n                  </div>\n                </div>\n\n                <div>\n                  <span className=\"font-medium\">Products:</span>\n                  <div className=\"mt-2 space-y-2\">\n                    {selectedSupplier.products.map((product, index) => (\n                      <div key={index} className=\"flex items-center justify-between text-sm bg-gray-50 p-2 rounded\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-lg\">{product.image || 'ðŸ¥¬'}</span>\n                          <span>{product.name || 'Unknown Product'}</span>\n                        </div>\n                        <span className=\"font-medium text-green-600\">{product.price || 'â‚¹50/kg'}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <button \n                    className=\"w-full px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm transition-colors\"\n                    onClick={() => handleAddToCart(selectedSupplier)}\n                  >\n                    Add All to Cart\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Quick Stats */}\n          {locationDetected && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Search Statistics</h3>\n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Total Suppliers:</span>\n                  <span className=\"font-medium\">{suppliers.length}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Filtered Results:</span>\n                  <span className=\"font-medium\">{filteredSuppliers.length}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Search Radius:</span>\n                  <span className=\"font-medium\">{radius} km</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Organic Suppliers:</span>\n                  <span className=\"font-medium\">{suppliers.filter(s => s.organic).length}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>FSSAI Verified:</span>\n                  <span className=\"font-medium\">{suppliers.filter(s => s.fssaiVerified).length}</span>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Products Modal - SHOWING ONLY PRODUCTS, NO REVIEWS */}\n      {showProductsModal && selectedSupplierForProducts && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            \n            {/* Header - Only supplier name */}\n            <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\n              <h3 className=\"text-xl font-bold text-gray-800\">\n                ðŸ“¦ Products from {selectedSupplierForProducts.name}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowProductsModal(false)\n                  setSelectedSupplierForProducts(null)\n                }}\n                className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            {/* ONLY PRODUCTS - NO REVIEWS, NO SUPPLIER INFO */}\n            <div className=\"mb-6\">\n              <h4 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                ðŸ›ï¸ Available Products\n              </h4>\n              \n              {/* Force display products - either real ones or fallback */}\n              <div className=\"space-y-3\">\n                {/* Try to show real products first */}\n                {selectedSupplierForProducts.products && \n                 Array.isArray(selectedSupplierForProducts.products) && \n                 selectedSupplierForProducts.products.length > 0 ? (\n                  \n                  selectedSupplierForProducts.products.map((product, index) => (\n                    <div key={index} className=\"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"text-3xl\">{product.image || 'ðŸ¥¬'}</span>\n                  <div>\n                            <h5 className=\"text-lg font-bold text-gray-800\">{product.name || 'Fresh Produce'}</h5>\n                            <p className=\"text-sm text-gray-600\">Premium quality, fresh from farm</p>\n                  </div>\n                  </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-2xl font-bold text-green-600\">{product.price || 'â‚¹50/kg'}</p>\n                          <p className=\"text-xs text-gray-500\">per kilogram</p>\n                    </div>\n                  </div>\n                  </div>\n                  ))\n                  \n                ) : (\n                  \n                  /* Fallback products - always show these */\n                  [\n                    { name: 'Fresh Tomatoes', price: 'â‚¹45/kg', image: 'ðŸ…' },\n                    { name: 'Organic Onions', price: 'â‚¹35/kg', image: 'ðŸ§…' },\n                    { name: 'Premium Potatoes', price: 'â‚¹30/kg', image: 'ðŸ¥”' },\n                    { name: 'Fresh Carrots', price: 'â‚¹40/kg', image: 'ðŸ¥•' },\n                    { name: 'Local Spinach', price: 'â‚¹50/kg', image: 'ðŸ¥¬' }\n                  ].map((product, index) => (\n                    <div key={index} className=\"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"text-3xl\">{product.image}</span>\n              <div>\n                            <h5 className=\"text-lg font-bold text-gray-800\">{product.name}</h5>\n                            <p className=\"text-sm text-gray-600\">Premium quality, fresh from farm</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                          <p className=\"text-2xl font-bold text-green-600\">{product.price}</p>\n                          <p className=\"text-xs text-gray-500\">per kilogram</p>\n                      </div>\n                    </div>\n                    </div>\n                  ))\n                )}\n                </div>\n              </div>\n\n            {/* Action Button */}\n            <div className=\"border-t pt-4\">\n                <button \n                className=\"w-full px-6 py-3 bg-green-600 text-white text-lg font-bold rounded-lg hover:bg-green-700 transition-colors shadow-lg\"\n                  onClick={() => handleAddToCart(selectedSupplierForProducts)}\n                >\n                ðŸ›’ Add All Products to Cart\n                </button>\n              </div>\n            \n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default NearbySuppliers\n","size_bytes":53649},"src/pages/Auth/Login.jsx":{"content":"import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { Mail, Lock, Eye, EyeOff } from 'lucide-react'\n\nconst Login = () => {\n  const { login, user } = useAuth()\n  const navigate = useNavigate()\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      await login(formData.email, formData.password)\n      // Redirect based on user type\n      if (user && (user.type === 'supplier' || user.userType === 'supplier')) {\n        navigate('/supplier-dashboard')\n      } else {\n        navigate('/dashboard')\n      }\n    } catch (error) {\n      setError('Invalid email or password')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\">\n            <span className=\"text-white font-bold text-xl\">VM</span>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Sign in to your account\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Or{' '}\n            <Link to=\"/register\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n              create a new account\n            </Link>\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n              {error}\n            </div>\n          )}\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email address\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your email\"\n                />\n                <Mail className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"current-password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your password\"\n                />\n                <Lock className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\n                >\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\n            >\n              {loading ? 'Signing in...' : 'Sign in'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login","size_bytes":4958},"src/pages/Auth/Register.jsx":{"content":"import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { Mail, Lock, Eye, EyeOff, User, Phone } from 'lucide-react'\n\nconst Register = () => {\n  const { register } = useAuth()\n  const navigate = useNavigate()\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    password: '',\n    confirmPassword: '',\n    userType: 'vendor'\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setError('')\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match')\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      await register(formData)\n      // Redirect based on user type\n      if (formData.userType === 'supplier') {\n        navigate('/supplier-dashboard')\n      } else {\n        navigate('/dashboard')\n      }\n    } catch (error) {\n      setError('Registration failed. Please try again.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\">\n            <span className=\"text-white font-bold text-xl\">VM</span>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Create your account\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Or{' '}\n            <Link to=\"/login\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n              sign in to your existing account\n            </Link>\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n              {error}\n            </div>\n          )}\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\n                Full Name\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  autoComplete=\"name\"\n                  required\n                  value={formData.name}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your full name\"\n                />\n                <User className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email address\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your email\"\n                />\n                <Mail className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\n                Phone Number\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"phone\"\n                  name=\"phone\"\n                  type=\"tel\"\n                  autoComplete=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your phone number\"\n                />\n                <Phone className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"userType\" className=\"block text-sm font-medium text-gray-700\">\n                User Type\n              </label>\n                                        <select\n                            id=\"userType\"\n                            name=\"userType\"\n                            value={formData.userType}\n                            onChange={handleChange}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n                          >\n                            <option value=\"vendor\">Vendor</option>\n                            <option value=\"supplier\">Supplier</option>\n                          </select>\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"new-password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your password\"\n                />\n                <Lock className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\n                >\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n                Confirm Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type={showConfirmPassword ? 'text' : 'password'}\n                  autoComplete=\"new-password\"\n                  required\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Confirm your password\"\n                />\n                <Lock className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\n                >\n                  {showConfirmPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\n            >\n              {loading ? 'Creating account...' : 'Create account'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register","size_bytes":9200},"dist/assets/index-DNQWc8UC.css":{"content":".leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:#ffffff80}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:#fffc;margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:#fffc;text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:\"\"}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: \"\"}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html{font-family:Inter,system-ui,sans-serif}body{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.btn-primary{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-primary:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.btn-secondary{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.btn-secondary:hover{--tw-bg-opacity: 1;background-color:rgb(161 98 7 / var(--tw-bg-opacity, 1))}.card{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.input-field{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.input-field:focus{border-color:transparent;outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1))}.custom-div-icon,.supplier-marker{background:transparent;border:none}@keyframes marquee{0%{transform:translate(100%)}to{transform:translate(-100%)}}.pointer-events-none{pointer-events:none}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.-right-2{right:-.5rem}.-top-2{top:-.5rem}.bottom-20{bottom:5rem}.left-1\\/2{left:50%}.left-10{left:2.5rem}.left-2{left:.5rem}.left-20{left:5rem}.left-3{left:.75rem}.left-4{left:1rem}.right-0{right:0}.right-2{right:.5rem}.right-20{right:5rem}.right-3{right:.75rem}.right-4{right:1rem}.top-1\\/2{top:50%}.top-2{top:.5rem}.top-2\\.5{top:.625rem}.top-20{top:5rem}.top-4{top:1rem}.top-40{top:10rem}.z-10{z-index:10}.z-50{z-index:50}.z-\\[1000\\]{z-index:1000}.z-\\[9999\\]{z-index:9999}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mb-1{margin-bottom:.25rem}.mb-12{margin-bottom:3rem}.mb-16{margin-bottom:4rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-1{margin-top:.25rem}.mt-12{margin-top:3rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-32{height:8rem}.h-4{height:1rem}.h-40{height:10rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.h-96{height:24rem}.h-\\[500px\\]{height:500px}.h-\\[600px\\]{height:600px}.h-full{height:100%}.max-h-64{max-height:16rem}.max-h-96{max-height:24rem}.max-h-\\[90vh\\]{max-height:90vh}.max-h-full{max-height:100%}.min-h-\\[60vh\\]{min-height:60vh}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-8{width:2rem}.w-80{width:20rem}.w-full{width:100%}.min-w-\\[20px\\]{min-width:20px}.min-w-\\[250px\\]{min-width:250px}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-6xl{max-width:72rem}.max-w-7xl{max-width:80rem}.max-w-\\[300px\\]{max-width:300px}.max-w-full{max-width:100%}.max-w-md{max-width:28rem}.max-w-none{max-width:none}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{animation:bounce 1s infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.list-disc{list-style-type:disc}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-8>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(2rem * var(--tw-space-x-reverse));margin-left:calc(2rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-pink-200{--tw-border-opacity: 1;border-color:rgb(251 207 232 / var(--tw-border-opacity, 1))}.border-primary-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-primary-600{--tw-border-opacity: 1;border-color:rgb(22 163 74 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-teal-200{--tw-border-opacity: 1;border-color:rgb(153 246 228 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-400{--tw-bg-opacity: 1;background-color:rgb(251 146 60 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity: 1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-primary-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-primary-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-primary-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-purple-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-400{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-teal-500{--tw-bg-opacity: 1;background-color:rgb(20 184 166 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-400{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-75{--tw-bg-opacity: .75}.bg-opacity-90{--tw-bg-opacity: .9}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-50{--tw-gradient-from: #f9fafb var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-50{--tw-gradient-from: #f0fdf4 var(--tw-gradient-from-position);--tw-gradient-to: rgb(240 253 244 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500{--tw-gradient-from: #22c55e var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-600{--tw-gradient-from: #16a34a var(--tw-gradient-from-position);--tw-gradient-to: rgb(22 163 74 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-50{--tw-gradient-from: #fff7ed var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 247 237 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-500{--tw-gradient-from: #f97316 var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-50{--tw-gradient-from: #fdf2f8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 242 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-50{--tw-gradient-from: #faf5ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 245 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from: #a855f7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-50{--tw-gradient-from: #fef2f2 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 242 242 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-teal-50{--tw-gradient-from: #f0fdfa var(--tw-gradient-from-position);--tw-gradient-to: rgb(240 253 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-300{--tw-gradient-from: #fde047 var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 224 71 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-500{--tw-gradient-from: #eab308 var(--tw-gradient-from-position);--tw-gradient-to: rgb(234 179 8 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-emerald-700{--tw-gradient-to: rgb(4 120 87 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #047857 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-100{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.to-blue-500{--tw-gradient-to: #3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-emerald-600{--tw-gradient-to: #059669 var(--tw-gradient-to-position)}.to-gray-100{--tw-gradient-to: #f3f4f6 var(--tw-gradient-to-position)}.to-green-100{--tw-gradient-to: #dcfce7 var(--tw-gradient-to-position)}.to-green-600{--tw-gradient-to: #16a34a var(--tw-gradient-to-position)}.to-indigo-600{--tw-gradient-to: #4f46e5 var(--tw-gradient-to-position)}.to-orange-100{--tw-gradient-to: #ffedd5 var(--tw-gradient-to-position)}.to-orange-300{--tw-gradient-to: #fdba74 var(--tw-gradient-to-position)}.to-orange-50{--tw-gradient-to: #fff7ed var(--tw-gradient-to-position)}.to-orange-500{--tw-gradient-to: #f97316 var(--tw-gradient-to-position)}.to-orange-600{--tw-gradient-to: #ea580c var(--tw-gradient-to-position)}.to-pink-100{--tw-gradient-to: #fce7f3 var(--tw-gradient-to-position)}.to-pink-600{--tw-gradient-to: #db2777 var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-teal-100{--tw-gradient-to: #ccfbf1 var(--tw-gradient-to-position)}.to-teal-800{--tw-gradient-to: #115e59 var(--tw-gradient-to-position)}.to-yellow-500{--tw-gradient-to: #eab308 var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.fill-current{fill:currentColor}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pl-10{padding-left:2.5rem}.pr-10{padding-right:2.5rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-8{padding-top:2rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-100{--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-primary-100{--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity, 1))}.text-primary-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-300{--tw-text-opacity: 1;color:rgb(253 224 71 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.line-through{text-decoration-line:line-through}.placeholder-gray-500::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.placeholder-gray-500::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.accent-green-600{accent-color:#16a34a}.opacity-10{opacity:.1}.opacity-20{opacity:.2}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}.hover\\:-translate-y-2:hover{--tw-translate-y: -.5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-gray-300:hover{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.hover\\:border-green-300:hover{--tw-border-opacity: 1;border-color:rgb(134 239 172 / var(--tw-border-opacity, 1))}.hover\\:bg-blue-100:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-orange-100:hover{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.hover\\:bg-orange-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 215 170 / var(--tw-bg-opacity, 1))}.hover\\:bg-orange-600:hover{--tw-bg-opacity: 1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.hover\\:bg-primary-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\\:bg-opacity-30:hover{--tw-bg-opacity: .3}.hover\\:from-orange-600:hover{--tw-gradient-from: #ea580c var(--tw-gradient-from-position);--tw-gradient-to: rgb(234 88 12 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:to-yellow-600:hover{--tw-gradient-to: #ca8a04 var(--tw-gradient-to-position)}.hover\\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\\:text-gray-300:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.hover\\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\\:text-gray-800:hover{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\\:text-green-600:hover{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.hover\\:text-primary-500:hover{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.hover\\:text-primary-600:hover{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.hover\\:text-primary-700:hover{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.hover\\:text-red-600:hover{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.hover\\:text-red-700:hover{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.hover\\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\\:z-10:focus{z-index:10}.focus\\:border-primary-500:focus{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.focus\\:border-transparent:focus{border-color:transparent}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-green-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1))}.focus\\:ring-primary-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-100:disabled{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.disabled\\:bg-gray-300:disabled{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.disabled\\:bg-gray-400:disabled{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.disabled\\:opacity-50:disabled{opacity:.5}@media (min-width: 640px){.sm\\:flex-row{flex-direction:row}.sm\\:px-3{padding-left:.75rem;padding-right:.75rem}.sm\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\\:col-span-2{grid-column:span 2 / span 2}.md\\:flex{display:flex}.md\\:hidden{display:none}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:text-2xl{font-size:1.5rem;line-height:2rem}.md\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\\:text-5xl{font-size:3rem;line-height:1}.md\\:text-6xl{font-size:3.75rem;line-height:1}}@media (min-width: 1024px){.lg\\:col-span-1{grid-column:span 1 / span 1}.lg\\:col-span-2{grid-column:span 2 / span 2}.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:flex-row{flex-direction:row}.lg\\:px-8{padding-left:2rem;padding-right:2rem}}\n","size_bytes":53653},"dist/assets/index-DPQ5Vlnn.js":{"content":"function am(d,h){for(var l=0;l<h.length;l++){const m=h[l];if(typeof m!=\"string\"&&!Array.isArray(m)){for(const g in m)if(g!==\"default\"&&!(g in d)){const _=Object.getOwnPropertyDescriptor(m,g);_&&Object.defineProperty(d,g,_.get?_:{enumerable:!0,get:()=>m[g]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:\"Module\"}))}(function(){const h=document.createElement(\"link\").relList;if(h&&h.supports&&h.supports(\"modulepreload\"))return;for(const g of document.querySelectorAll('link[rel=\"modulepreload\"]'))m(g);new MutationObserver(g=>{for(const _ of g)if(_.type===\"childList\")for(const y of _.addedNodes)y.tagName===\"LINK\"&&y.rel===\"modulepreload\"&&m(y)}).observe(document,{childList:!0,subtree:!0});function l(g){const _={};return g.integrity&&(_.integrity=g.integrity),g.referrerPolicy&&(_.referrerPolicy=g.referrerPolicy),g.crossOrigin===\"use-credentials\"?_.credentials=\"include\":g.crossOrigin===\"anonymous\"?_.credentials=\"omit\":_.credentials=\"same-origin\",_}function m(g){if(g.ep)return;g.ep=!0;const _=l(g);fetch(g.href,_)}})();function ju(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,\"default\")?d.default:d}var su={exports:{}},to={},au={exports:{}},Ge={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var ph;function om(){if(ph)return Ge;ph=1;var d=Symbol.for(\"react.element\"),h=Symbol.for(\"react.portal\"),l=Symbol.for(\"react.fragment\"),m=Symbol.for(\"react.strict_mode\"),g=Symbol.for(\"react.profiler\"),_=Symbol.for(\"react.provider\"),y=Symbol.for(\"react.context\"),S=Symbol.for(\"react.forward_ref\"),N=Symbol.for(\"react.suspense\"),O=Symbol.for(\"react.memo\"),I=Symbol.for(\"react.lazy\"),b=Symbol.iterator;function V(k){return k===null||typeof k!=\"object\"?null:(k=b&&k[b]||k[\"@@iterator\"],typeof k==\"function\"?k:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,R={};function z(k,X,xe){this.props=k,this.context=X,this.refs=R,this.updater=xe||G}z.prototype.isReactComponent={},z.prototype.setState=function(k,X){if(typeof k!=\"object\"&&typeof k!=\"function\"&&k!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,k,X,\"setState\")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,\"forceUpdate\")};function Q(){}Q.prototype=z.prototype;function B(k,X,xe){this.props=k,this.context=X,this.refs=R,this.updater=xe||G}var $=B.prototype=new Q;$.constructor=B,J($,z.prototype),$.isPureReactComponent=!0;var D=Array.isArray,A=Object.prototype.hasOwnProperty,ee={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function Se(k,X,xe){var ye,pe={},fe=null,De=null;if(X!=null)for(ye in X.ref!==void 0&&(De=X.ref),X.key!==void 0&&(fe=\"\"+X.key),X)A.call(X,ye)&&!ue.hasOwnProperty(ye)&&(pe[ye]=X[ye]);var Te=arguments.length-2;if(Te===1)pe.children=xe;else if(1<Te){for(var We=Array(Te),it=0;it<Te;it++)We[it]=arguments[it+2];pe.children=We}if(k&&k.defaultProps)for(ye in Te=k.defaultProps,Te)pe[ye]===void 0&&(pe[ye]=Te[ye]);return{$$typeof:d,type:k,key:fe,ref:De,props:pe,_owner:ee.current}}function rt(k,X){return{$$typeof:d,type:k.type,key:X,ref:k.ref,props:k.props,_owner:k._owner}}function Y(k){return typeof k==\"object\"&&k!==null&&k.$$typeof===d}function me(k){var X={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+k.replace(/[=:]/g,function(xe){return X[xe]})}var Ie=/\\/+/g;function Ue(k,X){return typeof k==\"object\"&&k!==null&&k.key!=null?me(\"\"+k.key):X.toString(36)}function Ze(k,X,xe,ye,pe){var fe=typeof k;(fe===\"undefined\"||fe===\"boolean\")&&(k=null);var De=!1;if(k===null)De=!0;else switch(fe){case\"string\":case\"number\":De=!0;break;case\"object\":switch(k.$$typeof){case d:case h:De=!0}}if(De)return De=k,pe=pe(De),k=ye===\"\"?\".\"+Ue(De,0):ye,D(pe)?(xe=\"\",k!=null&&(xe=k.replace(Ie,\"$&/\")+\"/\"),Ze(pe,X,xe,\"\",function(it){return it})):pe!=null&&(Y(pe)&&(pe=rt(pe,xe+(!pe.key||De&&De.key===pe.key?\"\":(\"\"+pe.key).replace(Ie,\"$&/\")+\"/\")+k)),X.push(pe)),1;if(De=0,ye=ye===\"\"?\".\":ye+\":\",D(k))for(var Te=0;Te<k.length;Te++){fe=k[Te];var We=ye+Ue(fe,Te);De+=Ze(fe,X,xe,We,pe)}else if(We=V(k),typeof We==\"function\")for(k=We.call(k),Te=0;!(fe=k.next()).done;)fe=fe.value,We=ye+Ue(fe,Te++),De+=Ze(fe,X,xe,We,pe);else if(fe===\"object\")throw X=String(k),Error(\"Objects are not valid as a React child (found: \"+(X===\"[object Object]\"?\"object with keys {\"+Object.keys(k).join(\", \")+\"}\":X)+\"). If you meant to render a collection of children, use an array instead.\");return De}function de(k,X,xe){if(k==null)return k;var ye=[],pe=0;return Ze(k,ye,\"\",\"\",function(fe){return X.call(xe,fe,pe++)}),ye}function ke(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(xe){(k._status===0||k._status===-1)&&(k._status=1,k._result=xe)},function(xe){(k._status===0||k._status===-1)&&(k._status=2,k._result=xe)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var ce={current:null},C={transition:null},se={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:C,ReactCurrentOwner:ee};function K(){throw Error(\"act(...) is not supported in production builds of React.\")}return Ge.Children={map:de,forEach:function(k,X,xe){de(k,function(){X.apply(this,arguments)},xe)},count:function(k){var X=0;return de(k,function(){X++}),X},toArray:function(k){return de(k,function(X){return X})||[]},only:function(k){if(!Y(k))throw Error(\"React.Children.only expected to receive a single React element child.\");return k}},Ge.Component=z,Ge.Fragment=l,Ge.Profiler=g,Ge.PureComponent=B,Ge.StrictMode=m,Ge.Suspense=N,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ge.act=K,Ge.cloneElement=function(k,X,xe){if(k==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+k+\".\");var ye=J({},k.props),pe=k.key,fe=k.ref,De=k._owner;if(X!=null){if(X.ref!==void 0&&(fe=X.ref,De=ee.current),X.key!==void 0&&(pe=\"\"+X.key),k.type&&k.type.defaultProps)var Te=k.type.defaultProps;for(We in X)A.call(X,We)&&!ue.hasOwnProperty(We)&&(ye[We]=X[We]===void 0&&Te!==void 0?Te[We]:X[We])}var We=arguments.length-2;if(We===1)ye.children=xe;else if(1<We){Te=Array(We);for(var it=0;it<We;it++)Te[it]=arguments[it+2];ye.children=Te}return{$$typeof:d,type:k.type,key:pe,ref:fe,props:ye,_owner:De}},Ge.createContext=function(k){return k={$$typeof:y,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:_,_context:k},k.Consumer=k},Ge.createElement=Se,Ge.createFactory=function(k){var X=Se.bind(null,k);return X.type=k,X},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(k){return{$$typeof:S,render:k}},Ge.isValidElement=Y,Ge.lazy=function(k){return{$$typeof:I,_payload:{_status:-1,_result:k},_init:ke}},Ge.memo=function(k,X){return{$$typeof:O,type:k,compare:X===void 0?null:X}},Ge.startTransition=function(k){var X=C.transition;C.transition={};try{k()}finally{C.transition=X}},Ge.unstable_act=K,Ge.useCallback=function(k,X){return ce.current.useCallback(k,X)},Ge.useContext=function(k){return ce.current.useContext(k)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(k){return ce.current.useDeferredValue(k)},Ge.useEffect=function(k,X){return ce.current.useEffect(k,X)},Ge.useId=function(){return ce.current.useId()},Ge.useImperativeHandle=function(k,X,xe){return ce.current.useImperativeHandle(k,X,xe)},Ge.useInsertionEffect=function(k,X){return ce.current.useInsertionEffect(k,X)},Ge.useLayoutEffect=function(k,X){return ce.current.useLayoutEffect(k,X)},Ge.useMemo=function(k,X){return ce.current.useMemo(k,X)},Ge.useReducer=function(k,X,xe){return ce.current.useReducer(k,X,xe)},Ge.useRef=function(k){return ce.current.useRef(k)},Ge.useState=function(k){return ce.current.useState(k)},Ge.useSyncExternalStore=function(k,X,xe){return ce.current.useSyncExternalStore(k,X,xe)},Ge.useTransition=function(){return ce.current.useTransition()},Ge.version=\"18.3.1\",Ge}var gh;function Su(){return gh||(gh=1,au.exports=om()),au.exports}/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var xh;function lm(){if(xh)return to;xh=1;var d=Su(),h=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,g=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function y(S,N,O){var I,b={},V=null,G=null;O!==void 0&&(V=\"\"+O),N.key!==void 0&&(V=\"\"+N.key),N.ref!==void 0&&(G=N.ref);for(I in N)m.call(N,I)&&!_.hasOwnProperty(I)&&(b[I]=N[I]);if(S&&S.defaultProps)for(I in N=S.defaultProps,N)b[I]===void 0&&(b[I]=N[I]);return{$$typeof:h,type:S,key:V,ref:G,props:b,_owner:g.current}}return to.Fragment=l,to.jsx=y,to.jsxs=y,to}var vh;function cm(){return vh||(vh=1,su.exports=lm()),su.exports}var r=cm(),w=Su();const ra=ju(w),um=am({__proto__:null,default:ra},[w]);var bl={},ou={exports:{}},vn={},lu={exports:{}},cu={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var yh;function dm(){return yh||(yh=1,function(d){function h(C,se){var K=C.length;C.push(se);e:for(;0<K;){var k=K-1>>>1,X=C[k];if(0<g(X,se))C[k]=se,C[K]=X,K=k;else break e}}function l(C){return C.length===0?null:C[0]}function m(C){if(C.length===0)return null;var se=C[0],K=C.pop();if(K!==se){C[0]=K;e:for(var k=0,X=C.length,xe=X>>>1;k<xe;){var ye=2*(k+1)-1,pe=C[ye],fe=ye+1,De=C[fe];if(0>g(pe,K))fe<X&&0>g(De,pe)?(C[k]=De,C[fe]=K,k=fe):(C[k]=pe,C[ye]=K,k=ye);else if(fe<X&&0>g(De,K))C[k]=De,C[fe]=K,k=fe;else break e}}return se}function g(C,se){var K=C.sortIndex-se.sortIndex;return K!==0?K:C.id-se.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var _=performance;d.unstable_now=function(){return _.now()}}else{var y=Date,S=y.now();d.unstable_now=function(){return y.now()-S}}var N=[],O=[],I=1,b=null,V=3,G=!1,J=!1,R=!1,z=typeof setTimeout==\"function\"?setTimeout:null,Q=typeof clearTimeout==\"function\"?clearTimeout:null,B=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(C){for(var se=l(O);se!==null;){if(se.callback===null)m(O);else if(se.startTime<=C)m(O),se.sortIndex=se.expirationTime,h(N,se);else break;se=l(O)}}function D(C){if(R=!1,$(C),!J)if(l(N)!==null)J=!0,ke(A);else{var se=l(O);se!==null&&ce(D,se.startTime-C)}}function A(C,se){J=!1,R&&(R=!1,Q(Se),Se=-1),G=!0;var K=V;try{for($(se),b=l(N);b!==null&&(!(b.expirationTime>se)||C&&!me());){var k=b.callback;if(typeof k==\"function\"){b.callback=null,V=b.priorityLevel;var X=k(b.expirationTime<=se);se=d.unstable_now(),typeof X==\"function\"?b.callback=X:b===l(N)&&m(N),$(se)}else m(N);b=l(N)}if(b!==null)var xe=!0;else{var ye=l(O);ye!==null&&ce(D,ye.startTime-se),xe=!1}return xe}finally{b=null,V=K,G=!1}}var ee=!1,ue=null,Se=-1,rt=5,Y=-1;function me(){return!(d.unstable_now()-Y<rt)}function Ie(){if(ue!==null){var C=d.unstable_now();Y=C;var se=!0;try{se=ue(!0,C)}finally{se?Ue():(ee=!1,ue=null)}}else ee=!1}var Ue;if(typeof B==\"function\")Ue=function(){B(Ie)};else if(typeof MessageChannel<\"u\"){var Ze=new MessageChannel,de=Ze.port2;Ze.port1.onmessage=Ie,Ue=function(){de.postMessage(null)}}else Ue=function(){z(Ie,0)};function ke(C){ue=C,ee||(ee=!0,Ue())}function ce(C,se){Se=z(function(){C(d.unstable_now())},se)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(C){C.callback=null},d.unstable_continueExecution=function(){J||G||(J=!0,ke(A))},d.unstable_forceFrameRate=function(C){0>C||125<C?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):rt=0<C?Math.floor(1e3/C):5},d.unstable_getCurrentPriorityLevel=function(){return V},d.unstable_getFirstCallbackNode=function(){return l(N)},d.unstable_next=function(C){switch(V){case 1:case 2:case 3:var se=3;break;default:se=V}var K=V;V=se;try{return C()}finally{V=K}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(C,se){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=V;V=C;try{return se()}finally{V=K}},d.unstable_scheduleCallback=function(C,se,K){var k=d.unstable_now();switch(typeof K==\"object\"&&K!==null?(K=K.delay,K=typeof K==\"number\"&&0<K?k+K:k):K=k,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,C={id:I++,callback:se,priorityLevel:C,startTime:K,expirationTime:X,sortIndex:-1},K>k?(C.sortIndex=K,h(O,C),l(N)===null&&C===l(O)&&(R?(Q(Se),Se=-1):R=!0,ce(D,K-k))):(C.sortIndex=X,h(N,C),J||G||(J=!0,ke(A))),C},d.unstable_shouldYield=me,d.unstable_wrapCallback=function(C){var se=V;return function(){var K=V;V=se;try{return C.apply(this,arguments)}finally{V=K}}}}(cu)),cu}var _h;function hm(){return _h||(_h=1,lu.exports=dm()),lu.exports}/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var wh;function fm(){if(wh)return vn;wh=1;var d=Su(),h=hm();function l(e){for(var n=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,s=1;s<arguments.length;s++)n+=\"&args[]=\"+encodeURIComponent(arguments[s]);return\"Minified React error #\"+e+\"; visit \"+n+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var m=new Set,g={};function _(e,n){y(e,n),y(e+\"Capture\",n)}function y(e,n){for(g[e]=n,e=0;e<n.length;e++)m.add(n[e])}var S=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),N=Object.prototype.hasOwnProperty,O=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,I={},b={};function V(e){return N.call(b,e)?!0:N.call(I,e)?!1:O.test(e)?b[e]=!0:(I[e]=!0,!1)}function G(e,n,s,o){if(s!==null&&s.type===0)return!1;switch(typeof n){case\"function\":case\"symbol\":return!0;case\"boolean\":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!==\"data-\"&&e!==\"aria-\");default:return!1}}function J(e,n,s,o){if(n===null||typeof n>\"u\"||G(e,n,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function R(e,n,s,o,u,f,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=x}var z={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){z[e]=new R(e,0,!1,e,null,!1,!1)}),[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var n=e[0];z[n]=new R(n,1,!1,e[1],null,!1,!1)}),[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){z[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){z[e]=new R(e,2,!1,e,null,!1,!1)}),\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){z[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){z[e]=new R(e,3,!0,e,null,!1,!1)}),[\"capture\",\"download\"].forEach(function(e){z[e]=new R(e,4,!1,e,null,!1,!1)}),[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){z[e]=new R(e,6,!1,e,null,!1,!1)}),[\"rowSpan\",\"start\"].forEach(function(e){z[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,null,!1,!1)}),\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,\"http://www.w3.org/1999/xlink\",!1,!1)}),[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1,!1)}),[\"tabIndex\",\"crossOrigin\"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new R(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1),[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,s,o){var u=z.hasOwnProperty(n)?z[n]:null;(u!==null?u.type!==0:o||!(2<n.length)||n[0]!==\"o\"&&n[0]!==\"O\"||n[1]!==\"n\"&&n[1]!==\"N\")&&(J(n,s,u,o)&&(s=null),o||u===null?V(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,\"\"+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:\"\":s:(n=u.attributeName,o=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?\"\":\"\"+s,o?e.setAttributeNS(o,n,s):e.setAttribute(n,s))))}var D=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for(\"react.element\"),ee=Symbol.for(\"react.portal\"),ue=Symbol.for(\"react.fragment\"),Se=Symbol.for(\"react.strict_mode\"),rt=Symbol.for(\"react.profiler\"),Y=Symbol.for(\"react.provider\"),me=Symbol.for(\"react.context\"),Ie=Symbol.for(\"react.forward_ref\"),Ue=Symbol.for(\"react.suspense\"),Ze=Symbol.for(\"react.suspense_list\"),de=Symbol.for(\"react.memo\"),ke=Symbol.for(\"react.lazy\"),ce=Symbol.for(\"react.offscreen\"),C=Symbol.iterator;function se(e){return e===null||typeof e!=\"object\"?null:(e=C&&e[C]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var K=Object.assign,k;function X(e){if(k===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\\n( *(at )?)/);k=n&&n[1]||\"\"}return`\n`+k+e}var xe=!1;function ye(e,n){if(!e||xe)return\"\";xe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var o=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){o=W}e.call(n.prototype)}else{try{throw Error()}catch(W){o=W}e()}}catch(W){if(W&&o&&typeof W.stack==\"string\"){for(var u=W.stack.split(`\n`),f=o.stack.split(`\n`),x=u.length-1,j=f.length-1;1<=x&&0<=j&&u[x]!==f[j];)j--;for(;1<=x&&0<=j;x--,j--)if(u[x]!==f[j]){if(x!==1||j!==1)do if(x--,j--,0>j||u[x]!==f[j]){var E=`\n`+u[x].replace(\" at new \",\" at \");return e.displayName&&E.includes(\"<anonymous>\")&&(E=E.replace(\"<anonymous>\",e.displayName)),E}while(1<=x&&0<=j);break}}}finally{xe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:\"\")?X(e):\"\"}function pe(e){switch(e.tag){case 5:return X(e.type);case 16:return X(\"Lazy\");case 13:return X(\"Suspense\");case 19:return X(\"SuspenseList\");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return\"\"}}function fe(e){if(e==null)return null;if(typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case ue:return\"Fragment\";case ee:return\"Portal\";case rt:return\"Profiler\";case Se:return\"StrictMode\";case Ue:return\"Suspense\";case Ze:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case me:return(e.displayName||\"Context\")+\".Consumer\";case Y:return(e._context.displayName||\"Context\")+\".Provider\";case Ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||\"\",e=e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\"),e;case de:return n=e.displayName||null,n!==null?n:fe(e.type)||\"Memo\";case ke:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return\"Cache\";case 9:return(n.displayName||\"Context\")+\".Consumer\";case 10:return(n._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return e=n.render,e=e.displayName||e.name||\"\",n.displayName||(e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return n;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return fe(n);case 8:return n===Se?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n==\"function\")return n.displayName||n.name||null;if(typeof n==\"string\")return n}return null}function Te(e){switch(typeof e){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return e;case\"object\":return e;default:return\"\"}}function We(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()===\"input\"&&(n===\"checkbox\"||n===\"radio\")}function it(e){var n=We(e)?\"checked\":\"value\",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=\"\"+e[n];if(!e.hasOwnProperty(n)&&typeof s<\"u\"&&typeof s.get==\"function\"&&typeof s.set==\"function\"){var u=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(x){o=\"\"+x,f.call(this,x)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(x){o=\"\"+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tt(e){e._valueTracker||(e._valueTracker=it(e))}function cn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o=\"\";return e&&(o=We(e)?e.checked?\"true\":\"false\":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<\"u\"?document:void 0),typeof e>\"u\")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wn(e,n){var s=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function te(e,n){var s=n.defaultValue==null?\"\":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;s=Te(n.value!=null?n.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:n.type===\"checkbox\"||n.type===\"radio\"?n.checked!=null:n.value!=null}}function Oe(e,n){n=n.checked,n!=null&&$(e,\"checked\",n,!1)}function Ke(e,n){Oe(e,n);var s=Te(n.value),o=n.type;if(s!=null)o===\"number\"?(s===0&&e.value===\"\"||e.value!=s)&&(e.value=\"\"+s):e.value!==\"\"+s&&(e.value=\"\"+s);else if(o===\"submit\"||o===\"reset\"){e.removeAttribute(\"value\");return}n.hasOwnProperty(\"value\")?xt(e,n.type,s):n.hasOwnProperty(\"defaultValue\")&&xt(e,n.type,Te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function un(e,n,s){if(n.hasOwnProperty(\"value\")||n.hasOwnProperty(\"defaultValue\")){var o=n.type;if(!(o!==\"submit\"&&o!==\"reset\"||n.value!==void 0&&n.value!==null))return;n=\"\"+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==\"\"&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,s!==\"\"&&(e.name=s)}function xt(e,n,s){(n!==\"number\"||kt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+s&&(e.defaultValue=\"\"+s))}var mt=Array.isArray;function T(e,n,s,o){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n[\"$\"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty(\"$\"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&o&&(e[s].defaultSelected=!0)}else{for(s=\"\"+Te(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Be(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(l(91));return K({},n,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function pt(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(l(92));if(mt(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=\"\"),s=n}e._wrapperState={initialValue:Te(s)}}function Xt(e,n){var s=Te(n.value),o=Te(n.defaultValue);s!=null&&(s=\"\"+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=\"\"+o)}function st(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==\"\"&&n!==null&&(e.value=n)}function bt(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Ut(e,n){return e==null||e===\"http://www.w3.org/1999/xhtml\"?bt(n):e===\"http://www.w3.org/2000/svg\"&&n===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":e}var At,hs=function(e){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(n,s,o,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,o,u)})}:e}(function(e,n){if(e.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in e)e.innerHTML=n;else{for(At=At||document.createElement(\"div\"),At.innerHTML=\"<svg>\"+n.valueOf().toString()+\"</svg>\",n=At.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ar(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ca=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(or).forEach(function(e){ca.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),or[n]=or[e]})});function Pi(e,n,s){return n==null||typeof n==\"boolean\"||n===\"\"?\"\":s||typeof n!=\"number\"||n===0||or.hasOwnProperty(e)&&or[e]?(\"\"+n).trim():n+\"px\"}function Zr(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var o=s.indexOf(\"--\")===0,u=Pi(s,n[s],o);s===\"float\"&&(s=\"cssFloat\"),o?e.setProperty(s,u):e[s]=u}}var fs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U(e,n){if(n){if(fs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(l(60));if(typeof n.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in n.dangerouslySetInnerHTML))throw Error(l(61))}if(n.style!=null&&typeof n.style!=\"object\")throw Error(l(62))}}function le(e,n){if(e.indexOf(\"-\")===-1)return typeof n.is==\"string\";switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var He=null;function $e(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pe=null,je=null,Xe=null;function Nn(e){if(e=Tr(e)){if(typeof Pe!=\"function\")throw Error(l(280));var n=e.stateNode;n&&(n=Fs(n),Pe(e.stateNode,e.type,n))}}function en(e){je?Xe?Xe.push(e):Xe=[e]:je=e}function lr(){if(je){var e=je,n=Xe;if(Xe=je=null,Nn(e),n)for(e=0;e<n.length;e++)Nn(n[e])}}function oo(e,n){return e(n)}function lo(){}var ua=!1;function ms(e,n,s){if(ua)return e(n,s);ua=!0;try{return oo(e,n,s)}finally{ua=!1,(je!==null||Xe!==null)&&(lo(),lr())}}function Ci(e,n){var s=e.stateNode;if(s===null)return null;var o=Fs(s);if(o===null)return null;s=o[n];e:switch(n){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(o=!o.disabled)||(e=e.type,o=!(e===\"button\"||e===\"input\"||e===\"select\"||e===\"textarea\")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!=\"function\")throw Error(l(231,n,typeof s));return s}var da=!1;if(S)try{var Li={};Object.defineProperty(Li,\"passive\",{get:function(){da=!0}}),window.addEventListener(\"test\",Li,Li),window.removeEventListener(\"test\",Li,Li)}catch{da=!1}function zl(e,n,s,o,u,f,x,j,E){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(ie){this.onError(ie)}}var Vt=!1,Ne=null,Ei=!1,ps=null,co={onError:function(e){Vt=!0,Ne=e}};function uo(e,n,s,o,u,f,x,j,E){Vt=!1,Ne=null,zl.apply(co,arguments)}function ha(e,n,s,o,u,f,x,j,E){if(uo.apply(this,arguments),Vt){if(Vt){var W=Ne;Vt=!1,Ne=null}else throw Error(l(198));Ei||(Ei=!0,ps=W)}}function cr(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function wr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function fa(e){if(cr(e)!==e)throw Error(l(188))}function Al(e){var n=e.alternate;if(!n){if(n=cr(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,o=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){s=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return fa(u),e;if(f===o)return fa(u),n;f=f.sibling}throw Error(l(188))}if(s.return!==o.return)s=u,o=f;else{for(var x=!1,j=u.child;j;){if(j===s){x=!0,s=u,o=f;break}if(j===o){x=!0,o=u,s=f;break}j=j.sibling}if(!x){for(j=f.child;j;){if(j===s){x=!0,s=f,o=u;break}if(j===o){x=!0,o=f,s=u;break}j=j.sibling}if(!x)throw Error(l(189))}}if(s.alternate!==o)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function ho(e){return e=Al(e),e!==null?fo(e):null}function fo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=fo(e);if(n!==null)return n;e=e.sibling}return null}var mo=h.unstable_scheduleCallback,ma=h.unstable_cancelCallback,Dl=h.unstable_shouldYield,gs=h.unstable_requestPaint,vt=h.unstable_now,Bl=h.unstable_getCurrentPriorityLevel,pa=h.unstable_ImmediatePriority,po=h.unstable_UserBlockingPriority,xs=h.unstable_NormalPriority,ga=h.unstable_LowPriority,$r=h.unstable_IdlePriority,Ii=null,bn=null;function Ti(e){if(bn&&typeof bn.onCommitFiberRoot==\"function\")try{bn.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Fe=Math.clz32?Math.clz32:Vr,dt=Math.log,vs=Math.LN2;function Vr(e){return e>>>=0,e===0?32:31-(dt(e)/vs|0)|0}var Gn=64,Hr=4194304;function Ae(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes,x=s&268435455;if(x!==0){var j=x&~u;j!==0?o=Ae(j):(f&=x,f!==0&&(o=Ae(f)))}else x=s&~u,x!==0?o=Ae(x):f!==0&&(o=Ae(f));if(o===0)return 0;if(n!==0&&n!==o&&(n&u)===0&&(u=o&-o,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if((o&4)!==0&&(o|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)s=31-Fe(n),u=1<<s,o|=e[s],n&=~u;return o}function xa(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var x=31-Fe(f),j=1<<x,E=u[x];E===-1?((j&s)===0||(j&o)!==0)&&(u[x]=xa(j,n)):E<=n&&(e.expiredLanes|=j),f&=~j}}function Ht(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function go(){var e=Gn;return Gn<<=1,(Gn&4194240)===0&&(Gn=64),e}function qr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function jn(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Fe(n),e[n]=s}function jt(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Fe(s),f=1<<u;n[u]=0,o[u]=-1,e[u]=-1,s&=~f}}function Qn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Fe(s),u=1<<o;u&n|e[o]&n&&(e[o]|=n),s&=~u}}var Je=0;function Wr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _s,Nr,ws,Ns,Mi,Oi=!1,Gr=[],Sn=null,Kn=null,Rn=null,Ri=new Map,Me=new Map,Mt=[],at=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function va(e,n){switch(e){case\"focusin\":case\"focusout\":Sn=null;break;case\"dragenter\":case\"dragleave\":Kn=null;break;case\"mouseover\":case\"mouseout\":Rn=null;break;case\"pointerover\":case\"pointerout\":Ri.delete(n.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":Me.delete(n.pointerId)}}function br(e,n,s,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Tr(n),n!==null&&Nr(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function ya(e,n,s,o,u){switch(n){case\"focusin\":return Sn=br(Sn,e,n,s,o,u),!0;case\"dragenter\":return Kn=br(Kn,e,n,s,o,u),!0;case\"mouseover\":return Rn=br(Rn,e,n,s,o,u),!0;case\"pointerover\":var f=u.pointerId;return Ri.set(f,br(Ri.get(f)||null,e,n,s,o,u)),!0;case\"gotpointercapture\":return f=u.pointerId,Me.set(f,br(Me.get(f)||null,e,n,s,o,u)),!0}return!1}function bs(e){var n=Ir(e.target);if(n!==null){var s=cr(n);if(s!==null){if(n=s.tag,n===13){if(n=wr(s),n!==null){e.blockedOn=n,Mi(e.priority,function(){ws(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ks(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);He=o,s.target.dispatchEvent(o),He=null}else return n=Tr(s),n!==null&&Nr(n),e.blockedOn=s,!1;n.shift()}return!0}function js(e,n,s){zn(e)&&s.delete(n)}function zi(){Oi=!1,Sn!==null&&zn(Sn)&&(Sn=null),Kn!==null&&zn(Kn)&&(Kn=null),Rn!==null&&zn(Rn)&&(Rn=null),Ri.forEach(js),Me.forEach(js)}function yt(e,n){e.blockedOn===n&&(e.blockedOn=null,Oi||(Oi=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,zi)))}function kn(e){function n(u){return yt(u,e)}if(0<Gr.length){yt(Gr[0],e);for(var s=1;s<Gr.length;s++){var o=Gr[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Sn!==null&&yt(Sn,e),Kn!==null&&yt(Kn,e),Rn!==null&&yt(Rn,e),Ri.forEach(n),Me.forEach(n),s=0;s<Mt.length;s++)o=Mt[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Mt.length&&(s=Mt[0],s.blockedOn===null);)bs(s),s.blockedOn===null&&Mt.shift()}var jr=D.ReactCurrentBatchConfig,Ai=!0;function Fl(e,n,s,o){var u=Je,f=jr.transition;jr.transition=null;try{Je=1,Di(e,n,s,o)}finally{Je=u,jr.transition=f}}function xo(e,n,s,o){var u=Je,f=jr.transition;jr.transition=null;try{Je=4,Di(e,n,s,o)}finally{Je=u,jr.transition=f}}function Di(e,n,s,o){if(Ai){var u=ks(e,n,s,o);if(u===null)t(e,n,o,Ss,s),va(e,o);else if(ya(u,e,n,s,o))o.stopPropagation();else if(va(e,o),n&4&&-1<at.indexOf(e)){for(;u!==null;){var f=Tr(u);if(f!==null&&_s(f),f=ks(e,n,s,o),f===null&&t(e,n,o,Ss,s),f===u)break;u=f}u!==null&&o.stopPropagation()}else t(e,n,o,null,s)}}var Ss=null;function ks(e,n,s,o){if(Ss=null,e=$e(o),e=Ir(e),e!==null)if(n=cr(e),n===null)e=null;else if(s=n.tag,s===13){if(e=wr(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ss=e,null}function Qe(e){switch(e){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(Bl()){case pa:return 1;case po:return 4;case xs:case ga:return 16;case $r:return 536870912;default:return 16}default:return 16}}var ur=null,tn=null,dr=null;function _a(){if(dr)return dr;var e,n=tn,s=n.length,o,u=\"value\"in ur?ur.value:ur.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var x=s-e;for(o=1;o<=x&&n[s-o]===u[f-o];o++);return dr=u.slice(e,1<o?1-o:void 0)}function Ps(e){var n=e.keyCode;return\"charCode\"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function vo(){return!1}function qt(e){function n(s,o,u,f,x){this._reactName=s,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qr:vo,this.isPropagationStopped=vo,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!=\"unknown\"&&(s.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!=\"unknown\"&&(s.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=qt(Kr),Sr=K({},Kr,{view:0,detail:0}),Ul=qt(Sr),dn,Na,Jr,Pn=K({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return\"movementX\"in e?e.movementX:(e!==Jr&&(Jr&&e.type===\"mousemove\"?(dn=e.screenX-Jr.screenX,Na=e.screenY-Jr.screenY):Na=dn=0,Jr=e),dn)},movementY:function(e){return\"movementY\"in e?e.movementY:Na}}),ba=qt(Pn),yo=K({},Pn,{dataTransfer:0}),ja=qt(yo),Zl=K({},Sr,{relatedTarget:0}),Cs=qt(Zl),_o=K({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=qt(_o),Vl=K({},Kr,{clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),Sa=qt(Vl),Hl=K({},Kr,{data:0}),ka=qt(Hl),wo={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Ls={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},kr={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function ql(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=kr[e])?!!n[e]:!1}function Pr(){return ql}var hn=K({},Sr,{key:function(e){if(e.key){var n=wo[e.key]||e.key;if(n!==\"Unidentified\")return n}return e.type===\"keypress\"?(e=Ps(e),e===13?\"Enter\":String.fromCharCode(e)):e.type===\"keydown\"||e.type===\"keyup\"?Ls[e.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type===\"keypress\"?Ps(e):0},keyCode:function(e){return e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0},which:function(e){return e.type===\"keypress\"?Ps(e):e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0}}),No=qt(hn),bo=K({},Pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=qt(bo),Pa=K({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Ca=qt(Pa),Wl=K({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=qt(Wl),So=K({},Pn,{deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=qt(So),Cn=[9,13,27,32],hr=S&&\"CompositionEvent\"in window,Bi=null;S&&\"documentMode\"in document&&(Bi=document.documentMode);var Jn=S&&\"TextEvent\"in window&&!Bi,ko=S&&(!hr||Bi&&8<Bi&&11>=Bi),Cr=\" \",Po=!1;function Yr(e,n){switch(e){case\"keyup\":return Cn.indexOf(n.keyCode)!==-1;case\"keydown\":return n.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function La(e){return e=e.detail,typeof e==\"object\"&&\"data\"in e?e.data:null}var Yn=!1;function Kl(e,n){switch(e){case\"compositionend\":return La(n);case\"keypress\":return n.which!==32?null:(Po=!0,Cr);case\"textInput\":return e=n.data,e===Cr&&Po?null:e;default:return null}}function fr(e,n){if(Yn)return e===\"compositionend\"||!hr&&Yr(e,n)?(e=_a(),dr=tn=ur=null,Yn=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case\"compositionend\":return ko&&n.locale!==\"ko\"?null:n.data;default:return null}}var Es={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Co(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n===\"input\"?!!Es[e.type]:n===\"textarea\"}function Is(e,n,s,o){en(o),n=a(n,\"onChange\"),0<n.length&&(s=new wa(\"onChange\",\"change\",null,s,o),e.push({event:s,listeners:n}))}var Fi=null,nn=null;function Jl(e){Da(e,0)}function Xn(e){var n=Mr(e);if(cn(n))return e}function Yl(e,n){if(e===\"change\")return n}var An=!1;if(S){var Xr;if(S){var Ts=\"oninput\"in document;if(!Ts){var Ms=document.createElement(\"div\");Ms.setAttribute(\"oninput\",\"return;\"),Ts=typeof Ms.oninput==\"function\"}Xr=Ts}else Xr=!1;An=Xr&&(!document.documentMode||9<document.documentMode)}function Ui(){Fi&&(Fi.detachEvent(\"onpropertychange\",Os),nn=Fi=null)}function Os(e){if(e.propertyName===\"value\"&&Xn(nn)){var n=[];Is(n,nn,e,$e(e)),ms(Jl,n)}}function Rs(e,n,s){e===\"focusin\"?(Ui(),Fi=n,nn=s,Fi.attachEvent(\"onpropertychange\",Os)):e===\"focusout\"&&Ui()}function ei(e){if(e===\"selectionchange\"||e===\"keyup\"||e===\"keydown\")return Xn(nn)}function zs(e,n){if(e===\"click\")return Xn(n)}function Ea(e,n){if(e===\"input\"||e===\"change\")return Xn(n)}function Lo(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is==\"function\"?Object.is:Lo;function mr(e,n){if(Ln(e,n))return!0;if(typeof e!=\"object\"||e===null||typeof n!=\"object\"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var u=s[o];if(!N.call(n,u)||!Ln(e[u],n[u]))return!1}return!0}function Eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ia(e,n){var s=Eo(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Eo(s)}}function Io(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Io(e,n.parentNode):\"contains\"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ta(){for(var e=window,n=kt();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href==\"string\"}catch{s=!1}if(s)e=n.contentWindow;else break;n=kt(e.document)}return n}function Ma(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n===\"input\"&&(e.type===\"text\"||e.type===\"search\"||e.type===\"tel\"||e.type===\"url\"||e.type===\"password\")||n===\"textarea\"||e.contentEditable===\"true\")}function Dn(e){var n=Ta(),s=e.focusedElem,o=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Io(s.ownerDocument.documentElement,s)){if(o!==null&&Ma(s)){if(n=o.start,e=o.end,e===void 0&&(e=n),\"selectionStart\"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,f=Math.min(o.start,u);o=o.end===void 0?f:Math.min(o.end,u),!e.extend&&f>o&&(u=o,o=f,f=u),u=Ia(s,f);var x=Ia(s,o);u&&x&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),f>o?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus==\"function\"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var As=S&&\"documentMode\"in document&&11>=document.documentMode,ti=null,ni=null,Zi=null,Ds=!1;function To(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ds||ti==null||ti!==kt(o)||(o=ti,\"selectionStart\"in o&&Ma(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zi&&mr(Zi,o)||(Zi=o,o=a(ni,\"onSelect\"),0<o.length&&(n=new wa(\"onSelect\",\"select\",null,n,s),e.push({event:n,listeners:o}),n.target=ti)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s[\"Webkit\"+e]=\"webkit\"+n,s[\"Moz\"+e]=\"moz\"+n,s}var ri={animationend:pr(\"Animation\",\"AnimationEnd\"),animationiteration:pr(\"Animation\",\"AnimationIteration\"),animationstart:pr(\"Animation\",\"AnimationStart\"),transitionend:pr(\"Transition\",\"TransitionEnd\")},gr={},Oa={};S&&(Oa=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),\"TransitionEvent\"in window||delete ri.transitionend.transition);function $i(e){if(gr[e])return gr[e];if(!ri[e])return e;var n=ri[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Oa)return gr[e]=n[s];return e}var Mo=$i(\"animationend\"),Bn=$i(\"animationiteration\"),Ra=$i(\"animationstart\"),za=$i(\"transitionend\"),ii=new Map,Oo=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function En(e,n){ii.set(e,n),_(n,[e])}for(var Lr=0;Lr<Oo.length;Lr++){var Bs=Oo[Lr],Ro=Bs.toLowerCase(),Xl=Bs[0].toUpperCase()+Bs.slice(1);En(Ro,\"on\"+Xl)}En(Mo,\"onAnimationEnd\"),En(Bn,\"onAnimationIteration\"),En(Ra,\"onAnimationStart\"),En(\"dblclick\",\"onDoubleClick\"),En(\"focusin\",\"onFocus\"),En(\"focusout\",\"onBlur\"),En(za,\"onTransitionEnd\"),y(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]),y(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]),y(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]),y(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]),_(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \")),_(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \")),_(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]),_(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \")),_(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")),_(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var si=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),zo=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(si));function Aa(e,n,s){var o=e.type||\"unknown-event\";e.currentTarget=s,ha(o,n,void 0,e),e.currentTarget=null}function Da(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],u=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var x=o.length-1;0<=x;x--){var j=o[x],E=j.instance,W=j.currentTarget;if(j=j.listener,E!==f&&u.isPropagationStopped())break e;Aa(u,j,W),f=E}else for(x=0;x<o.length;x++){if(j=o[x],E=j.instance,W=j.currentTarget,j=j.listener,E!==f&&u.isPropagationStopped())break e;Aa(u,j,W),f=E}}}if(Ei)throw e=ps,Ei=!1,ps=null,e}function ot(e,n){var s=n[ci];s===void 0&&(s=n[ci]=new Set);var o=e+\"__bubble\";s.has(o)||(Ao(n,e,2,!1),s.add(o))}function Ba(e,n,s){var o=0;n&&(o|=4),Ao(s,e,o,n)}var Vi=\"_reactListening\"+Math.random().toString(36).slice(2);function ai(e){if(!e[Vi]){e[Vi]=!0,m.forEach(function(s){s!==\"selectionchange\"&&(zo.has(s)||Ba(s,!1,e),Ba(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vi]||(n[Vi]=!0,Ba(\"selectionchange\",!1,n))}}function Ao(e,n,s,o){switch(Qe(n)){case 1:var u=Fl;break;case 4:u=xo;break;default:u=Di}s=u.bind(null,n,s,e),u=void 0,!da||n!==\"touchstart\"&&n!==\"touchmove\"&&n!==\"wheel\"||(u=!0),o?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function t(e,n,s,o,u){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var j=o.stateNode.containerInfo;if(j===u||j.nodeType===8&&j.parentNode===u)break;if(x===4)for(x=o.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;x=x.return}for(;j!==null;){if(x=Ir(j),x===null)return;if(E=x.tag,E===5||E===6){o=f=x;continue e}j=j.parentNode}}o=o.return}ms(function(){var W=f,ie=$e(s),ae=[];e:{var re=ii.get(e);if(re!==void 0){var ge=wa,_e=e;switch(e){case\"keypress\":if(Ps(s)===0)break e;case\"keydown\":case\"keyup\":ge=No;break;case\"focusin\":_e=\"focus\",ge=Cs;break;case\"focusout\":_e=\"blur\",ge=Cs;break;case\"beforeblur\":case\"afterblur\":ge=Cs;break;case\"click\":if(s.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":ge=ba;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":ge=ja;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":ge=Ca;break;case Mo:case Bn:case Ra:ge=$l;break;case za:ge=Gl;break;case\"scroll\":ge=Ul;break;case\"wheel\":ge=Ql;break;case\"copy\":case\"cut\":case\"paste\":ge=Sa;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":ge=jo}var we=(n&4)!==0,Pt=!we&&e===\"scroll\",Z=we?re!==null?re+\"Capture\":null:re;we=[];for(var M=W,H;M!==null;){H=M;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,Z!==null&&(oe=Ci(M,Z),oe!=null&&we.push(i(M,oe,H)))),Pt)break;M=M.return}0<we.length&&(re=new ge(re,_e,null,s,ie),ae.push({event:re,listeners:we}))}}if((n&7)===0){e:{if(re=e===\"mouseover\"||e===\"pointerover\",ge=e===\"mouseout\"||e===\"pointerout\",re&&s!==He&&(_e=s.relatedTarget||s.fromElement)&&(Ir(_e)||_e[nt]))break e;if((ge||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ge?(_e=s.relatedTarget||s.toElement,ge=W,_e=_e?Ir(_e):null,_e!==null&&(Pt=cr(_e),_e!==Pt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=W),ge!==_e)){if(we=ba,oe=\"onMouseLeave\",Z=\"onMouseEnter\",M=\"mouse\",(e===\"pointerout\"||e===\"pointerover\")&&(we=jo,oe=\"onPointerLeave\",Z=\"onPointerEnter\",M=\"pointer\"),Pt=ge==null?re:Mr(ge),H=_e==null?re:Mr(_e),re=new we(oe,M+\"leave\",ge,s,ie),re.target=Pt,re.relatedTarget=H,oe=null,Ir(ie)===W&&(we=new we(Z,M+\"enter\",_e,s,ie),we.target=H,we.relatedTarget=Pt,oe=we),Pt=oe,ge&&_e)t:{for(we=ge,Z=_e,M=0,H=we;H;H=c(H))M++;for(H=0,oe=Z;oe;oe=c(oe))H++;for(;0<M-H;)we=c(we),M--;for(;0<H-M;)Z=c(Z),H--;for(;M--;){if(we===Z||Z!==null&&we===Z.alternate)break t;we=c(we),Z=c(Z)}we=null}else we=null;ge!==null&&p(ae,re,ge,we,!1),_e!==null&&Pt!==null&&p(ae,Pt,_e,we,!0)}}e:{if(re=W?Mr(W):window,ge=re.nodeName&&re.nodeName.toLowerCase(),ge===\"select\"||ge===\"input\"&&re.type===\"file\")var be=Yl;else if(Co(re))if(An)be=Ea;else{be=ei;var Le=Rs}else(ge=re.nodeName)&&ge.toLowerCase()===\"input\"&&(re.type===\"checkbox\"||re.type===\"radio\")&&(be=zs);if(be&&(be=be(e,W))){Is(ae,be,s,ie);break e}Le&&Le(e,re,W),e===\"focusout\"&&(Le=re._wrapperState)&&Le.controlled&&re.type===\"number\"&&xt(re,\"number\",re.value)}switch(Le=W?Mr(W):window,e){case\"focusin\":(Co(Le)||Le.contentEditable===\"true\")&&(ti=Le,ni=W,Zi=null);break;case\"focusout\":Zi=ni=ti=null;break;case\"mousedown\":Ds=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":Ds=!1,To(ae,s,ie);break;case\"selectionchange\":if(As)break;case\"keydown\":case\"keyup\":To(ae,s,ie)}var Ee;if(hr)e:{switch(e){case\"compositionstart\":var Re=\"onCompositionStart\";break e;case\"compositionend\":Re=\"onCompositionEnd\";break e;case\"compositionupdate\":Re=\"onCompositionUpdate\";break e}Re=void 0}else Yn?Yr(e,s)&&(Re=\"onCompositionEnd\"):e===\"keydown\"&&s.keyCode===229&&(Re=\"onCompositionStart\");Re&&(ko&&s.locale!==\"ko\"&&(Yn||Re!==\"onCompositionStart\"?Re===\"onCompositionEnd\"&&Yn&&(Ee=_a()):(ur=ie,tn=\"value\"in ur?ur.value:ur.textContent,Yn=!0)),Le=a(W,Re),0<Le.length&&(Re=new ka(Re,e,null,s,ie),ae.push({event:Re,listeners:Le}),Ee?Re.data=Ee:(Ee=La(s),Ee!==null&&(Re.data=Ee)))),(Ee=Jn?Kl(e,s):fr(e,s))&&(W=a(W,\"onBeforeInput\"),0<W.length&&(ie=new ka(\"onBeforeInput\",\"beforeinput\",null,s,ie),ae.push({event:ie,listeners:W}),ie.data=Ee))}Da(ae,n)})}function i(e,n,s){return{instance:e,listener:n,currentTarget:s}}function a(e,n){for(var s=n+\"Capture\",o=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Ci(e,s),f!=null&&o.unshift(i(e,f,u)),f=Ci(e,n),f!=null&&o.push(i(e,f,u))),e=e.return}return o}function c(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p(e,n,s,o,u){for(var f=n._reactName,x=[];s!==null&&s!==o;){var j=s,E=j.alternate,W=j.stateNode;if(E!==null&&E===o)break;j.tag===5&&W!==null&&(j=W,u?(E=Ci(s,f),E!=null&&x.unshift(i(s,E,j))):u||(E=Ci(s,f),E!=null&&x.push(i(s,E,j)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var v=/\\r\\n?/g,P=/\\u0000|\\uFFFD/g;function F(e){return(typeof e==\"string\"?e:\"\"+e).replace(v,`\n`).replace(P,\"\")}function q(e,n,s){if(n=F(n),F(e)!==n&&s)throw Error(l(425))}function ne(){}var he=null,Ce=null;function Ve(e,n){return e===\"textarea\"||e===\"noscript\"||typeof n.children==\"string\"||typeof n.children==\"number\"||typeof n.dangerouslySetInnerHTML==\"object\"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ot=typeof setTimeout==\"function\"?setTimeout:void 0,Lt=typeof clearTimeout==\"function\"?clearTimeout:void 0,rn=typeof Promise==\"function\"?Promise:void 0,Wt=typeof queueMicrotask==\"function\"?queueMicrotask:typeof rn<\"u\"?function(e){return rn.resolve(null).then(e).catch(oi)}:Ot;function oi(e){setTimeout(function(){throw e})}function Fa(e,n){var s=n,o=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s===\"/$\"){if(o===0){e.removeChild(u),kn(n);return}o--}else s!==\"$\"&&s!==\"$?\"&&s!==\"$!\"||o++;s=u}while(s);kn(n)}function xr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n===\"$\"||n===\"$!\"||n===\"$?\")break;if(n===\"/$\")return null}}return e}function Do(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s===\"$\"||s===\"$!\"||s===\"$?\"){if(n===0)return e;n--}else s===\"/$\"&&n++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Fn=\"__reactFiber$\"+Er,li=\"__reactProps$\"+Er,nt=\"__reactContainer$\"+Er,ci=\"__reactEvents$\"+Er,ec=\"__reactListeners$\"+Er,tc=\"__reactHandles$\"+Er;function Ir(e){var n=e[Fn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[nt]||s[Fn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Do(e);e!==null;){if(s=e[Fn])return s;e=Do(e)}return n}e=s,s=e.parentNode}return null}function Tr(e){return e=e[Fn]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function Fs(e){return e[li]||null}var nc=[],Us=-1;function ui(e){return{current:e}}function ht(e){0>Us||(e.current=nc[Us],nc[Us]=null,Us--)}function ct(e,n){Us++,nc[Us]=e.current,e.current=n}var di={},Gt=ui(di),fn=ui(!1),Hi=di;function Zs(e,n){var s=e.type.contextTypes;if(!s)return di;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in s)u[f]=n[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function mn(e){return e=e.childContextTypes,e!=null}function Bo(){ht(fn),ht(Gt)}function Au(e,n,s){if(Gt.current!==di)throw Error(l(168));ct(Gt,n),ct(fn,s)}function Du(e,n,s){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!=\"function\")return s;o=o.getChildContext();for(var u in o)if(!(u in n))throw Error(l(108,De(e)||\"Unknown\",u));return K({},s,o)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,Hi=Gt.current,ct(Gt,e),ct(fn,fn.current),!0}function Bu(e,n,s){var o=e.stateNode;if(!o)throw Error(l(169));s?(e=Du(e,n,Hi),o.__reactInternalMemoizedMergedChildContext=e,ht(fn),ht(Gt),ct(Gt,e)):ht(fn),ct(fn,s)}var Or=null,Uo=!1,rc=!1;function Fu(e){Or===null?Or=[e]:Or.push(e)}function Sf(e){Uo=!0,Fu(e)}function hi(){if(!rc&&Or!==null){rc=!0;var e=0,n=Je;try{var s=Or;for(Je=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}Or=null,Uo=!1}catch(u){throw Or!==null&&(Or=Or.slice(e+1)),mo(pa,hi),u}finally{Je=n,rc=!1}}return null}var $s=[],Vs=0,Zo=null,$o=0,Un=[],Zn=0,qi=null,Rr=1,zr=\"\";function Wi(e,n){$s[Vs++]=$o,$s[Vs++]=Zo,Zo=e,$o=n}function Uu(e,n,s){Un[Zn++]=Rr,Un[Zn++]=zr,Un[Zn++]=qi,qi=e;var o=Rr;e=zr;var u=32-Fe(o)-1;o&=~(1<<u),s+=1;var f=32-Fe(n)+u;if(30<f){var x=u-u%5;f=(o&(1<<x)-1).toString(32),o>>=x,u-=x,Rr=1<<32-Fe(n)+u|s<<u|o,zr=f+e}else Rr=1<<f|s<<u|o,zr=e}function ic(e){e.return!==null&&(Wi(e,1),Uu(e,1,0))}function sc(e){for(;e===Zo;)Zo=$s[--Vs],$s[Vs]=null,$o=$s[--Vs],$s[Vs]=null;for(;e===qi;)qi=Un[--Zn],Un[Zn]=null,zr=Un[--Zn],Un[Zn]=null,Rr=Un[--Zn],Un[Zn]=null}var In=null,Tn=null,gt=!1,er=null;function Zu(e,n){var s=qn(5,null,null,0);s.elementType=\"DELETED\",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function $u(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,In=e,Tn=xr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===\"\"||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,In=e,Tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=qi!==null?{id:Rr,overflow:zr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=qn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,In=e,Tn=null,!0):!1;default:return!1}}function ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oc(e){if(gt){var n=Tn;if(n){var s=n;if(!$u(e,n)){if(ac(e))throw Error(l(418));n=xr(s.nextSibling);var o=In;n&&$u(e,n)?Zu(o,s):(e.flags=e.flags&-4097|2,gt=!1,In=e)}}else{if(ac(e))throw Error(l(418));e.flags=e.flags&-4097|2,gt=!1,In=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function Vo(e){if(e!==In)return!1;if(!gt)return Vu(e),gt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!==\"head\"&&n!==\"body\"&&!Ve(e.type,e.memoizedProps)),n&&(n=Tn)){if(ac(e))throw Hu(),Error(l(418));for(;n;)Zu(e,n),n=xr(n.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s===\"/$\"){if(n===0){Tn=xr(e.nextSibling);break e}n--}else s!==\"$\"&&s!==\"$!\"&&s!==\"$?\"||n++}e=e.nextSibling}Tn=null}}else Tn=In?xr(e.stateNode.nextSibling):null;return!0}function Hu(){for(var e=Tn;e;)e=xr(e.nextSibling)}function Hs(){Tn=In=null,gt=!1}function lc(e){er===null?er=[e]:er.push(e)}var kf=D.ReactCurrentBatchConfig;function Ua(e,n,s){if(e=s.ref,e!==null&&typeof e!=\"function\"&&typeof e!=\"object\"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(l(309));var o=s.stateNode}if(!o)throw Error(l(147,e));var u=o,f=\"\"+e;return n!==null&&n.ref!==null&&typeof n.ref==\"function\"&&n.ref._stringRef===f?n.ref:(n=function(x){var j=u.refs;x===null?delete j[f]:j[f]=x},n._stringRef=f,n)}if(typeof e!=\"string\")throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function Ho(e,n){throw e=Object.prototype.toString.call(n),Error(l(31,e===\"[object Object]\"?\"object with keys {\"+Object.keys(n).join(\", \")+\"}\":e))}function qu(e){var n=e._init;return n(e._payload)}function Wu(e){function n(Z,M){if(e){var H=Z.deletions;H===null?(Z.deletions=[M],Z.flags|=16):H.push(M)}}function s(Z,M){if(!e)return null;for(;M!==null;)n(Z,M),M=M.sibling;return null}function o(Z,M){for(Z=new Map;M!==null;)M.key!==null?Z.set(M.key,M):Z.set(M.index,M),M=M.sibling;return Z}function u(Z,M){return Z=_i(Z,M),Z.index=0,Z.sibling=null,Z}function f(Z,M,H){return Z.index=H,e?(H=Z.alternate,H!==null?(H=H.index,H<M?(Z.flags|=2,M):H):(Z.flags|=2,M)):(Z.flags|=1048576,M)}function x(Z){return e&&Z.alternate===null&&(Z.flags|=2),Z}function j(Z,M,H,oe){return M===null||M.tag!==6?(M=Xc(H,Z.mode,oe),M.return=Z,M):(M=u(M,H),M.return=Z,M)}function E(Z,M,H,oe){var be=H.type;return be===ue?ie(Z,M,H.props.children,oe,H.key):M!==null&&(M.elementType===be||typeof be==\"object\"&&be!==null&&be.$$typeof===ke&&qu(be)===M.type)?(oe=u(M,H.props),oe.ref=Ua(Z,M,H),oe.return=Z,oe):(oe=pl(H.type,H.key,H.props,null,Z.mode,oe),oe.ref=Ua(Z,M,H),oe.return=Z,oe)}function W(Z,M,H,oe){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=eu(H,Z.mode,oe),M.return=Z,M):(M=u(M,H.children||[]),M.return=Z,M)}function ie(Z,M,H,oe,be){return M===null||M.tag!==7?(M=ts(H,Z.mode,oe,be),M.return=Z,M):(M=u(M,H),M.return=Z,M)}function ae(Z,M,H){if(typeof M==\"string\"&&M!==\"\"||typeof M==\"number\")return M=Xc(\"\"+M,Z.mode,H),M.return=Z,M;if(typeof M==\"object\"&&M!==null){switch(M.$$typeof){case A:return H=pl(M.type,M.key,M.props,null,Z.mode,H),H.ref=Ua(Z,null,M),H.return=Z,H;case ee:return M=eu(M,Z.mode,H),M.return=Z,M;case ke:var oe=M._init;return ae(Z,oe(M._payload),H)}if(mt(M)||se(M))return M=ts(M,Z.mode,H,null),M.return=Z,M;Ho(Z,M)}return null}function re(Z,M,H,oe){var be=M!==null?M.key:null;if(typeof H==\"string\"&&H!==\"\"||typeof H==\"number\")return be!==null?null:j(Z,M,\"\"+H,oe);if(typeof H==\"object\"&&H!==null){switch(H.$$typeof){case A:return H.key===be?E(Z,M,H,oe):null;case ee:return H.key===be?W(Z,M,H,oe):null;case ke:return be=H._init,re(Z,M,be(H._payload),oe)}if(mt(H)||se(H))return be!==null?null:ie(Z,M,H,oe,null);Ho(Z,H)}return null}function ge(Z,M,H,oe,be){if(typeof oe==\"string\"&&oe!==\"\"||typeof oe==\"number\")return Z=Z.get(H)||null,j(M,Z,\"\"+oe,be);if(typeof oe==\"object\"&&oe!==null){switch(oe.$$typeof){case A:return Z=Z.get(oe.key===null?H:oe.key)||null,E(M,Z,oe,be);case ee:return Z=Z.get(oe.key===null?H:oe.key)||null,W(M,Z,oe,be);case ke:var Le=oe._init;return ge(Z,M,H,Le(oe._payload),be)}if(mt(oe)||se(oe))return Z=Z.get(H)||null,ie(M,Z,oe,be,null);Ho(M,oe)}return null}function _e(Z,M,H,oe){for(var be=null,Le=null,Ee=M,Re=M=0,Ft=null;Ee!==null&&Re<H.length;Re++){Ee.index>Re?(Ft=Ee,Ee=null):Ft=Ee.sibling;var et=re(Z,Ee,H[Re],oe);if(et===null){Ee===null&&(Ee=Ft);break}e&&Ee&&et.alternate===null&&n(Z,Ee),M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et,Ee=Ft}if(Re===H.length)return s(Z,Ee),gt&&Wi(Z,Re),be;if(Ee===null){for(;Re<H.length;Re++)Ee=ae(Z,H[Re],oe),Ee!==null&&(M=f(Ee,M,Re),Le===null?be=Ee:Le.sibling=Ee,Le=Ee);return gt&&Wi(Z,Re),be}for(Ee=o(Z,Ee);Re<H.length;Re++)Ft=ge(Ee,Z,Re,H[Re],oe),Ft!==null&&(e&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Re:Ft.key),M=f(Ft,M,Re),Le===null?be=Ft:Le.sibling=Ft,Le=Ft);return e&&Ee.forEach(function(wi){return n(Z,wi)}),gt&&Wi(Z,Re),be}function we(Z,M,H,oe){var be=se(H);if(typeof be!=\"function\")throw Error(l(150));if(H=be.call(H),H==null)throw Error(l(151));for(var Le=be=null,Ee=M,Re=M=0,Ft=null,et=H.next();Ee!==null&&!et.done;Re++,et=H.next()){Ee.index>Re?(Ft=Ee,Ee=null):Ft=Ee.sibling;var wi=re(Z,Ee,et.value,oe);if(wi===null){Ee===null&&(Ee=Ft);break}e&&Ee&&wi.alternate===null&&n(Z,Ee),M=f(wi,M,Re),Le===null?be=wi:Le.sibling=wi,Le=wi,Ee=Ft}if(et.done)return s(Z,Ee),gt&&Wi(Z,Re),be;if(Ee===null){for(;!et.done;Re++,et=H.next())et=ae(Z,et.value,oe),et!==null&&(M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et);return gt&&Wi(Z,Re),be}for(Ee=o(Z,Ee);!et.done;Re++,et=H.next())et=ge(Ee,Z,Re,et.value,oe),et!==null&&(e&&et.alternate!==null&&Ee.delete(et.key===null?Re:et.key),M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et);return e&&Ee.forEach(function(sm){return n(Z,sm)}),gt&&Wi(Z,Re),be}function Pt(Z,M,H,oe){if(typeof H==\"object\"&&H!==null&&H.type===ue&&H.key===null&&(H=H.props.children),typeof H==\"object\"&&H!==null){switch(H.$$typeof){case A:e:{for(var be=H.key,Le=M;Le!==null;){if(Le.key===be){if(be=H.type,be===ue){if(Le.tag===7){s(Z,Le.sibling),M=u(Le,H.props.children),M.return=Z,Z=M;break e}}else if(Le.elementType===be||typeof be==\"object\"&&be!==null&&be.$$typeof===ke&&qu(be)===Le.type){s(Z,Le.sibling),M=u(Le,H.props),M.ref=Ua(Z,Le,H),M.return=Z,Z=M;break e}s(Z,Le);break}else n(Z,Le);Le=Le.sibling}H.type===ue?(M=ts(H.props.children,Z.mode,oe,H.key),M.return=Z,Z=M):(oe=pl(H.type,H.key,H.props,null,Z.mode,oe),oe.ref=Ua(Z,M,H),oe.return=Z,Z=oe)}return x(Z);case ee:e:{for(Le=H.key;M!==null;){if(M.key===Le)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){s(Z,M.sibling),M=u(M,H.children||[]),M.return=Z,Z=M;break e}else{s(Z,M);break}else n(Z,M);M=M.sibling}M=eu(H,Z.mode,oe),M.return=Z,Z=M}return x(Z);case ke:return Le=H._init,Pt(Z,M,Le(H._payload),oe)}if(mt(H))return _e(Z,M,H,oe);if(se(H))return we(Z,M,H,oe);Ho(Z,H)}return typeof H==\"string\"&&H!==\"\"||typeof H==\"number\"?(H=\"\"+H,M!==null&&M.tag===6?(s(Z,M.sibling),M=u(M,H),M.return=Z,Z=M):(s(Z,M),M=Xc(H,Z.mode,oe),M.return=Z,Z=M),x(Z)):s(Z,M)}return Pt}var qs=Wu(!0),Gu=Wu(!1),qo=ui(null),Wo=null,Ws=null,cc=null;function uc(){cc=Ws=Wo=null}function dc(e){var n=qo.current;ht(qo),e._currentValue=n}function hc(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gs(e,n){Wo=e,cc=Ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(pn=!0),e.firstContext=null)}function $n(e){var n=e._currentValue;if(cc!==e)if(e={context:e,memoizedValue:n,next:null},Ws===null){if(Wo===null)throw Error(l(308));Ws=e,Wo.dependencies={lanes:0,firstContext:e}}else Ws=Ws.next=e;return n}var Gi=null;function fc(e){Gi===null?Gi=[e]:Gi.push(e)}function Qu(e,n,s,o){var u=n.interleaved;return u===null?(s.next=s,fc(n)):(s.next=u.next,u.next=s),n.interleaved=s,Ar(e,o)}function Ar(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var fi=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function mi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,Ar(e,s)}return u=o.interleaved,u===null?(n.next=n,fc(o)):(n.next=u.next,u.next=n),o.interleaved=n,Ar(e,s)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Qn(e,s)}}function Ju(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?u=f=x:f=f.next=x,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Qo(e,n,s,o){var u=e.updateQueue;fi=!1;var f=u.firstBaseUpdate,x=u.lastBaseUpdate,j=u.shared.pending;if(j!==null){u.shared.pending=null;var E=j,W=E.next;E.next=null,x===null?f=W:x.next=W,x=E;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==x&&(j===null?ie.firstBaseUpdate=W:j.next=W,ie.lastBaseUpdate=E))}if(f!==null){var ae=u.baseState;x=0,ie=W=E=null,j=f;do{var re=j.lane,ge=j.eventTime;if((o&re)===re){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var _e=e,we=j;switch(re=n,ge=s,we.tag){case 1:if(_e=we.payload,typeof _e==\"function\"){ae=_e.call(ge,ae,re);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,re=typeof _e==\"function\"?_e.call(ge,ae,re):_e,re==null)break e;ae=K({},ae,re);break e;case 2:fi=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,re=u.effects,re===null?u.effects=[j]:re.push(j))}else ge={eventTime:ge,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(W=ie=ge,E=ae):ie=ie.next=ge,x|=re;if(j=j.next,j===null){if(j=u.shared.pending,j===null)break;re=j,j=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);if(ie===null&&(E=ae),u.baseState=E,u.firstBaseUpdate=W,u.lastBaseUpdate=ie,n=u.shared.interleaved,n!==null){u=n;do x|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);Ji|=x,e.lanes=x,e.memoizedState=ae}}function Yu(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],u=o.callback;if(u!==null){if(o.callback=null,o=s,typeof u!=\"function\")throw Error(l(191,u));u.call(o)}}}var Za={},vr=ui(Za),$a=ui(Za),Va=ui(Za);function Qi(e){if(e===Za)throw Error(l(174));return e}function pc(e,n){switch(ct(Va,n),ct($a,e),ct(vr,Za),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ut(null,\"\");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ut(n,e)}ht(vr),ct(vr,n)}function Qs(){ht(vr),ht($a),ht(Va)}function Xu(e){Qi(Va.current);var n=Qi(vr.current),s=Ut(n,e.type);n!==s&&(ct($a,e),ct(vr,s))}function gc(e){$a.current===e&&(ht(vr),ht($a))}var _t=ui(0);function Ko(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data===\"$?\"||s.data===\"$!\"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xc=[];function vc(){for(var e=0;e<xc.length;e++)xc[e]._workInProgressVersionPrimary=null;xc.length=0}var Jo=D.ReactCurrentDispatcher,yc=D.ReactCurrentBatchConfig,Ki=0,wt=null,Rt=null,Dt=null,Yo=!1,Ha=!1,qa=0,Pf=0;function Qt(){throw Error(l(321))}function _c(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ln(e[s],n[s]))return!1;return!0}function wc(e,n,s,o,u,f){if(Ki=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Jo.current=e===null||e.memoizedState===null?If:Tf,e=s(o,u),Ha){f=0;do{if(Ha=!1,qa=0,25<=f)throw Error(l(301));f+=1,Dt=Rt=null,n.updateQueue=null,Jo.current=Mf,e=s(o,u)}while(Ha)}if(Jo.current=tl,n=Rt!==null&&Rt.next!==null,Ki=0,Dt=Rt=wt=null,Yo=!1,n)throw Error(l(300));return e}function Nc(){var e=qa!==0;return qa=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?wt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Vn(){if(Rt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var n=Dt===null?wt.memoizedState:Dt.next;if(n!==null)Dt=n,Rt=e;else{if(e===null)throw Error(l(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?wt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Wa(e,n){return typeof n==\"function\"?n(e):n}function bc(e){var n=Vn(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var o=Rt,u=o.baseQueue,f=s.pending;if(f!==null){if(u!==null){var x=u.next;u.next=f.next,f.next=x}o.baseQueue=u=f,s.pending=null}if(u!==null){f=u.next,o=o.baseState;var j=x=null,E=null,W=f;do{var ie=W.lane;if((Ki&ie)===ie)E!==null&&(E=E.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),o=W.hasEagerState?W.eagerState:e(o,W.action);else{var ae={lane:ie,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};E===null?(j=E=ae,x=o):E=E.next=ae,wt.lanes|=ie,Ji|=ie}W=W.next}while(W!==null&&W!==f);E===null?x=o:E.next=j,Ln(o,n.memoizedState)||(pn=!0),n.memoizedState=o,n.baseState=x,n.baseQueue=E,s.lastRenderedState=o}if(e=s.interleaved,e!==null){u=e;do f=u.lane,wt.lanes|=f,Ji|=f,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function jc(e){var n=Vn(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var o=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var x=u=u.next;do f=e(f,x.action),x=x.next;while(x!==u);Ln(f,n.memoizedState)||(pn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ed(){}function td(e,n){var s=wt,o=Vn(),u=n(),f=!Ln(o.memoizedState,u);if(f&&(o.memoizedState=u,pn=!0),o=o.queue,Sc(id.bind(null,s,o,e),[e]),o.getSnapshot!==n||f||Dt!==null&&Dt.memoizedState.tag&1){if(s.flags|=2048,Ga(9,rd.bind(null,s,o,u,n),void 0,null),Bt===null)throw Error(l(349));(Ki&30)!==0||nd(s,n,u)}return u}function nd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function rd(e,n,s,o){n.value=s,n.getSnapshot=o,sd(n)&&ad(e)}function id(e,n,s){return s(function(){sd(n)&&ad(e)})}function sd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ln(e,s)}catch{return!0}}function ad(e){var n=Ar(e,1);n!==null&&ir(n,e,1,-1)}function od(e){var n=yr();return typeof e==\"function\"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},n.queue=e,e=e.dispatch=Ef.bind(null,wt,e),[n.memoizedState,e]}function Ga(e,n,s,o){return e={tag:e,create:n,destroy:s,deps:o,next:null},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e)),e}function ld(){return Vn().memoizedState}function Xo(e,n,s,o){var u=yr();wt.flags|=e,u.memoizedState=Ga(1|n,s,void 0,o===void 0?null:o)}function el(e,n,s,o){var u=Vn();o=o===void 0?null:o;var f=void 0;if(Rt!==null){var x=Rt.memoizedState;if(f=x.destroy,o!==null&&_c(o,x.deps)){u.memoizedState=Ga(n,s,f,o);return}}wt.flags|=e,u.memoizedState=Ga(1|n,s,f,o)}function cd(e,n){return Xo(8390656,8,e,n)}function Sc(e,n){return el(2048,8,e,n)}function ud(e,n){return el(4,2,e,n)}function dd(e,n){return el(4,4,e,n)}function hd(e,n){if(typeof n==\"function\")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fd(e,n,s){return s=s!=null?s.concat([e]):null,el(4,4,hd.bind(null,n,e),s)}function kc(){}function md(e,n){var s=Vn();n=n===void 0?null:n;var o=s.memoizedState;return o!==null&&n!==null&&_c(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pd(e,n){var s=Vn();n=n===void 0?null:n;var o=s.memoizedState;return o!==null&&n!==null&&_c(n,o[1])?o[0]:(e=e(),s.memoizedState=[e,n],e)}function gd(e,n,s){return(Ki&21)===0?(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=s):(Ln(s,n)||(s=go(),wt.lanes|=s,Ji|=s,e.baseState=!0),n)}function Cf(e,n){var s=Je;Je=s!==0&&4>s?s:4,e(!0);var o=yc.transition;yc.transition={};try{e(!1),n()}finally{Je=s,yc.transition=o}}function xd(){return Vn().memoizedState}function Lf(e,n,s){var o=vi(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},vd(e))yd(n,s);else if(s=Qu(e,n,s,o),s!==null){var u=an();ir(s,e,o,u),_d(s,n,o)}}function Ef(e,n,s){var o=vi(e),u={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(vd(e))yd(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var x=n.lastRenderedState,j=f(x,s);if(u.hasEagerState=!0,u.eagerState=j,Ln(j,x)){var E=n.interleaved;E===null?(u.next=u,fc(n)):(u.next=E.next,E.next=u),n.interleaved=u;return}}catch{}finally{}s=Qu(e,n,u,o),s!==null&&(u=an(),ir(s,e,o,u),_d(s,n,o))}}function vd(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function yd(e,n){Ha=Yo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _d(e,n,s){if((s&4194240)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Qn(e,s)}}var tl={readContext:$n,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},If={readContext:$n,useCallback:function(e,n){return yr().memoizedState=[e,n===void 0?null:n],e},useContext:$n,useEffect:cd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Xo(4194308,4,hd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Xo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xo(4,2,e,n)},useMemo:function(e,n){var s=yr();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var o=yr();return n=s!==void 0?s(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Lf.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=yr();return e={current:e},n.memoizedState=e},useState:od,useDebugValue:kc,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=od(!1),n=e[0];return e=Cf.bind(null,e[1]),yr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var o=wt,u=yr();if(gt){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Bt===null)throw Error(l(349));(Ki&30)!==0||nd(o,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,cd(id.bind(null,o,f,e),[e]),o.flags|=2048,Ga(9,rd.bind(null,o,f,s,n),void 0,null),s},useId:function(){var e=yr(),n=Bt.identifierPrefix;if(gt){var s=zr,o=Rr;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,n=\":\"+n+\"R\"+s,s=qa++,0<s&&(n+=\"H\"+s.toString(32)),n+=\":\"}else s=Pf++,n=\":\"+n+\"r\"+s.toString(32)+\":\";return e.memoizedState=n},unstable_isNewReconciler:!1},Tf={readContext:$n,useCallback:md,useContext:$n,useEffect:Sc,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:pd,useReducer:bc,useRef:ld,useState:function(){return bc(Wa)},useDebugValue:kc,useDeferredValue:function(e){var n=Vn();return gd(n,Rt.memoizedState,e)},useTransition:function(){var e=bc(Wa)[0],n=Vn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:xd,unstable_isNewReconciler:!1},Mf={readContext:$n,useCallback:md,useContext:$n,useEffect:Sc,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:pd,useReducer:jc,useRef:ld,useState:function(){return jc(Wa)},useDebugValue:kc,useDeferredValue:function(e){var n=Vn();return Rt===null?n.memoizedState=e:gd(n,Rt.memoizedState,e)},useTransition:function(){var e=jc(Wa)[0],n=Vn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:xd,unstable_isNewReconciler:!1};function tr(e,n){if(e&&e.defaultProps){n=K({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Pc(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:K({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nl={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var o=an(),u=vi(e),f=Dr(o,u);f.payload=n,s!=null&&(f.callback=s),n=mi(e,f,u),n!==null&&(ir(n,e,u,o),Go(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=an(),u=vi(e),f=Dr(o,u);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=mi(e,f,u),n!==null&&(ir(n,e,u,o),Go(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=an(),o=vi(e),u=Dr(s,o);u.tag=2,n!=null&&(u.callback=n),n=mi(e,u,o),n!==null&&(ir(n,e,o,s),Go(n,e,o))}};function wd(e,n,s,o,u,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate==\"function\"?e.shouldComponentUpdate(o,f,x):n.prototype&&n.prototype.isPureReactComponent?!mr(s,o)||!mr(u,f):!0}function Nd(e,n,s){var o=!1,u=di,f=n.contextType;return typeof f==\"object\"&&f!==null?f=$n(f):(u=mn(n)?Hi:Gt.current,o=n.contextTypes,f=(o=o!=null)?Zs(e,u):di),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=nl,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),n}function bd(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps==\"function\"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps==\"function\"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&nl.enqueueReplaceState(n,n.state,null)}function Cc(e,n,s,o){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},mc(e);var f=n.contextType;typeof f==\"object\"&&f!==null?u.context=$n(f):(f=mn(n)?Hi:Gt.current,u.context=Zs(e,f)),u.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f==\"function\"&&(Pc(e,n,f,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps==\"function\"||typeof u.getSnapshotBeforeUpdate==\"function\"||typeof u.UNSAFE_componentWillMount!=\"function\"&&typeof u.componentWillMount!=\"function\"||(n=u.state,typeof u.componentWillMount==\"function\"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount==\"function\"&&u.UNSAFE_componentWillMount(),n!==u.state&&nl.enqueueReplaceState(u,u.state,null),Qo(e,s,u,o),u.state=e.memoizedState),typeof u.componentDidMount==\"function\"&&(e.flags|=4194308)}function Ks(e,n){try{var s=\"\",o=n;do s+=pe(o),o=o.return;while(o);var u=s}catch(f){u=`\nError generating stack: `+f.message+`\n`+f.stack}return{value:e,source:n,stack:u,digest:null}}function Lc(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ec(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Of=typeof WeakMap==\"function\"?WeakMap:Map;function jd(e,n,s){s=Dr(-1,s),s.tag=3,s.payload={element:null};var o=n.value;return s.callback=function(){cl||(cl=!0,Hc=o),Ec(e,n)},s}function Sd(e,n,s){s=Dr(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o==\"function\"){var u=n.value;s.payload=function(){return o(u)},s.callback=function(){Ec(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch==\"function\"&&(s.callback=function(){Ec(e,n),typeof o!=\"function\"&&(gi===null?gi=new Set([this]):gi.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:\"\"})}),s}function kd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Of;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(s)||(u.add(s),e=Gf.bind(null,e,n,s),n.then(e,e))}function Pd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Cd(e,n,s,o,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Dr(-1,1),n.tag=2,mi(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Rf=D.ReactCurrentOwner,pn=!1;function sn(e,n,s,o){n.child=e===null?Gu(n,null,s,o):qs(n,e.child,s,o)}function Ld(e,n,s,o,u){s=s.render;var f=n.ref;return Gs(n,u),o=wc(e,n,s,o,f,u),s=Nc(),e!==null&&!pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Br(e,n,u)):(gt&&s&&ic(n),n.flags|=1,sn(e,n,o,u),n.child)}function Ed(e,n,s,o,u){if(e===null){var f=s.type;return typeof f==\"function\"&&!Yc(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Id(e,n,f,o,u)):(e=pl(s.type,null,o,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&u)===0){var x=f.memoizedProps;if(s=s.compare,s=s!==null?s:mr,s(x,o)&&e.ref===n.ref)return Br(e,n,u)}return n.flags|=1,e=_i(f,o),e.ref=n.ref,e.return=n,n.child=e}function Id(e,n,s,o,u){if(e!==null){var f=e.memoizedProps;if(mr(f,o)&&e.ref===n.ref)if(pn=!1,n.pendingProps=o=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(pn=!0);else return n.lanes=e.lanes,Br(e,n,u)}return Ic(e,n,s,o,u)}function Td(e,n,s){var o=n.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode===\"hidden\")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ys,Mn),Mn|=s;else{if((s&1073741824)===0)return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ct(Ys,Mn),Mn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:s,ct(Ys,Mn),Mn|=o}else f!==null?(o=f.baseLanes|s,n.memoizedState=null):o=s,ct(Ys,Mn),Mn|=o;return sn(e,n,u,s),n.child}function Md(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ic(e,n,s,o,u){var f=mn(s)?Hi:Gt.current;return f=Zs(n,f),Gs(n,u),s=wc(e,n,s,o,f,u),o=Nc(),e!==null&&!pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Br(e,n,u)):(gt&&o&&ic(n),n.flags|=1,sn(e,n,s,u),n.child)}function Od(e,n,s,o,u){if(mn(s)){var f=!0;Fo(n)}else f=!1;if(Gs(n,u),n.stateNode===null)il(e,n),Nd(n,s,o),Cc(n,s,o,u),o=!0;else if(e===null){var x=n.stateNode,j=n.memoizedProps;x.props=j;var E=x.context,W=s.contextType;typeof W==\"object\"&&W!==null?W=$n(W):(W=mn(s)?Hi:Gt.current,W=Zs(n,W));var ie=s.getDerivedStateFromProps,ae=typeof ie==\"function\"||typeof x.getSnapshotBeforeUpdate==\"function\";ae||typeof x.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof x.componentWillReceiveProps!=\"function\"||(j!==o||E!==W)&&bd(n,x,o,W),fi=!1;var re=n.memoizedState;x.state=re,Qo(n,o,x,u),E=n.memoizedState,j!==o||re!==E||fn.current||fi?(typeof ie==\"function\"&&(Pc(n,s,ie,o),E=n.memoizedState),(j=fi||wd(n,s,j,o,re,E,W))?(ae||typeof x.UNSAFE_componentWillMount!=\"function\"&&typeof x.componentWillMount!=\"function\"||(typeof x.componentWillMount==\"function\"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount==\"function\"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount==\"function\"&&(n.flags|=4194308)):(typeof x.componentDidMount==\"function\"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=E),x.props=o,x.state=E,x.context=W,o=j):(typeof x.componentDidMount==\"function\"&&(n.flags|=4194308),o=!1)}else{x=n.stateNode,Ku(e,n),j=n.memoizedProps,W=n.type===n.elementType?j:tr(n.type,j),x.props=W,ae=n.pendingProps,re=x.context,E=s.contextType,typeof E==\"object\"&&E!==null?E=$n(E):(E=mn(s)?Hi:Gt.current,E=Zs(n,E));var ge=s.getDerivedStateFromProps;(ie=typeof ge==\"function\"||typeof x.getSnapshotBeforeUpdate==\"function\")||typeof x.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof x.componentWillReceiveProps!=\"function\"||(j!==ae||re!==E)&&bd(n,x,o,E),fi=!1,re=n.memoizedState,x.state=re,Qo(n,o,x,u);var _e=n.memoizedState;j!==ae||re!==_e||fn.current||fi?(typeof ge==\"function\"&&(Pc(n,s,ge,o),_e=n.memoizedState),(W=fi||wd(n,s,W,o,re,_e,E)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!=\"function\"&&typeof x.componentWillUpdate!=\"function\"||(typeof x.componentWillUpdate==\"function\"&&x.componentWillUpdate(o,_e,E),typeof x.UNSAFE_componentWillUpdate==\"function\"&&x.UNSAFE_componentWillUpdate(o,_e,E)),typeof x.componentDidUpdate==\"function\"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate==\"function\"&&(n.flags|=1024)):(typeof x.componentDidUpdate!=\"function\"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!=\"function\"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=_e),x.props=o,x.state=_e,x.context=E,o=W):(typeof x.componentDidUpdate!=\"function\"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!=\"function\"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),o=!1)}return Tc(e,n,s,o,f,u)}function Tc(e,n,s,o,u,f){Md(e,n);var x=(n.flags&128)!==0;if(!o&&!x)return u&&Bu(n,s,!1),Br(e,n,f);o=n.stateNode,Rf.current=n;var j=x&&typeof s.getDerivedStateFromError!=\"function\"?null:o.render();return n.flags|=1,e!==null&&x?(n.child=qs(n,e.child,null,f),n.child=qs(n,null,j,f)):sn(e,n,j,f),n.memoizedState=o.state,u&&Bu(n,s,!0),n.child}function Rd(e){var n=e.stateNode;n.pendingContext?Au(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Au(e,n.context,!1),pc(e,n.containerInfo)}function zd(e,n,s,o,u){return Hs(),lc(u),n.flags|=256,sn(e,n,s,o),n.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ad(e,n,s){var o=n.pendingProps,u=_t.current,f=!1,x=(n.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(u&2)!==0),j?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ct(_t,u&1),e===null)return oc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data===\"$!\"?n.lanes=8:n.lanes=1073741824,null):(x=o.children,e=o.fallback,f?(o=n.mode,f=n.child,x={mode:\"hidden\",children:x},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=x):f=gl(x,o,0,null),e=ts(e,o,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Oc(s),n.memoizedState=Mc,e):Rc(n,x));if(u=e.memoizedState,u!==null&&(j=u.dehydrated,j!==null))return zf(e,n,x,o,j,u,s);if(f){f=o.fallback,x=n.mode,u=e.child,j=u.sibling;var E={mode:\"hidden\",children:o.children};return(x&1)===0&&n.child!==u?(o=n.child,o.childLanes=0,o.pendingProps=E,n.deletions=null):(o=_i(u,E),o.subtreeFlags=u.subtreeFlags&14680064),j!==null?f=_i(j,f):(f=ts(f,x,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,x=e.child.memoizedState,x=x===null?Oc(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},f.memoizedState=x,f.childLanes=e.childLanes&~s,n.memoizedState=Mc,o}return f=e.child,e=f.sibling,o=_i(f,{mode:\"visible\",children:o.children}),(n.mode&1)===0&&(o.lanes=s),o.return=n,o.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=o,n.memoizedState=null,o}function Rc(e,n){return n=gl({mode:\"visible\",children:n},e.mode,0,null),n.return=e,e.child=n}function rl(e,n,s,o){return o!==null&&lc(o),qs(n,e.child,null,s),e=Rc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zf(e,n,s,o,u,f,x){if(s)return n.flags&256?(n.flags&=-257,o=Lc(Error(l(422))),rl(e,n,x,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=o.fallback,u=n.mode,o=gl({mode:\"visible\",children:o.children},u,0,null),f=ts(f,u,x,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,(n.mode&1)!==0&&qs(n,e.child,null,x),n.child.memoizedState=Oc(x),n.memoizedState=Mc,f);if((n.mode&1)===0)return rl(e,n,x,null);if(u.data===\"$!\"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var j=o.dgst;return o=j,f=Error(l(419)),o=Lc(f,o,void 0),rl(e,n,x,o)}if(j=(x&e.childLanes)!==0,pn||j){if(o=Bt,o!==null){switch(x&-x){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|x))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Ar(e,u),ir(o,e,u,-1))}return Jc(),o=Lc(Error(l(421))),rl(e,n,x,o)}return u.data===\"$?\"?(n.flags|=128,n.child=e.child,n=Qf.bind(null,e),u._reactRetry=n,null):(e=f.treeContext,Tn=xr(u.nextSibling),In=n,gt=!0,er=null,e!==null&&(Un[Zn++]=Rr,Un[Zn++]=zr,Un[Zn++]=qi,Rr=e.id,zr=e.overflow,qi=n),n=Rc(n,o.children),n.flags|=4096,n)}function Dd(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),hc(e.return,n,s)}function zc(e,n,s,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=u)}function Bd(e,n,s){var o=n.pendingProps,u=o.revealOrder,f=o.tail;if(sn(e,n,o.children,s),o=_t.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,s,n);else if(e.tag===19)Dd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ct(_t,o),(n.mode&1)===0)n.memoizedState=null;else switch(u){case\"forwards\":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ko(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),zc(n,!1,u,s,f);break;case\"backwards\":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ko(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}zc(n,!0,s,null,f);break;case\"together\":zc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function il(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Br(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ji|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=_i(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=_i(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Af(e,n,s){switch(n.tag){case 3:Rd(n),Hs();break;case 5:Xu(n);break;case 1:mn(n.type)&&Fo(n);break;case 4:pc(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,u=n.memoizedProps.value;ct(qo,o._currentValue),o._currentValue=u;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(ct(_t,_t.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Ad(e,n,s):(ct(_t,_t.current&1),e=Br(e,n,s),e!==null?e.sibling:null);ct(_t,_t.current&1);break;case 19:if(o=(s&n.childLanes)!==0,(e.flags&128)!==0){if(o)return Bd(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ct(_t,_t.current),o)break;return null;case 22:case 23:return n.lanes=0,Td(e,n,s)}return Br(e,n,s)}var Fd,Ac,Ud,Zd;Fd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ac=function(){},Ud=function(e,n,s,o){var u=e.memoizedProps;if(u!==o){e=n.stateNode,Qi(vr.current);var f=null;switch(s){case\"input\":u=Wn(e,u),o=Wn(e,o),f=[];break;case\"select\":u=K({},u,{value:void 0}),o=K({},o,{value:void 0}),f=[];break;case\"textarea\":u=Be(e,u),o=Be(e,o),f=[];break;default:typeof u.onClick!=\"function\"&&typeof o.onClick==\"function\"&&(e.onclick=ne)}U(s,o);var x;s=null;for(W in u)if(!o.hasOwnProperty(W)&&u.hasOwnProperty(W)&&u[W]!=null)if(W===\"style\"){var j=u[W];for(x in j)j.hasOwnProperty(x)&&(s||(s={}),s[x]=\"\")}else W!==\"dangerouslySetInnerHTML\"&&W!==\"children\"&&W!==\"suppressContentEditableWarning\"&&W!==\"suppressHydrationWarning\"&&W!==\"autoFocus\"&&(g.hasOwnProperty(W)?f||(f=[]):(f=f||[]).push(W,null));for(W in o){var E=o[W];if(j=u?.[W],o.hasOwnProperty(W)&&E!==j&&(E!=null||j!=null))if(W===\"style\")if(j){for(x in j)!j.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(s||(s={}),s[x]=\"\");for(x in E)E.hasOwnProperty(x)&&j[x]!==E[x]&&(s||(s={}),s[x]=E[x])}else s||(f||(f=[]),f.push(W,s)),s=E;else W===\"dangerouslySetInnerHTML\"?(E=E?E.__html:void 0,j=j?j.__html:void 0,E!=null&&j!==E&&(f=f||[]).push(W,E)):W===\"children\"?typeof E!=\"string\"&&typeof E!=\"number\"||(f=f||[]).push(W,\"\"+E):W!==\"suppressContentEditableWarning\"&&W!==\"suppressHydrationWarning\"&&(g.hasOwnProperty(W)?(E!=null&&W===\"onScroll\"&&ot(\"scroll\",e),f||j===E||(f=[])):(f=f||[]).push(W,E))}s&&(f=f||[]).push(\"style\",s);var W=f;(n.updateQueue=W)&&(n.flags|=4)}},Zd=function(e,n,s,o){s!==o&&(n.flags|=4)};function Qa(e,n){if(!gt)switch(e.tailMode){case\"hidden\":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case\"collapsed\":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Df(e,n,s){var o=n.pendingProps;switch(sc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return mn(n.type)&&Bo(),Kt(n),null;case 3:return o=n.stateNode,Qs(),ht(fn),ht(Gt),vc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Vo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,er!==null&&(Gc(er),er=null))),Ac(e,n),Kt(n),null;case 5:gc(n);var u=Qi(Va.current);if(s=n.type,e!==null&&n.stateNode!=null)Ud(e,n,s,o,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Kt(n),null}if(e=Qi(vr.current),Vo(n)){o=n.stateNode,s=n.type;var f=n.memoizedProps;switch(o[Fn]=n,o[li]=f,e=(n.mode&1)!==0,s){case\"dialog\":ot(\"cancel\",o),ot(\"close\",o);break;case\"iframe\":case\"object\":case\"embed\":ot(\"load\",o);break;case\"video\":case\"audio\":for(u=0;u<si.length;u++)ot(si[u],o);break;case\"source\":ot(\"error\",o);break;case\"img\":case\"image\":case\"link\":ot(\"error\",o),ot(\"load\",o);break;case\"details\":ot(\"toggle\",o);break;case\"input\":te(o,f),ot(\"invalid\",o);break;case\"select\":o._wrapperState={wasMultiple:!!f.multiple},ot(\"invalid\",o);break;case\"textarea\":pt(o,f),ot(\"invalid\",o)}U(s,f),u=null;for(var x in f)if(f.hasOwnProperty(x)){var j=f[x];x===\"children\"?typeof j==\"string\"?o.textContent!==j&&(f.suppressHydrationWarning!==!0&&q(o.textContent,j,e),u=[\"children\",j]):typeof j==\"number\"&&o.textContent!==\"\"+j&&(f.suppressHydrationWarning!==!0&&q(o.textContent,j,e),u=[\"children\",\"\"+j]):g.hasOwnProperty(x)&&j!=null&&x===\"onScroll\"&&ot(\"scroll\",o)}switch(s){case\"input\":Tt(o),un(o,f,!0);break;case\"textarea\":Tt(o),st(o);break;case\"select\":case\"option\":break;default:typeof f.onClick==\"function\"&&(o.onclick=ne)}o=u,n.updateQueue=o,o!==null&&(n.flags|=4)}else{x=u.nodeType===9?u:u.ownerDocument,e===\"http://www.w3.org/1999/xhtml\"&&(e=bt(s)),e===\"http://www.w3.org/1999/xhtml\"?s===\"script\"?(e=x.createElement(\"div\"),e.innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):typeof o.is==\"string\"?e=x.createElement(s,{is:o.is}):(e=x.createElement(s),s===\"select\"&&(x=e,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):e=x.createElementNS(e,s),e[Fn]=n,e[li]=o,Fd(e,n,!1,!1),n.stateNode=e;e:{switch(x=le(s,o),s){case\"dialog\":ot(\"cancel\",e),ot(\"close\",e),u=o;break;case\"iframe\":case\"object\":case\"embed\":ot(\"load\",e),u=o;break;case\"video\":case\"audio\":for(u=0;u<si.length;u++)ot(si[u],e);u=o;break;case\"source\":ot(\"error\",e),u=o;break;case\"img\":case\"image\":case\"link\":ot(\"error\",e),ot(\"load\",e),u=o;break;case\"details\":ot(\"toggle\",e),u=o;break;case\"input\":te(e,o),u=Wn(e,o),ot(\"invalid\",e);break;case\"option\":u=o;break;case\"select\":e._wrapperState={wasMultiple:!!o.multiple},u=K({},o,{value:void 0}),ot(\"invalid\",e);break;case\"textarea\":pt(e,o),u=Be(e,o),ot(\"invalid\",e);break;default:u=o}U(s,u),j=u;for(f in j)if(j.hasOwnProperty(f)){var E=j[f];f===\"style\"?Zr(e,E):f===\"dangerouslySetInnerHTML\"?(E=E?E.__html:void 0,E!=null&&hs(e,E)):f===\"children\"?typeof E==\"string\"?(s!==\"textarea\"||E!==\"\")&&ar(e,E):typeof E==\"number\"&&ar(e,\"\"+E):f!==\"suppressContentEditableWarning\"&&f!==\"suppressHydrationWarning\"&&f!==\"autoFocus\"&&(g.hasOwnProperty(f)?E!=null&&f===\"onScroll\"&&ot(\"scroll\",e):E!=null&&$(e,f,E,x))}switch(s){case\"input\":Tt(e),un(e,o,!1);break;case\"textarea\":Tt(e),st(e);break;case\"option\":o.value!=null&&e.setAttribute(\"value\",\"\"+Te(o.value));break;case\"select\":e.multiple=!!o.multiple,f=o.value,f!=null?T(e,!!o.multiple,f,!1):o.defaultValue!=null&&T(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick==\"function\"&&(e.onclick=ne)}switch(s){case\"button\":case\"input\":case\"select\":case\"textarea\":o=!!o.autoFocus;break e;case\"img\":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kt(n),null;case 6:if(e&&n.stateNode!=null)Zd(e,n,e.memoizedProps,o);else{if(typeof o!=\"string\"&&n.stateNode===null)throw Error(l(166));if(s=Qi(Va.current),Qi(vr.current),Vo(n)){if(o=n.stateNode,s=n.memoizedProps,o[Fn]=n,(f=o.nodeValue!==s)&&(e=In,e!==null))switch(e.tag){case 3:q(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&q(o.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Fn]=n,n.stateNode=o}return Kt(n),null;case 13:if(ht(_t),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Tn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Hu(),Hs(),n.flags|=98560,f=!1;else if(f=Vo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Fn]=n}else Hs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),f=!1}else er!==null&&(Gc(er),er=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(_t.current&1)!==0?zt===0&&(zt=3):Jc())),n.updateQueue!==null&&(n.flags|=4),Kt(n),null);case 4:return Qs(),Ac(e,n),e===null&&ai(n.stateNode.containerInfo),Kt(n),null;case 10:return dc(n.type._context),Kt(n),null;case 17:return mn(n.type)&&Bo(),Kt(n),null;case 19:if(ht(_t),f=n.memoizedState,f===null)return Kt(n),null;if(o=(n.flags&128)!==0,x=f.rendering,x===null)if(o)Qa(f,!1);else{if(zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=Ko(e),x!==null){for(n.flags|=128,Qa(f,!1),o=x.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=s,s=n.child;s!==null;)f=s,e=o,f.flags&=14680066,x=f.alternate,x===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,e=x.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ct(_t,_t.current&1|2),n.child}e=e.sibling}f.tail!==null&&vt()>Xs&&(n.flags|=128,o=!0,Qa(f,!1),n.lanes=4194304)}else{if(!o)if(e=Ko(x),e!==null){if(n.flags|=128,o=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Qa(f,!0),f.tail===null&&f.tailMode===\"hidden\"&&!x.alternate&&!gt)return Kt(n),null}else 2*vt()-f.renderingStartTime>Xs&&s!==1073741824&&(n.flags|=128,o=!0,Qa(f,!1),n.lanes=4194304);f.isBackwards?(x.sibling=n.child,n.child=x):(s=f.last,s!==null?s.sibling=x:n.child=x,f.last=x)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=vt(),n.sibling=null,s=_t.current,ct(_t,o?s&1|2:s&1),n):(Kt(n),null);case 22:case 23:return Kc(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&(n.mode&1)!==0?(Mn&1073741824)!==0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),null;case 24:return null;case 25:return null}throw Error(l(156,n.tag))}function Bf(e,n){switch(sc(n),n.tag){case 1:return mn(n.type)&&Bo(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qs(),ht(fn),ht(Gt),vc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return gc(n),null;case 13:if(ht(_t),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Hs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ht(_t),null;case 4:return Qs(),null;case 10:return dc(n.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var sl=!1,Jt=!1,Ff=typeof WeakSet==\"function\"?WeakSet:Set,ve=null;function Js(e,n){var s=e.ref;if(s!==null)if(typeof s==\"function\")try{s(null)}catch(o){St(e,n,o)}else s.current=null}function Dc(e,n,s){try{s()}catch(o){St(e,n,o)}}var $d=!1;function Uf(e,n){if(he=Ai,e=Ta(),Ma(e)){if(\"selectionStart\"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var x=0,j=-1,E=-1,W=0,ie=0,ae=e,re=null;t:for(;;){for(var ge;ae!==s||u!==0&&ae.nodeType!==3||(j=x+u),ae!==f||o!==0&&ae.nodeType!==3||(E=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)re=ae,ae=ge;for(;;){if(ae===e)break t;if(re===s&&++W===u&&(j=x),re===f&&++ie===o&&(E=x),(ge=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=ge}s=j===-1||E===-1?null:{start:j,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ce={focusedElem:e,selectionRange:s},Ai=!1,ve=n;ve!==null;)if(n=ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ve=e;else for(;ve!==null;){n=ve;try{var _e=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Pt=_e.memoizedState,Z=n.stateNode,M=Z.getSnapshotBeforeUpdate(n.elementType===n.type?we:tr(n.type,we),Pt);Z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent=\"\":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(oe){St(n,n.return,oe)}if(e=n.sibling,e!==null){e.return=n.return,ve=e;break}ve=n.return}return _e=$d,$d=!1,_e}function Ka(e,n,s){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Dc(n,s,f)}u=u.next}while(u!==o)}}function al(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==n)}}function Bc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n==\"function\"?n(e):n.current=e}}function Vd(e){var n=e.alternate;n!==null&&(e.alternate=null,Vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fn],delete n[li],delete n[ci],delete n[ec],delete n[tc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hd(e){return e.tag===5||e.tag===3||e.tag===4}function qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ne));else if(o!==4&&(e=e.child,e!==null))for(Fc(e,n,s),e=e.sibling;e!==null;)Fc(e,n,s),e=e.sibling}function Uc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Uc(e,n,s),e=e.sibling;e!==null;)Uc(e,n,s),e=e.sibling}var Zt=null,nr=!1;function pi(e,n,s){for(s=s.child;s!==null;)Wd(e,n,s),s=s.sibling}function Wd(e,n,s){if(bn&&typeof bn.onCommitFiberUnmount==\"function\")try{bn.onCommitFiberUnmount(Ii,s)}catch{}switch(s.tag){case 5:Jt||Js(s,n);case 6:var o=Zt,u=nr;Zt=null,pi(e,n,s),Zt=o,nr=u,Zt!==null&&(nr?(e=Zt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Zt.removeChild(s.stateNode));break;case 18:Zt!==null&&(nr?(e=Zt,s=s.stateNode,e.nodeType===8?Fa(e.parentNode,s):e.nodeType===1&&Fa(e,s),kn(e)):Fa(Zt,s.stateNode));break;case 4:o=Zt,u=nr,Zt=s.stateNode.containerInfo,nr=!0,pi(e,n,s),Zt=o,nr=u;break;case 0:case 11:case 14:case 15:if(!Jt&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var f=u,x=f.destroy;f=f.tag,x!==void 0&&((f&2)!==0||(f&4)!==0)&&Dc(s,n,x),u=u.next}while(u!==o)}pi(e,n,s);break;case 1:if(!Jt&&(Js(s,n),o=s.stateNode,typeof o.componentWillUnmount==\"function\"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(j){St(s,n,j)}pi(e,n,s);break;case 21:pi(e,n,s);break;case 22:s.mode&1?(Jt=(o=Jt)||s.memoizedState!==null,pi(e,n,s),Jt=o):pi(e,n,s);break;default:pi(e,n,s)}}function Gd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ff),n.forEach(function(o){var u=Kf.bind(null,e,o);s.has(o)||(s.add(o),o.then(u,u))})}}function rr(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];try{var f=e,x=n,j=x;e:for(;j!==null;){switch(j.tag){case 5:Zt=j.stateNode,nr=!1;break e;case 3:Zt=j.stateNode.containerInfo,nr=!0;break e;case 4:Zt=j.stateNode.containerInfo,nr=!0;break e}j=j.return}if(Zt===null)throw Error(l(160));Wd(f,x,u),Zt=null,nr=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(W){St(u,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qd(n,e),n=n.sibling}function Qd(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(n,e),_r(e),o&4){try{Ka(3,e,e.return),al(3,e)}catch(we){St(e,e.return,we)}try{Ka(5,e,e.return)}catch(we){St(e,e.return,we)}}break;case 1:rr(n,e),_r(e),o&512&&s!==null&&Js(s,s.return);break;case 5:if(rr(n,e),_r(e),o&512&&s!==null&&Js(s,s.return),e.flags&32){var u=e.stateNode;try{ar(u,\"\")}catch(we){St(e,e.return,we)}}if(o&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,x=s!==null?s.memoizedProps:f,j=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{j===\"input\"&&f.type===\"radio\"&&f.name!=null&&Oe(u,f),le(j,x);var W=le(j,f);for(x=0;x<E.length;x+=2){var ie=E[x],ae=E[x+1];ie===\"style\"?Zr(u,ae):ie===\"dangerouslySetInnerHTML\"?hs(u,ae):ie===\"children\"?ar(u,ae):$(u,ie,ae,W)}switch(j){case\"input\":Ke(u,f);break;case\"textarea\":Xt(u,f);break;case\"select\":var re=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ge=f.value;ge!=null?T(u,!!f.multiple,ge,!1):re!==!!f.multiple&&(f.defaultValue!=null?T(u,!!f.multiple,f.defaultValue,!0):T(u,!!f.multiple,f.multiple?[]:\"\",!1))}u[li]=f}catch(we){St(e,e.return,we)}}break;case 6:if(rr(n,e),_r(e),o&4){if(e.stateNode===null)throw Error(l(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(we){St(e,e.return,we)}}break;case 3:if(rr(n,e),_r(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{kn(n.containerInfo)}catch(we){St(e,e.return,we)}break;case 4:rr(n,e),_r(e);break;case 13:rr(n,e),_r(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Vc=vt())),o&4&&Gd(e);break;case 22:if(ie=s!==null&&s.memoizedState!==null,e.mode&1?(Jt=(W=Jt)||ie,rr(n,e),Jt=W):rr(n,e),_r(e),o&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ie&&(e.mode&1)!==0)for(ve=e,ie=e.child;ie!==null;){for(ae=ve=ie;ve!==null;){switch(re=ve,ge=re.child,re.tag){case 0:case 11:case 14:case 15:Ka(4,re,re.return);break;case 1:Js(re,re.return);var _e=re.stateNode;if(typeof _e.componentWillUnmount==\"function\"){o=re,s=re.return;try{n=o,_e.props=n.memoizedProps,_e.state=n.memoizedState,_e.componentWillUnmount()}catch(we){St(o,s,we)}}break;case 5:Js(re,re.return);break;case 22:if(re.memoizedState!==null){Yd(ae);continue}}ge!==null?(ge.return=re,ve=ge):Yd(ae)}ie=ie.sibling}e:for(ie=null,ae=e;;){if(ae.tag===5){if(ie===null){ie=ae;try{u=ae.stateNode,W?(f=u.style,typeof f.setProperty==\"function\"?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(j=ae.stateNode,E=ae.memoizedProps.style,x=E!=null&&E.hasOwnProperty(\"display\")?E.display:null,j.style.display=Pi(\"display\",x))}catch(we){St(e,e.return,we)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=W?\"\":ae.memoizedProps}catch(we){St(e,e.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:rr(n,e),_r(e),o&4&&Gd(e);break;case 21:break;default:rr(n,e),_r(e)}}function _r(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Hd(s)){var o=s;break e}s=s.return}throw Error(l(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(ar(u,\"\"),o.flags&=-33);var f=qd(e);Uc(e,f,u);break;case 3:case 4:var x=o.stateNode.containerInfo,j=qd(e);Fc(e,j,x);break;default:throw Error(l(161))}}catch(E){St(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zf(e,n,s){ve=e,Kd(e)}function Kd(e,n,s){for(var o=(e.mode&1)!==0;ve!==null;){var u=ve,f=u.child;if(u.tag===22&&o){var x=u.memoizedState!==null||sl;if(!x){var j=u.alternate,E=j!==null&&j.memoizedState!==null||Jt;j=sl;var W=Jt;if(sl=x,(Jt=E)&&!W)for(ve=u;ve!==null;)x=ve,E=x.child,x.tag===22&&x.memoizedState!==null?Xd(u):E!==null?(E.return=x,ve=E):Xd(u);for(;f!==null;)ve=f,Kd(f),f=f.sibling;ve=u,sl=j,Jt=W}Jd(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,ve=f):Jd(e)}}function Jd(e){for(;ve!==null;){var n=ve;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jt||al(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Jt)if(s===null)o.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:tr(n.type,s.memoizedProps);o.componentDidUpdate(u,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Yu(n,f,o);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Yu(n,x,s)}break;case 5:var j=n.stateNode;if(s===null&&n.flags&4){s=j;var E=n.memoizedProps;switch(n.type){case\"button\":case\"input\":case\"select\":case\"textarea\":E.autoFocus&&s.focus();break;case\"img\":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ie=W.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&kn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Jt||n.flags&512&&Bc(n)}catch(re){St(n,n.return,re)}}if(n===e){ve=null;break}if(s=n.sibling,s!==null){s.return=n.return,ve=s;break}ve=n.return}}function Yd(e){for(;ve!==null;){var n=ve;if(n===e){ve=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ve=s;break}ve=n.return}}function Xd(e){for(;ve!==null;){var n=ve;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{al(4,n)}catch(E){St(n,s,E)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount==\"function\"){var u=n.return;try{o.componentDidMount()}catch(E){St(n,u,E)}}var f=n.return;try{Bc(n)}catch(E){St(n,f,E)}break;case 5:var x=n.return;try{Bc(n)}catch(E){St(n,x,E)}}}catch(E){St(n,n.return,E)}if(n===e){ve=null;break}var j=n.sibling;if(j!==null){j.return=n.return,ve=j;break}ve=n.return}}var $f=Math.ceil,ol=D.ReactCurrentDispatcher,Zc=D.ReactCurrentOwner,Hn=D.ReactCurrentBatchConfig,Ye=0,Bt=null,Et=null,$t=0,Mn=0,Ys=ui(0),zt=0,Ja=null,Ji=0,ll=0,$c=0,Ya=null,gn=null,Vc=0,Xs=1/0,Fr=null,cl=!1,Hc=null,gi=null,ul=!1,xi=null,dl=0,Xa=0,qc=null,hl=-1,fl=0;function an(){return(Ye&6)!==0?vt():hl!==-1?hl:hl=vt()}function vi(e){return(e.mode&1)===0?1:(Ye&2)!==0&&$t!==0?$t&-$t:kf.transition!==null?(fl===0&&(fl=go()),fl):(e=Je,e!==0||(e=window.event,e=e===void 0?16:Qe(e.type)),e)}function ir(e,n,s,o){if(50<Xa)throw Xa=0,qc=null,Error(l(185));jn(e,s,o),((Ye&2)===0||e!==Bt)&&(e===Bt&&((Ye&2)===0&&(ll|=s),zt===4&&yi(e,$t)),xn(e,o),s===1&&Ye===0&&(n.mode&1)===0&&(Xs=vt()+500,Uo&&hi()))}function xn(e,n){var s=e.callbackNode;ys(e,n);var o=lt(e,e===Bt?$t:0);if(o===0)s!==null&&ma(s),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(s!=null&&ma(s),n===1)e.tag===0?Sf(th.bind(null,e)):Fu(th.bind(null,e)),Wt(function(){(Ye&6)===0&&hi()}),s=null;else{switch(Wr(o)){case 1:s=pa;break;case 4:s=po;break;case 16:s=xs;break;case 536870912:s=$r;break;default:s=xs}s=ch(s,eh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function eh(e,n){if(hl=-1,fl=0,(Ye&6)!==0)throw Error(l(327));var s=e.callbackNode;if(ea()&&e.callbackNode!==s)return null;var o=lt(e,e===Bt?$t:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||n)n=ml(e,o);else{n=o;var u=Ye;Ye|=2;var f=rh();(Bt!==e||$t!==n)&&(Fr=null,Xs=vt()+500,Xi(e,n));do try{qf();break}catch(j){nh(e,j)}while(!0);uc(),ol.current=f,Ye=u,Et!==null?n=0:(Bt=null,$t=0,n=zt)}if(n!==0){if(n===2&&(u=Ht(e),u!==0&&(o=u,n=Wc(e,u))),n===1)throw s=Ja,Xi(e,0),yi(e,o),xn(e,vt()),s;if(n===6)yi(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Vf(u)&&(n=ml(e,o),n===2&&(f=Ht(e),f!==0&&(o=f,n=Wc(e,f))),n===1))throw s=Ja,Xi(e,0),yi(e,o),xn(e,vt()),s;switch(e.finishedWork=u,e.finishedLanes=o,n){case 0:case 1:throw Error(l(345));case 2:es(e,gn,Fr);break;case 3:if(yi(e,o),(o&130023424)===o&&(n=Vc+500-vt(),10<n)){if(lt(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){an(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ot(es.bind(null,e,gn,Fr),n);break}es(e,gn,Fr);break;case 4:if(yi(e,o),(o&4194240)===o)break;for(n=e.eventTimes,u=-1;0<o;){var x=31-Fe(o);f=1<<x,x=n[x],x>u&&(u=x),o&=~f}if(o=u,o=vt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*$f(o/1960))-o,10<o){e.timeoutHandle=Ot(es.bind(null,e,gn,Fr),o);break}es(e,gn,Fr);break;case 5:es(e,gn,Fr);break;default:throw Error(l(329))}}}return xn(e,vt()),e.callbackNode===s?eh.bind(null,e):null}function Wc(e,n){var s=Ya;return e.current.memoizedState.isDehydrated&&(Xi(e,n).flags|=256),e=ml(e,n),e!==2&&(n=gn,gn=s,n!==null&&Gc(n)),e}function Gc(e){gn===null?gn=e:gn.push.apply(gn,e)}function Vf(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var u=s[o],f=u.getSnapshot;u=u.value;try{if(!Ln(f(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yi(e,n){for(n&=~$c,n&=~ll,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Fe(n),o=1<<s;e[s]=-1,n&=~o}}function th(e){if((Ye&6)!==0)throw Error(l(327));ea();var n=lt(e,0);if((n&1)===0)return xn(e,vt()),null;var s=ml(e,n);if(e.tag!==0&&s===2){var o=Ht(e);o!==0&&(n=o,s=Wc(e,o))}if(s===1)throw s=Ja,Xi(e,0),yi(e,n),xn(e,vt()),s;if(s===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,es(e,gn,Fr),xn(e,vt()),null}function Qc(e,n){var s=Ye;Ye|=1;try{return e(n)}finally{Ye=s,Ye===0&&(Xs=vt()+500,Uo&&hi())}}function Yi(e){xi!==null&&xi.tag===0&&(Ye&6)===0&&ea();var n=Ye;Ye|=1;var s=Hn.transition,o=Je;try{if(Hn.transition=null,Je=1,e)return e()}finally{Je=o,Hn.transition=s,Ye=n,(Ye&6)===0&&hi()}}function Kc(){Mn=Ys.current,ht(Ys)}function Xi(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Lt(s)),Et!==null)for(s=Et.return;s!==null;){var o=s;switch(sc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Bo();break;case 3:Qs(),ht(fn),ht(Gt),vc();break;case 5:gc(o);break;case 4:Qs();break;case 13:ht(_t);break;case 19:ht(_t);break;case 10:dc(o.type._context);break;case 22:case 23:Kc()}s=s.return}if(Bt=e,Et=e=_i(e.current,null),$t=Mn=n,zt=0,Ja=null,$c=ll=Ji=0,gn=Ya=null,Gi!==null){for(n=0;n<Gi.length;n++)if(s=Gi[n],o=s.interleaved,o!==null){s.interleaved=null;var u=o.next,f=s.pending;if(f!==null){var x=f.next;f.next=u,o.next=x}s.pending=o}Gi=null}return e}function nh(e,n){do{var s=Et;try{if(uc(),Jo.current=tl,Yo){for(var o=wt.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Yo=!1}if(Ki=0,Dt=Rt=wt=null,Ha=!1,qa=0,Zc.current=null,s===null||s.return===null){zt=1,Ja=n,Et=null;break}e:{var f=e,x=s.return,j=s,E=n;if(n=$t,j.flags|=32768,E!==null&&typeof E==\"object\"&&typeof E.then==\"function\"){var W=E,ie=j,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=Pd(x);if(ge!==null){ge.flags&=-257,Cd(ge,x,j,f,n),ge.mode&1&&kd(f,W,n),n=ge,E=W;var _e=n.updateQueue;if(_e===null){var we=new Set;we.add(E),n.updateQueue=we}else _e.add(E);break e}else{if((n&1)===0){kd(f,W,n),Jc();break e}E=Error(l(426))}}else if(gt&&j.mode&1){var Pt=Pd(x);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Cd(Pt,x,j,f,n),lc(Ks(E,j));break e}}f=E=Ks(E,j),zt!==4&&(zt=2),Ya===null?Ya=[f]:Ya.push(f),f=x;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var Z=jd(f,E,n);Ju(f,Z);break e;case 1:j=E;var M=f.type,H=f.stateNode;if((f.flags&128)===0&&(typeof M.getDerivedStateFromError==\"function\"||H!==null&&typeof H.componentDidCatch==\"function\"&&(gi===null||!gi.has(H)))){f.flags|=65536,n&=-n,f.lanes|=n;var oe=Sd(f,j,n);Ju(f,oe);break e}}f=f.return}while(f!==null)}sh(s)}catch(be){n=be,Et===s&&s!==null&&(Et=s=s.return);continue}break}while(!0)}function rh(){var e=ol.current;return ol.current=tl,e===null?tl:e}function Jc(){(zt===0||zt===3||zt===2)&&(zt=4),Bt===null||(Ji&268435455)===0&&(ll&268435455)===0||yi(Bt,$t)}function ml(e,n){var s=Ye;Ye|=2;var o=rh();(Bt!==e||$t!==n)&&(Fr=null,Xi(e,n));do try{Hf();break}catch(u){nh(e,u)}while(!0);if(uc(),Ye=s,ol.current=o,Et!==null)throw Error(l(261));return Bt=null,$t=0,zt}function Hf(){for(;Et!==null;)ih(Et)}function qf(){for(;Et!==null&&!Dl();)ih(Et)}function ih(e){var n=lh(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?sh(e):Et=n,Zc.current=null}function sh(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=Df(s,n,Mn),s!==null){Et=s;return}}else{if(s=Bf(s,n),s!==null){s.flags&=32767,Et=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Et=null;return}}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);zt===0&&(zt=5)}function es(e,n,s){var o=Je,u=Hn.transition;try{Hn.transition=null,Je=1,Wf(e,n,s,o)}finally{Hn.transition=u,Je=o}return null}function Wf(e,n,s,o){do ea();while(xi!==null);if((Ye&6)!==0)throw Error(l(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(jt(e,f),e===Bt&&(Et=Bt=null,$t=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ul||(ul=!0,ch(xs,function(){return ea(),null})),f=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||f){f=Hn.transition,Hn.transition=null;var x=Je;Je=1;var j=Ye;Ye|=4,Zc.current=null,Uf(e,s),Qd(s,e),Dn(Ce),Ai=!!he,Ce=he=null,e.current=s,Zf(s),gs(),Ye=j,Je=x,Hn.transition=f}else e.current=s;if(ul&&(ul=!1,xi=e,dl=u),f=e.pendingLanes,f===0&&(gi=null),Ti(s.stateNode),xn(e,vt()),n!==null)for(o=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],o(u.value,{componentStack:u.stack,digest:u.digest});if(cl)throw cl=!1,e=Hc,Hc=null,e;return(dl&1)!==0&&e.tag!==0&&ea(),f=e.pendingLanes,(f&1)!==0?e===qc?Xa++:(Xa=0,qc=e):Xa=0,hi(),null}function ea(){if(xi!==null){var e=Wr(dl),n=Hn.transition,s=Je;try{if(Hn.transition=null,Je=16>e?16:e,xi===null)var o=!1;else{if(e=xi,xi=null,dl=0,(Ye&6)!==0)throw Error(l(331));var u=Ye;for(Ye|=4,ve=e.current;ve!==null;){var f=ve,x=f.child;if((ve.flags&16)!==0){var j=f.deletions;if(j!==null){for(var E=0;E<j.length;E++){var W=j[E];for(ve=W;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ka(8,ie,f)}var ae=ie.child;if(ae!==null)ae.return=ie,ve=ae;else for(;ve!==null;){ie=ve;var re=ie.sibling,ge=ie.return;if(Vd(ie),ie===W){ve=null;break}if(re!==null){re.return=ge,ve=re;break}ve=ge}}}var _e=f.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Pt=we.sibling;we.sibling=null,we=Pt}while(we!==null)}}ve=f}}if((f.subtreeFlags&2064)!==0&&x!==null)x.return=f,ve=x;else e:for(;ve!==null;){if(f=ve,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ka(9,f,f.return)}var Z=f.sibling;if(Z!==null){Z.return=f.return,ve=Z;break e}ve=f.return}}var M=e.current;for(ve=M;ve!==null;){x=ve;var H=x.child;if((x.subtreeFlags&2064)!==0&&H!==null)H.return=x,ve=H;else e:for(x=M;ve!==null;){if(j=ve,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:al(9,j)}}catch(be){St(j,j.return,be)}if(j===x){ve=null;break e}var oe=j.sibling;if(oe!==null){oe.return=j.return,ve=oe;break e}ve=j.return}}if(Ye=u,hi(),bn&&typeof bn.onPostCommitFiberRoot==\"function\")try{bn.onPostCommitFiberRoot(Ii,e)}catch{}o=!0}return o}finally{Je=s,Hn.transition=n}}return!1}function ah(e,n,s){n=Ks(s,n),n=jd(e,n,1),e=mi(e,n,1),n=an(),e!==null&&(jn(e,1,n),xn(e,n))}function St(e,n,s){if(e.tag===3)ah(e,e,s);else for(;n!==null;){if(n.tag===3){ah(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError==\"function\"||typeof o.componentDidCatch==\"function\"&&(gi===null||!gi.has(o))){e=Ks(s,e),e=Sd(n,e,1),n=mi(n,e,1),e=an(),n!==null&&(jn(n,1,e),xn(n,e));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),n=an(),e.pingedLanes|=e.suspendedLanes&s,Bt===e&&($t&s)===s&&(zt===4||zt===3&&($t&130023424)===$t&&500>vt()-Vc?Xi(e,0):$c|=s),xn(e,n)}function oh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var s=an();e=Ar(e,n),e!==null&&(jn(e,n,s),xn(e,s))}function Qf(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),oh(e,s)}function Kf(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(l(314))}o!==null&&o.delete(n),oh(e,s)}var lh;lh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||fn.current)pn=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return pn=!1,Af(e,n,s);pn=(e.flags&131072)!==0}else pn=!1,gt&&(n.flags&1048576)!==0&&Uu(n,$o,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;il(e,n),e=n.pendingProps;var u=Zs(n,Gt.current);Gs(n,s),u=wc(null,n,o,e,u,s);var f=Nc();return n.flags|=1,typeof u==\"object\"&&u!==null&&typeof u.render==\"function\"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,mn(o)?(f=!0,Fo(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,mc(n),u.updater=nl,n.stateNode=u,u._reactInternals=n,Cc(n,o,e,s),n=Tc(null,n,o,!0,f,s)):(n.tag=0,gt&&f&&ic(n),sn(null,n,u,s),n=n.child),n;case 16:o=n.elementType;e:{switch(il(e,n),e=n.pendingProps,u=o._init,o=u(o._payload),n.type=o,u=n.tag=Yf(o),e=tr(o,e),u){case 0:n=Ic(null,n,o,e,s);break e;case 1:n=Od(null,n,o,e,s);break e;case 11:n=Ld(null,n,o,e,s);break e;case 14:n=Ed(null,n,o,tr(o.type,e),s);break e}throw Error(l(306,o,\"\"))}return n;case 0:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Ic(e,n,o,u,s);case 1:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Od(e,n,o,u,s);case 3:e:{if(Rd(n),e===null)throw Error(l(387));o=n.pendingProps,f=n.memoizedState,u=f.element,Ku(e,n),Qo(n,o,null,s);var x=n.memoizedState;if(o=x.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=Ks(Error(l(423)),n),n=zd(e,n,o,s,u);break e}else if(o!==u){u=Ks(Error(l(424)),n),n=zd(e,n,o,s,u);break e}else for(Tn=xr(n.stateNode.containerInfo.firstChild),In=n,gt=!0,er=null,s=Gu(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Hs(),o===u){n=Br(e,n,s);break e}sn(e,n,o,s)}n=n.child}return n;case 5:return Xu(n),e===null&&oc(n),o=n.type,u=n.pendingProps,f=e!==null?e.memoizedProps:null,x=u.children,Ve(o,u)?x=null:f!==null&&Ve(o,f)&&(n.flags|=32),Md(e,n),sn(e,n,x,s),n.child;case 6:return e===null&&oc(n),null;case 13:return Ad(e,n,s);case 4:return pc(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qs(n,null,o,s):sn(e,n,o,s),n.child;case 11:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Ld(e,n,o,u,s);case 7:return sn(e,n,n.pendingProps,s),n.child;case 8:return sn(e,n,n.pendingProps.children,s),n.child;case 12:return sn(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(o=n.type._context,u=n.pendingProps,f=n.memoizedProps,x=u.value,ct(qo,o._currentValue),o._currentValue=x,f!==null)if(Ln(f.value,x)){if(f.children===u.children&&!fn.current){n=Br(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var j=f.dependencies;if(j!==null){x=f.child;for(var E=j.firstContext;E!==null;){if(E.context===o){if(f.tag===1){E=Dr(-1,s&-s),E.tag=2;var W=f.updateQueue;if(W!==null){W=W.shared;var ie=W.pending;ie===null?E.next=E:(E.next=ie.next,ie.next=E),W.pending=E}}f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),hc(f.return,s,n),j.lanes|=s;break}E=E.next}}else if(f.tag===10)x=f.type===n.type?null:f.child;else if(f.tag===18){if(x=f.return,x===null)throw Error(l(341));x.lanes|=s,j=x.alternate,j!==null&&(j.lanes|=s),hc(x,s,n),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===n){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}sn(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,o=n.pendingProps.children,Gs(n,s),u=$n(u),o=o(u),n.flags|=1,sn(e,n,o,s),n.child;case 14:return o=n.type,u=tr(o,n.pendingProps),u=tr(o.type,u),Ed(e,n,o,u,s);case 15:return Id(e,n,n.type,n.pendingProps,s);case 17:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),il(e,n),n.tag=1,mn(o)?(e=!0,Fo(n)):e=!1,Gs(n,s),Nd(n,o,u),Cc(n,o,u,s),Tc(null,n,o,!0,e,s);case 19:return Bd(e,n,s);case 22:return Td(e,n,s)}throw Error(l(156,n.tag))};function ch(e,n){return mo(e,n)}function Jf(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,n,s,o){return new Jf(e,n,s,o)}function Yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yf(e){if(typeof e==\"function\")return Yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===de)return 14}return 2}function _i(e,n){var s=e.alternate;return s===null?(s=qn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pl(e,n,s,o,u,f){var x=2;if(o=e,typeof e==\"function\")Yc(e)&&(x=1);else if(typeof e==\"string\")x=5;else e:switch(e){case ue:return ts(s.children,u,f,n);case Se:x=8,u|=8;break;case rt:return e=qn(12,s,n,u|2),e.elementType=rt,e.lanes=f,e;case Ue:return e=qn(13,s,n,u),e.elementType=Ue,e.lanes=f,e;case Ze:return e=qn(19,s,n,u),e.elementType=Ze,e.lanes=f,e;case ce:return gl(s,u,f,n);default:if(typeof e==\"object\"&&e!==null)switch(e.$$typeof){case Y:x=10;break e;case me:x=9;break e;case Ie:x=11;break e;case de:x=14;break e;case ke:x=16,o=null;break e}throw Error(l(130,e==null?e:typeof e,\"\"))}return n=qn(x,s,n,u),n.elementType=e,n.type=o,n.lanes=f,n}function ts(e,n,s,o){return e=qn(7,e,o,n),e.lanes=s,e}function gl(e,n,s,o){return e=qn(22,e,o,n),e.elementType=ce,e.lanes=s,e.stateNode={isHidden:!1},e}function Xc(e,n,s){return e=qn(6,e,null,n),e.lanes=s,e}function eu(e,n,s){return n=qn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Xf(e,n,s,o,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function tu(e,n,s,o,u,f,x,j,E){return e=new Xf(e,n,s,j,E),n===1?(n=1,f===!0&&(n|=8)):n=0,f=qn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(f),e}function em(e,n,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:o==null?null:\"\"+o,children:e,containerInfo:n,implementation:s}}function uh(e){if(!e)return di;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(l(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(mn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(l(171))}if(e.tag===1){var s=e.type;if(mn(s))return Du(e,s,n)}return n}function dh(e,n,s,o,u,f,x,j,E){return e=tu(s,o,!0,e,u,f,x,j,E),e.context=uh(null),s=e.current,o=an(),u=vi(s),f=Dr(o,u),f.callback=n??null,mi(s,f,u),e.current.lanes=u,jn(e,u,o),xn(e,o),e}function xl(e,n,s,o){var u=n.current,f=an(),x=vi(u);return s=uh(s),n.context===null?n.context=s:n.pendingContext=s,n=Dr(f,x),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=mi(u,n,x),e!==null&&(ir(e,u,x,f),Go(e,u,x)),x}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function nu(e,n){hh(e,n),(e=e.alternate)&&hh(e,n)}function tm(){return null}var fh=typeof reportError==\"function\"?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}yl.prototype.render=ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));xl(e,n,null,null)},yl.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yi(function(){xl(null,e,null,null)}),n[nt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ns();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mt.length&&n!==0&&n<Mt[s].priority;s++);Mt.splice(s,0,e),s===0&&bs(e)}};function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==\" react-mount-point-unstable \"))}function mh(){}function nm(e,n,s,o,u){if(u){if(typeof o==\"function\"){var f=o;o=function(){var W=vl(x);f.call(W)}}var x=dh(n,o,e,0,null,!1,!1,\"\",mh);return e._reactRootContainer=x,e[nt]=x.current,ai(e.nodeType===8?e.parentNode:e),Yi(),x}for(;u=e.lastChild;)e.removeChild(u);if(typeof o==\"function\"){var j=o;o=function(){var W=vl(E);j.call(W)}}var E=tu(e,0,!1,null,null,!1,!1,\"\",mh);return e._reactRootContainer=E,e[nt]=E.current,ai(e.nodeType===8?e.parentNode:e),Yi(function(){xl(n,E,s,o)}),E}function wl(e,n,s,o,u){var f=s._reactRootContainer;if(f){var x=f;if(typeof u==\"function\"){var j=u;u=function(){var E=vl(x);j.call(E)}}xl(n,x,e,u)}else x=nm(s,n,e,u,o);return vl(x)}_s=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ae(n.pendingLanes);s!==0&&(Qn(n,s|1),xn(n,vt()),(Ye&6)===0&&(Xs=vt()+500,hi()))}break;case 13:Yi(function(){var o=Ar(e,1);if(o!==null){var u=an();ir(o,e,1,u)}}),nu(e,1)}},Nr=function(e){if(e.tag===13){var n=Ar(e,134217728);if(n!==null){var s=an();ir(n,e,134217728,s)}nu(e,134217728)}},ws=function(e){if(e.tag===13){var n=vi(e),s=Ar(e,n);if(s!==null){var o=an();ir(s,e,n,o)}nu(e,n)}},Ns=function(){return Je},Mi=function(e,n){var s=Je;try{return Je=e,n()}finally{Je=s}},Pe=function(e,n,s){switch(n){case\"input\":if(Ke(e,s),n=s.name,s.type===\"radio\"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+n)+'][type=\"radio\"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var u=Fs(o);if(!u)throw Error(l(90));cn(o),Ke(o,u)}}}break;case\"textarea\":Xt(e,s);break;case\"select\":n=s.value,n!=null&&T(e,!!s.multiple,n,!1)}},oo=Qc,lo=Yi;var rm={usingClientEntryPoint:!1,Events:[Tr,Mr,Fs,en,lr,Qc]},eo={findFiberByHostInstance:Ir,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},im={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ho(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ii=Nl.inject(im),bn=Nl}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm,vn.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(n))throw Error(l(200));return em(e,n,null,s)},vn.createRoot=function(e,n){if(!iu(e))throw Error(l(299));var s=!1,o=\"\",u=fh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=tu(e,1,!1,null,null,s,!1,o,u),e[nt]=n.current,ai(e.nodeType===8?e.parentNode:e),new ru(n)},vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render==\"function\"?Error(l(188)):(e=Object.keys(e).join(\",\"),Error(l(268,e)));return e=ho(n),e=e===null?null:e.stateNode,e},vn.flushSync=function(e){return Yi(e)},vn.hydrate=function(e,n,s){if(!_l(n))throw Error(l(200));return wl(null,e,n,!0,s)},vn.hydrateRoot=function(e,n,s){if(!iu(e))throw Error(l(405));var o=s!=null&&s.hydratedSources||null,u=!1,f=\"\",x=fh;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=dh(n,null,e,1,s??null,u,!1,f,x),e[nt]=n.current,ai(e),o)for(e=0;e<o.length;e++)s=o[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new yl(n)},vn.render=function(e,n,s){if(!_l(n))throw Error(l(200));return wl(null,e,n,!1,s)},vn.unmountComponentAtNode=function(e){if(!_l(e))throw Error(l(40));return e._reactRootContainer?(Yi(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},vn.unstable_batchedUpdates=Qc,vn.unstable_renderSubtreeIntoContainer=function(e,n,s,o){if(!_l(s))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return wl(e,n,s,!1,o)},vn.version=\"18.3.1-next-f1338f8080-20240426\",vn}var Nh;function Zh(){if(Nh)return ou.exports;Nh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),ou.exports=fm(),ou.exports}var bh;function mm(){if(bh)return bl;bh=1;var d=Zh();return bl.createRoot=d.createRoot,bl.hydrateRoot=d.hydrateRoot,bl}var pm=mm();const gm=ju(pm);var xm=Zh();/**\n * @remix-run/router v1.23.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function io(){return io=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},io.apply(this,arguments)}var bi;(function(d){d.Pop=\"POP\",d.Push=\"PUSH\",d.Replace=\"REPLACE\"})(bi||(bi={}));const jh=\"popstate\";function vm(d){d===void 0&&(d={});function h(m,g){let{pathname:_,search:y,hash:S}=m.location;return du(\"\",{pathname:_,search:y,hash:S},g.state&&g.state.usr||null,g.state&&g.state.key||\"default\")}function l(m,g){return typeof g==\"string\"?g:Sl(g)}return _m(h,l,null,d)}function It(d,h){if(d===!1||d===null||typeof d>\"u\")throw new Error(h)}function $h(d,h){if(!d){typeof console<\"u\"&&console.warn(h);try{throw new Error(h)}catch{}}}function ym(){return Math.random().toString(36).substr(2,8)}function Sh(d,h){return{usr:d.state,key:d.key,idx:h}}function du(d,h,l,m){return l===void 0&&(l=null),io({pathname:typeof d==\"string\"?d:d.pathname,search:\"\",hash:\"\"},typeof h==\"string\"?oa(h):h,{state:l,key:h&&h.key||m||ym()})}function Sl(d){let{pathname:h=\"/\",search:l=\"\",hash:m=\"\"}=d;return l&&l!==\"?\"&&(h+=l.charAt(0)===\"?\"?l:\"?\"+l),m&&m!==\"#\"&&(h+=m.charAt(0)===\"#\"?m:\"#\"+m),h}function oa(d){let h={};if(d){let l=d.indexOf(\"#\");l>=0&&(h.hash=d.substr(l),d=d.substr(0,l));let m=d.indexOf(\"?\");m>=0&&(h.search=d.substr(m),d=d.substr(0,m)),d&&(h.pathname=d)}return h}function _m(d,h,l,m){m===void 0&&(m={});let{window:g=document.defaultView,v5Compat:_=!1}=m,y=g.history,S=bi.Pop,N=null,O=I();O==null&&(O=0,y.replaceState(io({},y.state,{idx:O}),\"\"));function I(){return(y.state||{idx:null}).idx}function b(){S=bi.Pop;let z=I(),Q=z==null?null:z-O;O=z,N&&N({action:S,location:R.location,delta:Q})}function V(z,Q){S=bi.Push;let B=du(R.location,z,Q);O=I()+1;let $=Sh(B,O),D=R.createHref(B);try{y.pushState($,\"\",D)}catch(A){if(A instanceof DOMException&&A.name===\"DataCloneError\")throw A;g.location.assign(D)}_&&N&&N({action:S,location:R.location,delta:1})}function G(z,Q){S=bi.Replace;let B=du(R.location,z,Q);O=I();let $=Sh(B,O),D=R.createHref(B);y.replaceState($,\"\",D),_&&N&&N({action:S,location:R.location,delta:0})}function J(z){let Q=g.location.origin!==\"null\"?g.location.origin:g.location.href,B=typeof z==\"string\"?z:Sl(z);return B=B.replace(/ $/,\"%20\"),It(Q,\"No window.location.(origin|href) available to create URL for href: \"+B),new URL(B,Q)}let R={get action(){return S},get location(){return d(g,y)},listen(z){if(N)throw new Error(\"A history only accepts one active listener\");return g.addEventListener(jh,b),N=z,()=>{g.removeEventListener(jh,b),N=null}},createHref(z){return h(g,z)},createURL:J,encodeLocation(z){let Q=J(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:V,replace:G,go(z){return y.go(z)}};return R}var kh;(function(d){d.data=\"data\",d.deferred=\"deferred\",d.redirect=\"redirect\",d.error=\"error\"})(kh||(kh={}));function wm(d,h,l){return l===void 0&&(l=\"/\"),Nm(d,h,l)}function Nm(d,h,l,m){let g=typeof h==\"string\"?oa(h):h,_=ku(g.pathname||\"/\",l);if(_==null)return null;let y=Vh(d);bm(y);let S=null;for(let N=0;S==null&&N<y.length;++N){let O=Rm(_);S=Tm(y[N],O)}return S}function Vh(d,h,l,m){h===void 0&&(h=[]),l===void 0&&(l=[]),m===void 0&&(m=\"\");let g=(_,y,S)=>{let N={relativePath:S===void 0?_.path||\"\":S,caseSensitive:_.caseSensitive===!0,childrenIndex:y,route:_};N.relativePath.startsWith(\"/\")&&(It(N.relativePath.startsWith(m),'Absolute route path \"'+N.relativePath+'\" nested under path '+('\"'+m+'\" is not valid. An absolute child route path ')+\"must start with the combined path of all its parent routes.\"),N.relativePath=N.relativePath.slice(m.length));let O=ji([m,N.relativePath]),I=l.concat(N);_.children&&_.children.length>0&&(It(_.index!==!0,\"Index routes must not have child routes. Please remove \"+('all child routes from route path \"'+O+'\".')),Vh(_.children,h,I,O)),!(_.path==null&&!_.index)&&h.push({path:O,score:Em(O,_.index),routesMeta:I})};return d.forEach((_,y)=>{var S;if(_.path===\"\"||!((S=_.path)!=null&&S.includes(\"?\")))g(_,y);else for(let N of Hh(_.path))g(_,y,N)}),h}function Hh(d){let h=d.split(\"/\");if(h.length===0)return[];let[l,...m]=h,g=l.endsWith(\"?\"),_=l.replace(/\\?$/,\"\");if(m.length===0)return g?[_,\"\"]:[_];let y=Hh(m.join(\"/\")),S=[];return S.push(...y.map(N=>N===\"\"?_:[_,N].join(\"/\"))),g&&S.push(...y),S.map(N=>d.startsWith(\"/\")&&N===\"\"?\"/\":N)}function bm(d){d.sort((h,l)=>h.score!==l.score?l.score-h.score:Im(h.routesMeta.map(m=>m.childrenIndex),l.routesMeta.map(m=>m.childrenIndex)))}const jm=/^:[\\w-]+$/,Sm=3,km=2,Pm=1,Cm=10,Lm=-2,Ph=d=>d===\"*\";function Em(d,h){let l=d.split(\"/\"),m=l.length;return l.some(Ph)&&(m+=Lm),h&&(m+=km),l.filter(g=>!Ph(g)).reduce((g,_)=>g+(jm.test(_)?Sm:_===\"\"?Pm:Cm),m)}function Im(d,h){return d.length===h.length&&d.slice(0,-1).every((m,g)=>m===h[g])?d[d.length-1]-h[h.length-1]:0}function Tm(d,h,l){let{routesMeta:m}=d,g={},_=\"/\",y=[];for(let S=0;S<m.length;++S){let N=m[S],O=S===m.length-1,I=_===\"/\"?h:h.slice(_.length)||\"/\",b=Mm({path:N.relativePath,caseSensitive:N.caseSensitive,end:O},I),V=N.route;if(!b)return null;Object.assign(g,b.params),y.push({params:g,pathname:ji([_,b.pathname]),pathnameBase:Bm(ji([_,b.pathnameBase])),route:V}),b.pathnameBase!==\"/\"&&(_=ji([_,b.pathnameBase]))}return y}function Mm(d,h){typeof d==\"string\"&&(d={path:d,caseSensitive:!1,end:!0});let[l,m]=Om(d.path,d.caseSensitive,d.end),g=h.match(l);if(!g)return null;let _=g[0],y=_.replace(/(.)\\/+$/,\"$1\"),S=g.slice(1);return{params:m.reduce((O,I,b)=>{let{paramName:V,isOptional:G}=I;if(V===\"*\"){let R=S[b]||\"\";y=_.slice(0,_.length-R.length).replace(/(.)\\/+$/,\"$1\")}const J=S[b];return G&&!J?O[V]=void 0:O[V]=(J||\"\").replace(/%2F/g,\"/\"),O},{}),pathname:_,pathnameBase:y,pattern:d}}function Om(d,h,l){h===void 0&&(h=!1),l===void 0&&(l=!0),$h(d===\"*\"||!d.endsWith(\"*\")||d.endsWith(\"/*\"),'Route path \"'+d+'\" will be treated as if it were '+('\"'+d.replace(/\\*$/,\"/*\")+'\" because the `*` character must ')+\"always follow a `/` in the pattern. To get rid of this warning, \"+('please change the route path to \"'+d.replace(/\\*$/,\"/*\")+'\".'));let m=[],g=\"^\"+d.replace(/\\/*\\*?$/,\"\").replace(/^\\/*/,\"/\").replace(/[\\\\.*+^${}|()[\\]]/g,\"\\\\$&\").replace(/\\/:([\\w-]+)(\\?)?/g,(y,S,N)=>(m.push({paramName:S,isOptional:N!=null}),N?\"/?([^\\\\/]+)?\":\"/([^\\\\/]+)\"));return d.endsWith(\"*\")?(m.push({paramName:\"*\"}),g+=d===\"*\"||d===\"/*\"?\"(.*)$\":\"(?:\\\\/(.+)|\\\\/*)$\"):l?g+=\"\\\\/*$\":d!==\"\"&&d!==\"/\"&&(g+=\"(?:(?=\\\\/|$))\"),[new RegExp(g,h?void 0:\"i\"),m]}function Rm(d){try{return d.split(\"/\").map(h=>decodeURIComponent(h).replace(/\\//g,\"%2F\")).join(\"/\")}catch(h){return $h(!1,'The URL path \"'+d+'\" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+(\"encoding (\"+h+\").\")),d}}function ku(d,h){if(h===\"/\")return d;if(!d.toLowerCase().startsWith(h.toLowerCase()))return null;let l=h.endsWith(\"/\")?h.length-1:h.length,m=d.charAt(l);return m&&m!==\"/\"?null:d.slice(l)||\"/\"}function zm(d,h){h===void 0&&(h=\"/\");let{pathname:l,search:m=\"\",hash:g=\"\"}=typeof d==\"string\"?oa(d):d;return{pathname:l?l.startsWith(\"/\")?l:Am(l,h):h,search:Fm(m),hash:Um(g)}}function Am(d,h){let l=h.replace(/\\/+$/,\"\").split(\"/\");return d.split(\"/\").forEach(g=>{g===\"..\"?l.length>1&&l.pop():g!==\".\"&&l.push(g)}),l.length>1?l.join(\"/\"):\"/\"}function uu(d,h,l,m){return\"Cannot include a '\"+d+\"' character in a manually specified \"+(\"`to.\"+h+\"` field [\"+JSON.stringify(m)+\"].  Please separate it out to the \")+(\"`to.\"+l+\"` field. Alternatively you may provide the full path as \")+'a string in <Link to=\"...\"> and the router will parse it for you.'}function Dm(d){return d.filter((h,l)=>l===0||h.route.path&&h.route.path.length>0)}function qh(d,h){let l=Dm(d);return h?l.map((m,g)=>g===l.length-1?m.pathname:m.pathnameBase):l.map(m=>m.pathnameBase)}function Wh(d,h,l,m){m===void 0&&(m=!1);let g;typeof d==\"string\"?g=oa(d):(g=io({},d),It(!g.pathname||!g.pathname.includes(\"?\"),uu(\"?\",\"pathname\",\"search\",g)),It(!g.pathname||!g.pathname.includes(\"#\"),uu(\"#\",\"pathname\",\"hash\",g)),It(!g.search||!g.search.includes(\"#\"),uu(\"#\",\"search\",\"hash\",g)));let _=d===\"\"||g.pathname===\"\",y=_?\"/\":g.pathname,S;if(y==null)S=l;else{let b=h.length-1;if(!m&&y.startsWith(\"..\")){let V=y.split(\"/\");for(;V[0]===\"..\";)V.shift(),b-=1;g.pathname=V.join(\"/\")}S=b>=0?h[b]:\"/\"}let N=zm(g,S),O=y&&y!==\"/\"&&y.endsWith(\"/\"),I=(_||y===\".\")&&l.endsWith(\"/\");return!N.pathname.endsWith(\"/\")&&(O||I)&&(N.pathname+=\"/\"),N}const ji=d=>d.join(\"/\").replace(/\\/\\/+/g,\"/\"),Bm=d=>d.replace(/\\/+$/,\"\").replace(/^\\/*/,\"/\"),Fm=d=>!d||d===\"?\"?\"\":d.startsWith(\"?\")?d:\"?\"+d,Um=d=>!d||d===\"#\"?\"\":d.startsWith(\"#\")?d:\"#\"+d;function Zm(d){return d!=null&&typeof d.status==\"number\"&&typeof d.statusText==\"string\"&&typeof d.internal==\"boolean\"&&\"data\"in d}const Gh=[\"post\",\"put\",\"patch\",\"delete\"];new Set(Gh);const $m=[\"get\",...Gh];new Set($m);/**\n * React Router v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function so(){return so=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},so.apply(this,arguments)}const Pu=w.createContext(null),Vm=w.createContext(null),ls=w.createContext(null),Ll=w.createContext(null),cs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Qh=w.createContext(null);function Hm(d,h){let{relative:l}=h===void 0?{}:h;ao()||It(!1);let{basename:m,navigator:g}=w.useContext(ls),{hash:_,pathname:y,search:S}=Jh(d,{relative:l}),N=y;return m!==\"/\"&&(N=y===\"/\"?m:ji([m,y])),g.createHref({pathname:N,search:S,hash:_})}function ao(){return w.useContext(Ll)!=null}function us(){return ao()||It(!1),w.useContext(Ll).location}function Kh(d){w.useContext(ls).static||w.useLayoutEffect(d)}function Ur(){let{isDataRoute:d}=w.useContext(cs);return d?ip():qm()}function qm(){ao()||It(!1);let d=w.useContext(Pu),{basename:h,future:l,navigator:m}=w.useContext(ls),{matches:g}=w.useContext(cs),{pathname:_}=us(),y=JSON.stringify(qh(g,l.v7_relativeSplatPath)),S=w.useRef(!1);return Kh(()=>{S.current=!0}),w.useCallback(function(O,I){if(I===void 0&&(I={}),!S.current)return;if(typeof O==\"number\"){m.go(O);return}let b=Wh(O,JSON.parse(y),_,I.relative===\"path\");d==null&&h!==\"/\"&&(b.pathname=b.pathname===\"/\"?h:ji([h,b.pathname])),(I.replace?m.replace:m.push)(b,I.state,I)},[h,m,y,_,d])}function Jh(d,h){let{relative:l}=h===void 0?{}:h,{future:m}=w.useContext(ls),{matches:g}=w.useContext(cs),{pathname:_}=us(),y=JSON.stringify(qh(g,m.v7_relativeSplatPath));return w.useMemo(()=>Wh(d,JSON.parse(y),_,l===\"path\"),[d,y,_,l])}function Wm(d,h){return Gm(d,h)}function Gm(d,h,l,m){ao()||It(!1);let{navigator:g}=w.useContext(ls),{matches:_}=w.useContext(cs),y=_[_.length-1],S=y?y.params:{};y&&y.pathname;let N=y?y.pathnameBase:\"/\";y&&y.route;let O=us(),I;if(h){var b;let z=typeof h==\"string\"?oa(h):h;N===\"/\"||(b=z.pathname)!=null&&b.startsWith(N)||It(!1),I=z}else I=O;let V=I.pathname||\"/\",G=V;if(N!==\"/\"){let z=N.replace(/^\\//,\"\").split(\"/\");G=\"/\"+V.replace(/^\\//,\"\").split(\"/\").slice(z.length).join(\"/\")}let J=wm(d,{pathname:G}),R=Xm(J&&J.map(z=>Object.assign({},z,{params:Object.assign({},S,z.params),pathname:ji([N,g.encodeLocation?g.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase===\"/\"?N:ji([N,g.encodeLocation?g.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),_,l,m);return h&&R?w.createElement(Ll.Provider,{value:{location:so({pathname:\"/\",search:\"\",hash:\"\",state:null,key:\"default\"},I),navigationType:bi.Pop}},R):R}function Qm(){let d=rp(),h=Zm(d)?d.status+\" \"+d.statusText:d instanceof Error?d.message:JSON.stringify(d),l=d instanceof Error?d.stack:null,g={padding:\"0.5rem\",backgroundColor:\"rgba(200,200,200, 0.5)\"};return w.createElement(w.Fragment,null,w.createElement(\"h2\",null,\"Unexpected Application Error!\"),w.createElement(\"h3\",{style:{fontStyle:\"italic\"}},h),l?w.createElement(\"pre\",{style:g},l):null,null)}const Km=w.createElement(Qm,null);class Jm extends w.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,l){return l.location!==h.location||l.revalidation!==\"idle\"&&h.revalidation===\"idle\"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:l.error,location:l.location,revalidation:h.revalidation||l.revalidation}}componentDidCatch(h,l){console.error(\"React Router caught the following error during render\",h,l)}render(){return this.state.error!==void 0?w.createElement(cs.Provider,{value:this.props.routeContext},w.createElement(Qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ym(d){let{routeContext:h,match:l,children:m}=d,g=w.useContext(Pu);return g&&g.static&&g.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=l.route.id),w.createElement(cs.Provider,{value:h},m)}function Xm(d,h,l,m){var g;if(h===void 0&&(h=[]),l===void 0&&(l=null),m===void 0&&(m=null),d==null){var _;if(!l)return null;if(l.errors)d=l.matches;else if((_=m)!=null&&_.v7_partialHydration&&h.length===0&&!l.initialized&&l.matches.length>0)d=l.matches;else return null}let y=d,S=(g=l)==null?void 0:g.errors;if(S!=null){let I=y.findIndex(b=>b.route.id&&S?.[b.route.id]!==void 0);I>=0||It(!1),y=y.slice(0,Math.min(y.length,I+1))}let N=!1,O=-1;if(l&&m&&m.v7_partialHydration)for(let I=0;I<y.length;I++){let b=y[I];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(O=I),b.route.id){let{loaderData:V,errors:G}=l,J=b.route.loader&&V[b.route.id]===void 0&&(!G||G[b.route.id]===void 0);if(b.route.lazy||J){N=!0,O>=0?y=y.slice(0,O+1):y=[y[0]];break}}}return y.reduceRight((I,b,V)=>{let G,J=!1,R=null,z=null;l&&(G=S&&b.route.id?S[b.route.id]:void 0,R=b.route.errorElement||Km,N&&(O<0&&V===0?(sp(\"route-fallback\"),J=!0,z=null):O===V&&(J=!0,z=b.route.hydrateFallbackElement||null)));let Q=h.concat(y.slice(0,V+1)),B=()=>{let $;return G?$=R:J?$=z:b.route.Component?$=w.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=I,w.createElement(Ym,{match:b,routeContext:{outlet:I,matches:Q,isDataRoute:l!=null},children:$})};return l&&(b.route.ErrorBoundary||b.route.errorElement||V===0)?w.createElement(Jm,{location:l.location,revalidation:l.revalidation,component:R,error:G,children:B(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):B()},null)}var Yh=function(d){return d.UseBlocker=\"useBlocker\",d.UseRevalidator=\"useRevalidator\",d.UseNavigateStable=\"useNavigate\",d}(Yh||{}),Xh=function(d){return d.UseBlocker=\"useBlocker\",d.UseLoaderData=\"useLoaderData\",d.UseActionData=\"useActionData\",d.UseRouteError=\"useRouteError\",d.UseNavigation=\"useNavigation\",d.UseRouteLoaderData=\"useRouteLoaderData\",d.UseMatches=\"useMatches\",d.UseRevalidator=\"useRevalidator\",d.UseNavigateStable=\"useNavigate\",d.UseRouteId=\"useRouteId\",d}(Xh||{});function ep(d){let h=w.useContext(Pu);return h||It(!1),h}function tp(d){let h=w.useContext(Vm);return h||It(!1),h}function np(d){let h=w.useContext(cs);return h||It(!1),h}function ef(d){let h=np(),l=h.matches[h.matches.length-1];return l.route.id||It(!1),l.route.id}function rp(){var d;let h=w.useContext(Qh),l=tp(),m=ef();return h!==void 0?h:(d=l.errors)==null?void 0:d[m]}function ip(){let{router:d}=ep(Yh.UseNavigateStable),h=ef(Xh.UseNavigateStable),l=w.useRef(!1);return Kh(()=>{l.current=!0}),w.useCallback(function(g,_){_===void 0&&(_={}),l.current&&(typeof g==\"number\"?d.navigate(g):d.navigate(g,so({fromRouteId:h},_)))},[d,h])}const Ch={};function sp(d,h,l){Ch[d]||(Ch[d]=!0)}function ap(d,h){d?.v7_startTransition,d?.v7_relativeSplatPath}function Yt(d){It(!1)}function op(d){let{basename:h=\"/\",children:l=null,location:m,navigationType:g=bi.Pop,navigator:_,static:y=!1,future:S}=d;ao()&&It(!1);let N=h.replace(/^\\/*/,\"/\"),O=w.useMemo(()=>({basename:N,navigator:_,static:y,future:so({v7_relativeSplatPath:!1},S)}),[N,S,_,y]);typeof m==\"string\"&&(m=oa(m));let{pathname:I=\"/\",search:b=\"\",hash:V=\"\",state:G=null,key:J=\"default\"}=m,R=w.useMemo(()=>{let z=ku(I,N);return z==null?null:{location:{pathname:z,search:b,hash:V,state:G,key:J},navigationType:g}},[N,I,b,V,G,J,g]);return R==null?null:w.createElement(ls.Provider,{value:O},w.createElement(Ll.Provider,{children:l,value:R}))}function lp(d){let{children:h,location:l}=d;return Wm(hu(h),l)}new Promise(()=>{});function hu(d,h){h===void 0&&(h=[]);let l=[];return w.Children.forEach(d,(m,g)=>{if(!w.isValidElement(m))return;let _=[...h,g];if(m.type===w.Fragment){l.push.apply(l,hu(m.props.children,_));return}m.type!==Yt&&It(!1),!m.props.index||!m.props.children||It(!1);let y={id:m.props.id||_.join(\"-\"),caseSensitive:m.props.caseSensitive,element:m.props.element,Component:m.props.Component,index:m.props.index,path:m.props.path,loader:m.props.loader,action:m.props.action,errorElement:m.props.errorElement,ErrorBoundary:m.props.ErrorBoundary,hasErrorBoundary:m.props.ErrorBoundary!=null||m.props.errorElement!=null,shouldRevalidate:m.props.shouldRevalidate,handle:m.props.handle,lazy:m.props.lazy};m.props.children&&(y.children=hu(m.props.children,_)),l.push(y)}),l}/**\n * React Router DOM v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function fu(){return fu=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},fu.apply(this,arguments)}function cp(d,h){if(d==null)return{};var l={},m=Object.keys(d),g,_;for(_=0;_<m.length;_++)g=m[_],!(h.indexOf(g)>=0)&&(l[g]=d[g]);return l}function up(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function dp(d,h){return d.button===0&&(!h||h===\"_self\")&&!up(d)}function mu(d){return d===void 0&&(d=\"\"),new URLSearchParams(typeof d==\"string\"||Array.isArray(d)||d instanceof URLSearchParams?d:Object.keys(d).reduce((h,l)=>{let m=d[l];return h.concat(Array.isArray(m)?m.map(g=>[l,g]):[[l,m]])},[]))}function hp(d,h){let l=mu(d);return h&&h.forEach((m,g)=>{l.has(g)||h.getAll(g).forEach(_=>{l.append(g,_)})}),l}const fp=[\"onClick\",\"relative\",\"reloadDocument\",\"replace\",\"state\",\"target\",\"to\",\"preventScrollReset\",\"viewTransition\"],mp=\"6\";try{window.__reactRouterVersion=mp}catch{}const pp=\"startTransition\",Lh=um[pp];function gp(d){let{basename:h,children:l,future:m,window:g}=d,_=w.useRef();_.current==null&&(_.current=vm({window:g,v5Compat:!0}));let y=_.current,[S,N]=w.useState({action:y.action,location:y.location}),{v7_startTransition:O}=m||{},I=w.useCallback(b=>{O&&Lh?Lh(()=>N(b)):N(b)},[N,O]);return w.useLayoutEffect(()=>y.listen(I),[y,I]),w.useEffect(()=>ap(m),[m]),w.createElement(op,{basename:h,children:l,location:S.location,navigationType:S.action,navigator:y,future:m})}const xp=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\",vp=/^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i,tt=w.forwardRef(function(h,l){let{onClick:m,relative:g,reloadDocument:_,replace:y,state:S,target:N,to:O,preventScrollReset:I,viewTransition:b}=h,V=cp(h,fp),{basename:G}=w.useContext(ls),J,R=!1;if(typeof O==\"string\"&&vp.test(O)&&(J=O,xp))try{let $=new URL(window.location.href),D=O.startsWith(\"//\")?new URL($.protocol+O):new URL(O),A=ku(D.pathname,G);D.origin===$.origin&&A!=null?O=A+D.search+D.hash:R=!0}catch{}let z=Hm(O,{relative:g}),Q=yp(O,{replace:y,state:S,target:N,preventScrollReset:I,relative:g,viewTransition:b});function B($){m&&m($),$.defaultPrevented||Q($)}return w.createElement(\"a\",fu({},V,{href:J||z,onClick:R||_?m:B,ref:l,target:N}))});var Eh;(function(d){d.UseScrollRestoration=\"useScrollRestoration\",d.UseSubmit=\"useSubmit\",d.UseSubmitFetcher=\"useSubmitFetcher\",d.UseFetcher=\"useFetcher\",d.useViewTransitionState=\"useViewTransitionState\"})(Eh||(Eh={}));var Ih;(function(d){d.UseFetcher=\"useFetcher\",d.UseFetchers=\"useFetchers\",d.UseScrollRestoration=\"useScrollRestoration\"})(Ih||(Ih={}));function yp(d,h){let{target:l,replace:m,state:g,preventScrollReset:_,relative:y,viewTransition:S}=h===void 0?{}:h,N=Ur(),O=us(),I=Jh(d,{relative:y});return w.useCallback(b=>{if(dp(b,l)){b.preventDefault();let V=m!==void 0?m:Sl(O)===Sl(I);N(d,{replace:V,state:g,preventScrollReset:_,relative:y,viewTransition:S})}},[O,N,I,m,g,l,d,_,y,S])}function _p(d){let h=w.useRef(mu(d)),l=w.useRef(!1),m=us(),g=w.useMemo(()=>hp(m.search,l.current?null:h.current),[m.search]),_=Ur(),y=w.useCallback((S,N)=>{const O=mu(typeof S==\"function\"?S(g):S);l.current=!0,_(\"?\"+O,N)},[_,g]);return[g,y]}const Cu=[{id:\"supplier_1\",name:\"Sakshi Organic Farms\",email:\"sakshi07@gmail.com\",password:\"sakshi123\",phone:\"+91 98765 43210\",businessName:\"Sakshi Fresh Vegetables\",location:\"Sector 17, Chandigarh\",coordinates:[30.7889,76.8195],specialization:\"Organic Vegetables\",fssaiLicense:\"FSSAI-12345678901\",established:\"2019\",rating:4.8,totalOrders:1250,products:[]},{id:\"supplier_2\",name:\"Ravi Kumar Dairy\",email:\"ravi.kumar@gmail.com\",password:\"ravi123\",phone:\"+91 98765 43211\",businessName:\"Kumar Dairy Products\",location:\"Sector 22, Chandigarh\",coordinates:[30.7989,76.8295],specialization:\"Dairy Products\",fssaiLicense:\"FSSAI-12345678902\",established:\"2017\",rating:4.6,totalOrders:980,products:[]},{id:\"supplier_3\",name:\"Priya Singh Fruits\",email:\"priya.singh@gmail.com\",password:\"priya123\",phone:\"+91 98765 43212\",businessName:\"Singh Fresh Fruits\",location:\"Sector 35, Chandigarh\",coordinates:[30.8249,76.8555],specialization:\"Fresh Fruits\",fssaiLicense:\"FSSAI-12345678903\",established:\"2020\",rating:4.7,totalOrders:750,products:[]},{id:\"supplier_4\",name:\"Amit Patel Grains\",email:\"amit.patel@gmail.com\",password:\"amit123\",phone:\"+91 98765 43213\",businessName:\"Patel Grain Store\",location:\"Industrial Area, Chandigarh\",coordinates:[30.7509,76.7815],specialization:\"Grains & Pulses\",fssaiLicense:\"FSSAI-12345678904\",established:\"2015\",rating:4.5,totalOrders:1500,products:[]},{id:\"supplier_5\",name:\"Sunita Sharma Spices\",email:\"sunita.sharma@gmail.com\",password:\"sunita123\",phone:\"+91 98765 43214\",businessName:\"Sharma Spice House\",location:\"Sector 43, Chandigarh\",coordinates:[30.8409,76.8715],specialization:\"Spices & Herbs\",fssaiLicense:\"FSSAI-12345678905\",established:\"2018\",rating:4.9,totalOrders:650,products:[]},{id:\"supplier_6\",name:\"Deepak Joshi Poultry\",email:\"deepak.joshi@gmail.com\",password:\"deepak123\",phone:\"+91 98765 43215\",businessName:\"Joshi Poultry Farm\",location:\"Mohali, Punjab\",coordinates:[30.7789,76.8095],specialization:\"Poultry & Eggs\",fssaiLicense:\"FSSAI-12345678906\",established:\"2016\",rating:4.4,totalOrders:890,products:[]},{id:\"supplier_7\",name:\"Meena Gupta Bakery\",email:\"meena.gupta@gmail.com\",password:\"meena123\",phone:\"+91 98765 43216\",businessName:\"Gupta Fresh Bakery\",location:\"Sector 26, Chandigarh\",coordinates:[30.8069,76.8375],specialization:\"Bakery Items\",fssaiLicense:\"FSSAI-12345678907\",established:\"2021\",rating:4.3,totalOrders:420,products:[]}],Th=()=>{try{const{productDatabase:d}=require(\"./userDatabase\"),h=d.getAllProducts();console.log(\"Dynamic products from productDatabase:\",h);const l=[];Cu.forEach(g=>{g.products.forEach(_=>{l.push({..._,supplierId:g.id,supplierName:g.businessName,supplierLocation:g.location,supplierRating:g.rating,supplierPhone:g.phone,fssaiVerified:!0,organic:g.specialization.toLowerCase().includes(\"organic\"),deliveryTime:\"2-4 hours\",minimumOrder:100})})});const m=[...h,...l];return console.log(\"All products combined:\",m),m}catch(d){return console.error(\"Error in getAllSupplierProducts:\",d),[]}},wp=d=>Cu.find(h=>h.email===d),jl=(d,h,l)=>{const m=[];if(l===0)return m;let g=[];try{const{productDatabase:R}=require(\"./userDatabase\");g=R.getAllProducts()}catch(R){console.warn(\"Could not load real products:\",R)}const _=R=>R<7?0:R===7?1:R===8?2:R===9?3:R===10?5:R<=12?8:R<=15?12:R<=18?16:R<=20?20:R<=22?24:(R<=25,30),y=R=>({Tomatoes:\"ðŸ…\",Onions:\"ðŸ§…\",Potatoes:\"ðŸ¥”\",Carrots:\"ðŸ¥•\",Spinach:\"ðŸ¥¬\",Kale:\"ðŸ¥¬\",Lettuce:\"ðŸ¥¬\",Cabbage:\"ðŸ¥¬\",Apples:\"ðŸŽ\",Bananas:\"ðŸŒ\",Oranges:\"ðŸŠ\",Grapes:\"ðŸ‡\",Milk:\"ðŸ¥›\",Yogurt:\"ðŸ¥›\",Cheese:\"ðŸ§€\",Butter:\"ðŸ§ˆ\",Rice:\"ðŸš\",Wheat:\"ðŸŒ¾\",Pulses:\"ðŸ«˜\",Flour:\"ðŸŒ¾\",Chicken:\"ðŸ—\",Fish:\"ðŸŸ\",Eggs:\"ðŸ¥š\",Meat:\"ðŸ¥©\",Honey:\"ðŸ¯\",Jams:\"ðŸ¯\",Pickles:\"ðŸ¥’\",Sauces:\"ðŸ¥«\",Ginger:\"ðŸ«˜\",Garlic:\"ðŸ§„\",Coriander:\"ðŸŒ¿\",Mint:\"ðŸŒ±\",Nuts:\"ðŸ¥œ\",\"Dry Fruits\":\"ðŸ‡\",Seeds:\"ðŸŒ±\",Oils:\"ðŸ«—\",Bread:\"ðŸž\",Cakes:\"ðŸ°\",Cookies:\"ðŸª\",Pastries:\"ðŸ¥\"})[R]||\"ðŸ¥¬\",S=[\"Fresh Farms\",\"Green Valley\",\"Organic Harvest\",\"Farm Direct\",\"Local Produce Co.\",\"Nature Fresh\",\"Eco Farms\",\"Pure Greens\",\"Healthy Harvest\",\"Garden Fresh\",\"Farm to Table\",\"Green Earth\",\"Organic Plus\",\"Fresh Choice\",\"Natural Farms\",\"Veggie Paradise\",\"Harvest Hub\",\"Fresh Market\",\"Organic Oasis\",\"Green Grocer\",\"Farm Fresh\",\"Village Veggies\",\"Organic Corner\",\"Fresh & Pure\",\"Green Market\",\"Harvest Time\",\"Organic World\",\"Fresh Daily\",\"Green Paradise\",\"Farm Market\",\"Veggie Valley\",\"Organic Express\",\"Fresh Hub\",\"Green Corner\",\"Harvest Fresh\",\"Organic Market\",\"Fresh Paradise\",\"Green Harvest\",\"Farm Oasis\",\"Veggie Hub\"],N=[[\"Tomatoes\",\"Onions\",\"Potatoes\",\"Carrots\"],[\"Spinach\",\"Kale\",\"Lettuce\",\"Cabbage\"],[\"Apples\",\"Bananas\",\"Oranges\",\"Grapes\"],[\"Milk\",\"Yogurt\",\"Cheese\",\"Butter\"],[\"Rice\",\"Wheat\",\"Pulses\",\"Flour\"],[\"Chicken\",\"Fish\",\"Eggs\",\"Meat\"],[\"Honey\",\"Jams\",\"Pickles\",\"Sauces\"],[\"Ginger\",\"Garlic\",\"Coriander\",\"Mint\"],[\"Nuts\",\"Dry Fruits\",\"Seeds\",\"Oils\"],[\"Bread\",\"Cakes\",\"Cookies\",\"Pastries\"]],O={};g.forEach(R=>{O[R.supplierId]||(O[R.supplierId]=[]),O[R.supplierId].push({name:R.name,price:`â‚¹${R.price}/${R.unit||\"kg\"}`,image:R.image||y(R.name)})}),Cu.forEach(R=>{const z=ro(d,h,R.coordinates[0],R.coordinates[1]);if(z<=l){const Q=O[R.id]||[];m.push({id:R.id,name:R.businessName,coordinates:R.coordinates,distance:z,rating:R.rating,price:Q.length>0?Q[0].price:\"â‚¹50/kg\",products:Q.length>0?Q:[{name:\"Fresh Produce\",price:\"â‚¹50/kg\",image:y(\"Fresh Produce\")}],organic:R.specialization.toLowerCase().includes(\"organic\"),fssaiVerified:!0,trustScore:Math.floor(R.rating*20),location:R.location,address:`${R.businessName}, ${R.location}`,lastActive:\"Just now\",deliveryTime:\"2-4 hours\",minimumOrder:\"â‚¹200\",paymentMethods:[\"Cash\",\"UPI\",\"Card\"],specialOffers:[\"Direct from supplier\"],supplierType:\"Verified Supplier\"})}});const I=[{name:\"Sector 1, Chandigarh\",lat:30.7569,lng:76.7875},{name:\"Sector 2, Chandigarh\",lat:30.7589,lng:76.7895},{name:\"Sector 3, Chandigarh\",lat:30.7609,lng:76.7915},{name:\"Sector 4, Chandigarh\",lat:30.7629,lng:76.7935},{name:\"Sector 5, Chandigarh\",lat:30.7649,lng:76.7955},{name:\"Sector 6, Chandigarh\",lat:30.7669,lng:76.7975},{name:\"Sector 7, Chandigarh\",lat:30.7689,lng:76.7995},{name:\"Sector 8, Chandigarh\",lat:30.7709,lng:76.8015},{name:\"Sector 9, Chandigarh\",lat:30.7729,lng:76.8035},{name:\"Sector 10, Chandigarh\",lat:30.7749,lng:76.8055},{name:\"Sector 11, Chandigarh\",lat:30.7769,lng:76.8075},{name:\"Sector 12, Chandigarh\",lat:30.7789,lng:76.8095},{name:\"Sector 13, Chandigarh\",lat:30.7809,lng:76.8115},{name:\"Sector 14, Chandigarh\",lat:30.7829,lng:76.8135},{name:\"Sector 15, Chandigarh\",lat:30.7849,lng:76.8155},{name:\"Sector 16, Chandigarh\",lat:30.7869,lng:76.8175},{name:\"Sector 17, Chandigarh\",lat:30.7889,lng:76.8195},{name:\"Sector 18, Chandigarh\",lat:30.7909,lng:76.8215},{name:\"Sector 19, Chandigarh\",lat:30.7929,lng:76.8235},{name:\"Sector 20, Chandigarh\",lat:30.7949,lng:76.8255},{name:\"Sector 21, Chandigarh\",lat:30.7969,lng:76.8275},{name:\"Sector 22, Chandigarh\",lat:30.7989,lng:76.8295},{name:\"Sector 23, Chandigarh\",lat:30.8009,lng:76.8315},{name:\"Sector 24, Chandigarh\",lat:30.8029,lng:76.8335},{name:\"Sector 25, Chandigarh\",lat:30.8049,lng:76.8355},{name:\"Sector 26, Chandigarh\",lat:30.8069,lng:76.8375},{name:\"Sector 27, Chandigarh\",lat:30.8089,lng:76.8395},{name:\"Sector 28, Chandigarh\",lat:30.8109,lng:76.8415},{name:\"Sector 29, Chandigarh\",lat:30.8129,lng:76.8435},{name:\"Sector 30, Chandigarh\",lat:30.8149,lng:76.8455},{name:\"Sector 31, Chandigarh\",lat:30.8169,lng:76.8475},{name:\"Sector 32, Chandigarh\",lat:30.8189,lng:76.8495},{name:\"Sector 33, Chandigarh\",lat:30.8209,lng:76.8515},{name:\"Sector 34, Chandigarh\",lat:30.8229,lng:76.8535},{name:\"Sector 35, Chandigarh\",lat:30.8249,lng:76.8555},{name:\"Sector 36, Chandigarh\",lat:30.8269,lng:76.8575},{name:\"Sector 37, Chandigarh\",lat:30.8289,lng:76.8595},{name:\"Sector 38, Chandigarh\",lat:30.8309,lng:76.8615},{name:\"Sector 39, Chandigarh\",lat:30.8329,lng:76.8635},{name:\"Sector 40, Chandigarh\",lat:30.8349,lng:76.8655},{name:\"Sector 41, Chandigarh\",lat:30.8369,lng:76.8675},{name:\"Sector 42, Chandigarh\",lat:30.8389,lng:76.8695},{name:\"Sector 43, Chandigarh\",lat:30.8409,lng:76.8715},{name:\"Sector 44, Chandigarh\",lat:30.8429,lng:76.8735},{name:\"Sector 45, Chandigarh\",lat:30.8449,lng:76.8755},{name:\"Sector 46, Chandigarh\",lat:30.8469,lng:76.8775},{name:\"Sector 47, Chandigarh\",lat:30.8489,lng:76.8795},{name:\"Industrial Area, Chandigarh\",lat:30.7509,lng:76.7815},{name:\"Industrial Area Phase 1, Chandigarh\",lat:30.7529,lng:76.7835},{name:\"Industrial Area Phase 2, Chandigarh\",lat:30.7549,lng:76.7855},{name:\"Manimajra, Chandigarh\",lat:30.7569,lng:76.7875},{name:\"Burail, Chandigarh\",lat:30.7589,lng:76.7895},{name:\"Maloya, Chandigarh\",lat:30.7609,lng:76.7915},{name:\"Dhanas, Chandigarh\",lat:30.7629,lng:76.7935},{name:\"Kajheri, Chandigarh\",lat:30.7649,lng:76.7955},{name:\"Palsora, Chandigarh\",lat:30.7669,lng:76.7975},{name:\"Hallomajra, Chandigarh\",lat:30.7689,lng:76.7995},{name:\"Raipur Khurd, Chandigarh\",lat:30.7709,lng:76.8015},{name:\"Raipur Kalan, Chandigarh\",lat:30.7729,lng:76.8035},{name:\"Kaimbwala, Chandigarh\",lat:30.7749,lng:76.8055},{name:\"Kharar, Punjab\",lat:30.7769,lng:76.8075},{name:\"Mohali, Punjab\",lat:30.7789,lng:76.8095},{name:\"Panchkula, Haryana\",lat:30.7809,lng:76.8115},{name:\"Zirakpur, Punjab\",lat:30.7829,lng:76.8135},{name:\"Dera Bassi, Punjab\",lat:30.7849,lng:76.8155},{name:\"Banur, Punjab\",lat:30.7869,lng:76.8175},{name:\"Kurali, Punjab\",lat:30.7889,lng:76.8195},{name:\"Morinda, Punjab\",lat:30.7909,lng:76.8215},{name:\"Pinjore, Haryana\",lat:30.7929,lng:76.8235},{name:\"Barwala, Haryana\",lat:30.7949,lng:76.8255}],b=[];for(let R=0;R<50;R++){const z=I[R%I.length],Q=Math.random()*2*Math.PI,B=7+R/50*18,$=B/111*Math.cos(Q),D=B/(111*Math.cos(d*Math.PI/180))*Math.sin(Q),A=d+$+(Math.random()-.5)*.01,ee=h+D+(Math.random()-.5)*.01,ue=ro(d,h,A,ee);{const rt=N[R%N.length].map(K=>({name:K,price:`â‚¹${Math.floor(Math.random()*50+20)}/kg`,image:y(K)})),Y=Math.floor(Math.random()*100+20),me=[\"kg\",\"dozen\",\"pack\",\"bundle\",\"piece\"][Math.floor(Math.random()*5)],Ie=(Math.random()*2+3).toFixed(1),Ue=Math.floor(Math.random()*30+65),Ze=[\"Just now\",\"5 minutes ago\",\"15 minutes ago\",\"30 minutes ago\",\"1 hour ago\",\"2 hours ago\",\"3 hours ago\",\"4 hours ago\",\"6 hours ago\",\"8 hours ago\",\"12 hours ago\",\"1 day ago\"],de=Ze[Math.floor(Math.random()*Ze.length)],ke=z.name,ce=[\"Main Road\",\"Station Road\",\"Market Street\",\"Gandhi Road\",\"Nehru Marg\",\"Church Street\",\"Temple Road\",\"School Lane\",\"Hospital Road\",\"Park Street\",\"Railway Road\",\"Bus Stand Road\",\"Police Station Road\",\"Post Office Road\",\"Bank Street\",\"College Road\",\"University Road\",\"Airport Road\",\"Harbor Road\"],C=ce[Math.floor(Math.random()*ce.length)],se=Math.floor(Math.random()*999+1);b.push({id:`demo_${R+1}`,name:`${S[R]} (Demo Supplier)`,coordinates:[A,ee],distance:ue,rating:Ie,price:`â‚¹${Y}/${me}`,products:rt,organic:Math.random()>.4,fssaiVerified:Math.random()>.2,trustScore:Ue,location:ke,address:`${se}, ${C}, ${ke} - ${Math.floor(ue*1e3)}m from your location`,lastActive:de,deliveryTime:`${Math.floor(Math.random()*3+1)}-${Math.floor(Math.random()*2+4)} hours`,minimumOrder:`â‚¹${Math.floor(Math.random()*200+100)}`,paymentMethods:[\"Cash\",\"UPI\",\"Card\"][Math.floor(Math.random()*3)],specialOffers:Math.random()>.6?[\"10% off on first order\",\"Free delivery above â‚¹500\"][Math.floor(Math.random()*2)]:[],supplierType:[\"Individual Farmer\",\"Cooperative\",\"Wholesaler\",\"Retailer\"][Math.floor(Math.random()*4)]})}}const V=b.filter(R=>R.distance<=l).sort((R,z)=>R.distance-z.distance),G=_(l),J=V.slice(0,G);return m.push(...J),m},ro=(d,h,l,m)=>{const _=(l-d)*Math.PI/180,y=(m-h)*Math.PI/180,S=Math.sin(_/2)*Math.sin(_/2)+Math.cos(d*Math.PI/180)*Math.cos(l*Math.PI/180)*Math.sin(y/2)*Math.sin(y/2);return 6371*(2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S)))},Np=(d,h)=>\"default\",bp=\"modulepreload\",jp=function(d){return\"/\"+d},Mh={},Ni=function(h,l,m){let g=Promise.resolve();if(l&&l.length>0){let N=function(O){return Promise.all(O.map(I=>Promise.resolve(I).then(b=>({status:\"fulfilled\",value:b}),b=>({status:\"rejected\",reason:b}))))};document.getElementsByTagName(\"link\");const y=document.querySelector(\"meta[property=csp-nonce]\"),S=y?.nonce||y?.getAttribute(\"nonce\");g=N(l.map(O=>{if(O=jp(O),O in Mh)return;Mh[O]=!0;const I=O.endsWith(\".css\"),b=I?'[rel=\"stylesheet\"]':\"\";if(document.querySelector(`link[href=\"${O}\"]${b}`))return;const V=document.createElement(\"link\");if(V.rel=I?\"stylesheet\":bp,I||(V.as=\"script\"),V.crossOrigin=\"\",V.href=O,S&&V.setAttribute(\"nonce\",S),document.head.appendChild(V),I)return new Promise((G,J)=>{V.addEventListener(\"load\",G),V.addEventListener(\"error\",()=>J(new Error(`Unable to preload CSS for ${O}`)))})}))}function _(y){const S=new Event(\"vite:preloadError\",{cancelable:!0});if(S.payload=y,window.dispatchEvent(S),!S.defaultPrevented)throw y}return g.then(y=>{for(const S of y||[])S.status===\"rejected\"&&_(S.reason);return h().catch(_)})};class Sp{constructor(){this.listeners=new Map,this.setupStorageListener()}setupStorageListener(){window.addEventListener(\"storage\",h=>{if(h.key&&h.key.startsWith(\"vendorMitra_sync_\")){const l=h.key.replace(\"vendorMitra_sync_\",\"\"),m=h.newValue?JSON.parse(h.newValue):null;this.listeners.has(l)&&this.listeners.get(l).forEach(g=>g(m))}})}subscribe(h,l){return this.listeners.has(h)||this.listeners.set(h,new Set),this.listeners.get(h).add(l),()=>{this.listeners.has(h)&&this.listeners.get(h).delete(l)}}emit(h,l){const m=`vendorMitra_sync_${h}`,g=JSON.stringify({...l,timestamp:Date.now(),id:Math.random().toString(36).substr(2,9)});localStorage.setItem(m,g),setTimeout(()=>{localStorage.removeItem(m)},1e3)}emitProductUpdate(h,l){this.emit(\"product_update\",{action:h,product:l,supplierId:l.supplierId})}emitBargainUpdate(h,l){this.emit(\"bargain_update\",{action:h,bargain:l,supplierId:l.supplierId,vendorId:l.vendorId})}emitFlashSaleUpdate(h,l){this.emit(\"flash_sale_update\",{action:h,flashSale:l,supplierId:l.supplierId})}emitReviewUpdate(h,l){this.emit(\"review_update\",{action:h,review:l,supplierId:l.supplierId,vendorId:l.vendorId})}emitDeliveryUpdate(h,l){this.emit(\"delivery_update\",{action:h,delivery:l,supplierId:l.supplierId,vendorId:l.customerId})}emitStockUpdate(h,l){this.emit(\"stock_update\",{action:h,...l})}emitOrderUpdate(h,l){this.emit(\"order_update\",{action:h,...l})}}const sr=new Sp,ft={subscribe:(d,h)=>sr.subscribe(d,h),emit:(d,h)=>sr.emit(d,h),emitStockUpdate:d=>{sr.emit(\"stock_update\",d)},subscribeToStockUpdates:d=>sr.subscribe(\"stock_update\",d),emitProductUpdate:d=>{sr.emit(\"product_update\",d)},subscribeToProductUpdates:d=>sr.subscribe(\"product_update\",d),emitBargainUpdate:d=>{sr.emit(\"bargain_update\",d)},subscribeToBargainUpdates:d=>sr.subscribe(\"bargain_update\",d),decreaseStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:I}=await Promise.resolve().then(()=>rs);return{productDatabase:I}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:\"Product not found\",data:null};const _=parseInt(g.stock||g.quantity||0),y=parseInt(h||0);if(y<=0)return{success:!1,error:\"Invalid quantity to decrease\",data:null};if(_<y)return{success:!1,error:`Insufficient stock. Available: ${_}, Requested: ${y}`,data:{availableStock:_}};const S=Math.max(0,_-y),N={...g,stock:S,quantity:S,updatedAt:new Date().toISOString()};return m.updateProduct(d,N)?(sr.emitStockUpdate(\"purchase\",{productId:d,previousStock:_,newStock:S,quantityPurchased:y,product:N,vendorId:l.vendorId,orderId:l.orderId,timestamp:Date.now()}),{success:!0,data:{product:N,stock:S,newStock:S,previousStock:_,quantityPurchased:y}}):{success:!1,error:\"Failed to update product stock\",data:null}}catch(m){return console.error(\"Error decreasing stock:\",m),{success:!1,error:m.message||\"Unknown error occurred\",data:null}}},increaseStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:I}=await Promise.resolve().then(()=>rs);return{productDatabase:I}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:\"Product not found\",data:null};const _=parseInt(g.stock||g.quantity||0),y=parseInt(h||0);if(y<=0)return{success:!1,error:\"Invalid quantity to increase\",data:null};const S=_+y,N={...g,stock:S,quantity:S,updatedAt:new Date().toISOString()};return m.updateProduct(d,N)?(sr.emitStockUpdate(\"restock\",{productId:d,previousStock:_,newStock:S,quantityAdded:y,product:N,supplierId:l.supplierId,timestamp:Date.now()}),{success:!0,data:{product:N,stock:S,newStock:S,previousStock:_,quantityAdded:y}}):{success:!1,error:\"Failed to update product stock\",data:null}}catch(m){return console.error(\"Error increasing stock:\",m),{success:!1,error:m.message||\"Unknown error occurred\",data:null}}},setStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:O}=await Promise.resolve().then(()=>rs);return{productDatabase:O}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:\"Product not found\",data:null};const _=parseInt(g.stock||g.quantity||0),y=Math.max(0,parseInt(h||0)),S={...g,stock:y,quantity:y,updatedAt:new Date().toISOString()};return m.updateProduct(d,S)?(sr.emitStockUpdate(\"update\",{productId:d,previousStock:_,newStock:y,stockChange:y-_,product:S,supplierId:l.supplierId,timestamp:Date.now()}),{success:!0,data:{product:S,stock:y,newStock:y,previousStock:_,stockChange:y-_}}):{success:!1,error:\"Failed to update product stock\",data:null}}catch(m){return console.error(\"Error setting stock:\",m),{success:!1,error:m.message||\"Unknown error occurred\",data:null}}},getStock:async d=>{try{const{productDatabase:h}=await Ni(async()=>{const{productDatabase:g}=await Promise.resolve().then(()=>rs);return{productDatabase:g}},void 0),l=h.getProductById(d);if(!l)return{success:!1,error:\"Product not found\",data:null};const m=parseInt(l.stock||l.quantity||0);return{success:!0,data:{productId:d,stock:m,product:l}}}catch(h){return console.error(\"Error getting stock:\",h),{success:!1,error:h.message||\"Unknown error occurred\",data:null}}},checkStockAvailability:async(d,h)=>{try{const{productDatabase:l}=await Ni(async()=>{const{productDatabase:S}=await Promise.resolve().then(()=>rs);return{productDatabase:S}},void 0),m=l.getProductById(d);if(!m)return{success:!1,error:\"Product not found\",data:null};const g=parseInt(m.stock||m.quantity||0),_=parseInt(h||0),y=g>=_;return{success:!0,data:{productId:d,currentStock:g,requestedQuantity:_,isAvailable:y,shortfall:y?0:_-g,product:m}}}catch(l){return console.error(\"Error checking stock availability:\",l),{success:!1,error:l.message||\"Unknown error occurred\",data:null}}}},ia=[{id:1,name:\"Manya\",email:\"manya@gmail.com\",phone:\"1234567890\",password:\"manya123\",userType:\"vendor\",type:\"vendor\",trustScore:85,fssaiVerified:!0,location:\"Mumbai\"},{id:2,name:\"Sakshi\",email:\"sakshi07@gmail.com\",phone:\"0987654321\",password:\"sakshi123\",userType:\"supplier\",type:\"supplier\",trustScore:92,fssaiVerified:!0,location:\"Navi Mumbai\"}];ia.push({id:3,name:\"Ravi Kumar\",email:\"ravi.kumar@gmail.com\",phone:\"9876543210\",password:\"ravi123\",userType:\"supplier\",type:\"supplier\",trustScore:80,fssaiVerified:!0,location:\"Delhi\"},{id:4,name:\"Priya Singh\",email:\"priya.singh@gmail.com\",phone:\"9123456780\",password:\"priya123\",userType:\"supplier\",type:\"supplier\",trustScore:88,fssaiVerified:!0,location:\"Bangalore\"},{id:5,name:\"Amit Patel\",email:\"amit.patel@gmail.com\",phone:\"9988776655\",password:\"amit123\",userType:\"supplier\",type:\"supplier\",trustScore:75,fssaiVerified:!1,location:\"Ahmedabad\"});ia.push({id:6,name:\"Sunita Sharma\",email:\"sunita.sharma@gmail.com\",phone:\"9001112233\",password:\"sunita123\",userType:\"supplier\",type:\"supplier\",trustScore:90,fssaiVerified:!0,location:\"Pune\"},{id:7,name:\"Deepak Joshi\",email:\"deepak.joshi@gmail.com\",phone:\"9002223344\",password:\"deepak123\",userType:\"supplier\",type:\"supplier\",trustScore:82,fssaiVerified:!1,location:\"Chennai\"},{id:8,name:\"Meena Gupta\",email:\"meena.gupta@gmail.com\",phone:\"9003334455\",password:\"meena123\",userType:\"supplier\",type:\"supplier\",trustScore:87,fssaiVerified:!0,location:\"Hyderabad\"});const Nt={reviews:[],addReview:d=>{const h={id:Date.now(),...d,date:new Date().toISOString().split(\"T\")[0],status:\"published\"};return Nt.reviews.push(h),localStorage.setItem(\"vendorMitraReviews\",JSON.stringify(Nt.reviews)),ft.emitReviewUpdate(\"add\",h),h},updateReview:(d,h)=>{const l=Nt.reviews.findIndex(m=>m.id===d);return l!==-1?(Nt.reviews[l]={...Nt.reviews[l],...h},localStorage.setItem(\"vendorMitraReviews\",JSON.stringify(Nt.reviews)),ft.emitReviewUpdate(\"update\",Nt.reviews[l]),Nt.reviews[l]):null},deleteReview:d=>{const h=Nt.reviews.findIndex(l=>l.id===d);return h!==-1?(Nt.reviews.splice(h,1),localStorage.setItem(\"vendorMitraReviews\",JSON.stringify(Nt.reviews)),!0):!1},getReviewsBySupplier:d=>Nt.reviews.filter(h=>Number(h.supplierId)===Number(d)),getReviewsByProduct:d=>Nt.reviews.filter(h=>h.productId===d),getAllReviews:()=>Nt.reviews,initialize:()=>{const d=localStorage.getItem(\"vendorMitraReviews\");d&&(Nt.reviews=JSON.parse(d))}},qe={flashSales:[],addFlashSale:d=>{const h={id:Date.now(),...d,sold:0,remainingStock:d.total||d.totalQuantity||0,status:\"active\",endTime:d.endTime||new Date(Date.now()+72e5).toISOString(),createdAt:new Date().toISOString().split(\"T\")[0]};return qe.flashSales.push(h),localStorage.setItem(\"vendorMitraFlashSales\",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate(\"create\",h),h},updateFlashSale:(d,h)=>{const l=qe.flashSales.findIndex(m=>m.id===d);return l!==-1?(qe.flashSales[l]={...qe.flashSales[l],...h},localStorage.setItem(\"vendorMitraFlashSales\",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate(\"update\",qe.flashSales[l]),qe.flashSales[l]):null},deleteFlashSale:d=>{const h=qe.flashSales.findIndex(l=>l.id===d);return h!==-1?(qe.flashSales.splice(h,1),localStorage.setItem(\"vendorMitraFlashSales\",JSON.stringify(qe.flashSales)),!0):!1},getFlashSalesBySupplier:d=>qe.flashSales.filter(h=>h.supplierId===d),getAllFlashSales:()=>qe.flashSales.filter(d=>d.status===\"active\"),getFlashSaleById:d=>qe.flashSales.find(h=>h.id===d),decreaseFlashSaleStock:(d,h)=>{const l=qe.flashSales.findIndex(m=>m.id===d);if(l!==-1){const m=qe.flashSales[l],g=m.remainingStock||m.total-m.sold;if(g<h)return console.error(`Insufficient flash sale stock. Available: ${g}, Requested: ${h}`),null;const _=m.sold+h,y=m.total-_;return qe.flashSales[l]={...m,sold:_,remainingStock:y},localStorage.setItem(\"vendorMitraFlashSales\",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate(\"stock_update\",qe.flashSales[l]),qe.flashSales[l]}return null},initialize:()=>{try{const d=localStorage.getItem(\"vendorMitraFlashSales\");if(d){qe.flashSales=JSON.parse(d);const h=new Date;qe.flashSales=qe.flashSales.filter(l=>new Date(l.endTime)>h&&l.status===\"active\"),localStorage.setItem(\"vendorMitraFlashSales\",JSON.stringify(qe.flashSales))}else qe.flashSales=[]}catch(d){console.error(\"Error initializing flash sales:\",d),qe.flashSales=[]}}},El={products:[],nextId:1,addProduct(d){const h={id:this.nextId++,...d,createdAt:new Date().toISOString()};return this.products.push(h),this.saveToStorage(),ft.emitProductUpdate(\"add\",h),h},updateProduct(d,h){const l=this.products.findIndex(m=>m.id===d);return l!==-1?(this.products[l]={...this.products[l],...h},this.saveToStorage(),ft.emitProductUpdate(\"update\",this.products[l]),this.products[l]):null},deleteProduct(d){const h=this.products.findIndex(l=>l.id===d);if(h!==-1){const l=this.products[h];return this.products.splice(h,1),this.saveToStorage(),ft.emitProductUpdate(\"delete\",l),!0}return!1},saveToStorage(){localStorage.setItem(\"vendorMitraProducts\",JSON.stringify(this.products))},getProductById(d){return this.products.find(h=>h.id===d)},getProductsBySupplier(d){return this.products.filter(h=>h.supplierId===d)},getProductsByCategory(d){return this.products.filter(h=>h.category===d)},getAllProducts(){return this.products},decreaseStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0;if(m<h)return console.error(`Insufficient stock. Available: ${m}, Requested: ${h}`),null;const g=Math.max(0,m-h),_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock decreased for ${l.name}: ${m} -> ${g} (${h} units purchased)`),_},increaseStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0,g=m+h,_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock increased for ${l.name}: ${m} -> ${g} (${h} units added)`),_},setStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0,g=Math.max(0,parseInt(h||0)),_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock set for ${l.name}: ${m} -> ${g}`),_},getAvailableStock(d){const h=this.getProductById(d);return h?parseInt(h.stock||h.quantity||0):0},checkStockAvailability(d,h){const l=this.getProductById(d);if(!l)return{available:!1,error:\"Product not found\"};const m=this.getAvailableStock(d),g=parseInt(h||0);return{available:m>=g,currentStock:m,requestedQuantity:g,shortfall:Math.max(0,g-m),product:l}},getStockStatus(d){const h=this.getProductById(d);if(!h)return\"unknown\";const l=this.getAvailableStock(d),m=h.lowStockThreshold||10;return l===0?\"out_of_stock\":l<=m?\"low_stock\":\"in_stock\"},batchUpdateStock(d){const h=[];for(const l of d)try{let m=null;switch(l.operation){case\"decrease\":m=this.decreaseStock(l.productId,l.quantity);break;case\"increase\":m=this.increaseStock(l.productId,l.quantity);break;case\"set\":m=this.setStock(l.productId,l.quantity);break;default:console.error(`Unknown operation: ${l.operation}`)}h.push({productId:l.productId,success:m!==null,result:m})}catch(m){h.push({productId:l.productId,success:!1,error:m.message})}return h},initialize(){const d=localStorage.getItem(\"vendorMitraProducts\");d&&(this.products=JSON.parse(d),this.nextId=Math.max(...this.products.map(h=>h.id),0)+1)}},ut={bargains:[],addBargain:d=>{const h={id:Date.now(),...d,messages:d.messages||[],status:\"open\"};return ut.bargains.push(h),localStorage.setItem(\"vendorMitraBargains\",JSON.stringify(ut.bargains)),ft.emitBargainUpdate(\"create\",h),h},addMessage:(d,h)=>{const l=ut.bargains.find(m=>m.id===d);if(l){if(l.messages.push({...h,timestamp:new Date().toISOString()}),localStorage.setItem(\"vendorMitraBargains\",JSON.stringify(ut.bargains)),ft.emitBargainUpdate(\"message\",l),h.sender===\"vendor\"&&[3,4,5].includes(l.supplierId)){const m=h.offer||0,g=.7*(l.productName.toLowerCase().includes(\"potato\")?25:30);let _=m*1.1;_<g&&(_=g),m<100&&setTimeout(()=>{l.messages.push({sender:\"supplier\",offer:Math.round(_),message:\"Best I can do is â‚¹\"+Math.round(_),timestamp:new Date().toISOString()}),localStorage.setItem(\"vendorMitraBargains\",JSON.stringify(ut.bargains)),ft.emitBargainUpdate(\"message\",l)},1200)}return l}return null},updateBargain:(d,h)=>{const l=ut.bargains.findIndex(m=>m.id===d);return l!==-1?(ut.bargains[l]={...ut.bargains[l],...h},localStorage.setItem(\"vendorMitraBargains\",JSON.stringify(ut.bargains)),ut.bargains[l]):null},getBargainsBySupplier:d=>ut.bargains.filter(h=>h.supplierId===d),getBargainsByVendor:d=>ut.bargains.filter(h=>h.vendorId===d),getBargainById:d=>ut.bargains.find(h=>h.id===d),getAllBargains:()=>ut.bargains,initialize:()=>{const d=localStorage.getItem(\"vendorMitraBargains\");d&&(ut.bargains=JSON.parse(d))}},Ct={collabOrders:[],addCollabOrder:d=>{const h={id:Date.now(),...d,status:\"open\",createdAt:new Date().toISOString()};return Ct.collabOrders.push(h),localStorage.setItem(\"vendorMitraCollabOrders\",JSON.stringify(Ct.collabOrders)),h},updateCollabOrder:(d,h)=>{const l=Ct.collabOrders.findIndex(m=>m.id===d);return l!==-1?(Ct.collabOrders[l]={...Ct.collabOrders[l],...h},localStorage.setItem(\"vendorMitraCollabOrders\",JSON.stringify(Ct.collabOrders)),Ct.collabOrders[l]):null},deleteCollabOrder:d=>{const h=Ct.collabOrders.findIndex(l=>l.id===d);return h!==-1?(Ct.collabOrders.splice(h,1),localStorage.setItem(\"vendorMitraCollabOrders\",JSON.stringify(Ct.collabOrders)),!0):!1},getCollabOrdersBySupplier:d=>Ct.collabOrders.filter(h=>Number(h.supplierId)===Number(d)),getCollabOrdersByVendor:d=>Ct.collabOrders.filter(h=>h.vendors.some(l=>Number(l.vendorId)===Number(d))),getAllCollabOrders:()=>Ct.collabOrders,initialize:()=>{const d=localStorage.getItem(\"vendorMitraCollabOrders\");d&&(Ct.collabOrders=JSON.parse(d))}};Ct.initialize();const tf=(d,h)=>{const l=ia.find(g=>g.email===d&&g.password===h);if(l)return l;const m=wp(d);return m&&m.password===h?{id:m.id,name:m.name,email:m.email,phone:m.phone,userType:\"supplier\",type:\"supplier\",businessName:m.businessName,location:m.location,specialization:m.specialization,fssaiLicense:m.fssaiLicense,rating:m.rating,trustScore:Math.floor(m.rating*20),fssaiVerified:!0}:null},nf=d=>{const h={id:ia.length+1,...d,trustScore:Math.floor(Math.random()*30)+70,fssaiVerified:Math.random()>.5,location:\"Mumbai\"};return ia.push(h),h};Nt.initialize();qe.initialize();ut.initialize();El.initialize();const on={deliveries:[],addDelivery:d=>{const h={id:Date.now(),orderId:\"ORD\"+Math.floor(1e3+Math.random()*9e3),...d,status:\"in-transit\",deliveryDate:new Date(Date.now()+1728e5).toISOString().split(\"T\")[0]};return on.deliveries.push(h),localStorage.setItem(\"vendorMitraDeliveries\",JSON.stringify(on.deliveries)),h},getDeliveriesBySupplier:d=>on.deliveries.filter(h=>Number(h.supplierId)===Number(d)),getDeliveriesByVendor:d=>on.deliveries.filter(h=>Number(h.customerId)===Number(d)),getAllDeliveries:()=>on.deliveries,initialize:()=>{const d=localStorage.getItem(\"vendorMitraDeliveries\");d&&(on.deliveries=JSON.parse(d))}};on.deliveries=[];const kp=[{id:\"ORD-001\",customer:\"Manya\",customerId:1,supplier:\"Sakshi\",supplierId:1,products:[{id:1,name:\"Fresh Onions\",quantity:2,unit:\"kg\",price:30,image:\"https://images.unsplash.com/photo-1518977956812-cd3dbadaaf31?w=400&h=300&fit=crop\"},{id:2,name:\"Organic Carrots\",quantity:1,unit:\"kg\",price:40,image:\"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&h=300&fit=crop\"}],totalAmount:100,status:\"delivered\",paymentMethod:\"UPI\",deliveryAddress:\"123 Main Street, City\",deliveryDate:new Date(Date.now()-2880*60*1e3).toISOString().split(\"T\")[0],orderDate:new Date(Date.now()-4320*60*1e3).toISOString()},{id:\"ORD-002\",customer:\"Manya\",customerId:1,supplier:\"Rajesh\",supplierId:2,products:[{id:3,name:\"Basmati Rice\",quantity:5,unit:\"kg\",price:120,image:\"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop\"}],totalAmount:120,status:\"delivered\",paymentMethod:\"Cash\",deliveryAddress:\"123 Main Street, City\",deliveryDate:new Date(Date.now()-1440*60*1e3).toISOString().split(\"T\")[0],orderDate:new Date(Date.now()-2880*60*1e3).toISOString()},{id:\"ORD-003\",customer:\"Manya\",customerId:1,supplier:\"Priya\",supplierId:3,products:[{id:4,name:\"Fresh Tomatoes\",quantity:3,unit:\"kg\",price:60,image:\"https://images.unsplash.com/photo-1546470427-5c4a4b0b0b0b?w=400&h=300&fit=crop\"},{id:5,name:\"Green Bell Peppers\",quantity:1,unit:\"kg\",price:80,image:\"https://images.unsplash.com/photo-1563565375-f3fdfdbefa83?w=400&h=300&fit=crop\"}],totalAmount:140,status:\"delivered\",paymentMethod:\"UPI\",deliveryAddress:\"123 Main Street, City\",deliveryDate:new Date(Date.now()-7200*60*1e3).toISOString().split(\"T\")[0],orderDate:new Date(Date.now()-8640*60*1e3).toISOString()}];kp.forEach(d=>{on.deliveries.push(d)});localStorage.setItem(\"vendorMitraDeliveries\",JSON.stringify(on.deliveries));El.initialize();const rs=Object.freeze(Object.defineProperty({__proto__:null,authenticateUserOrSupplier:tf,bargainsDatabase:ut,collabOrdersDatabase:Ct,deliveriesDatabase:on,flashSalesDatabase:qe,productDatabase:El,registerUser:nf,reviewsDatabase:Nt,users:ia},Symbol.toStringTag,{value:\"Module\"})),rf=w.createContext(),ln=()=>{const d=w.useContext(rf);if(!d)throw new Error(\"useAuth must be used within an AuthProvider\");return d},Pp=({children:d})=>{const[h,l]=w.useState(null),[m,g]=w.useState(!0),[_,y]=w.useState(null);w.useEffect(()=>{const V=localStorage.getItem(\"vendorMitraUser\"),G=localStorage.getItem(\"vendorMitraUserType\");V&&(l(JSON.parse(V)),y(G)),g(!1)},[]);const b={user:h,userType:_,loading:m,login:async(V,G)=>{try{const J=tf(V,G);if(J)return l(J),y(J.userType),localStorage.setItem(\"vendorMitraUser\",JSON.stringify(J)),localStorage.setItem(\"vendorMitraUserType\",J.userType),{success:!0};throw new Error(\"Invalid credentials\")}catch(J){return{success:!1,error:J.message}}},register:async V=>{try{const G=nf(V);return l(G),y(G.userType),localStorage.setItem(\"vendorMitraUser\",JSON.stringify(G)),localStorage.setItem(\"vendorMitraUserType\",G.userType),{success:!0}}catch(G){return{success:!1,error:G.message}}},logout:()=>{l(null),y(null),localStorage.removeItem(\"vendorMitraUser\"),localStorage.removeItem(\"vendorMitraUserType\"),window.location.href=\"/\"},updateProfile:V=>{const G={...h,...V};l(G),localStorage.setItem(\"vendorMitraUser\",JSON.stringify(G))}};return r.jsx(rf.Provider,{value:b,children:d})},sf=w.createContext(),Cp=()=>{const d=w.useContext(sf);if(!d)throw new Error(\"useStats must be used within a StatsProvider\");return d},Lp=({children:d})=>{const[h,l]=w.useState({verifiedSuppliers:0,activeVendors:0,citiesCovered:0,averageRating:0});w.useEffect(()=>{const I=localStorage.getItem(\"vendorMitraStats\");I&&l(JSON.parse(I))},[]),w.useEffect(()=>{localStorage.setItem(\"vendorMitraStats\",JSON.stringify(h))},[h]);const O={stats:h,updateStats:I=>{l(b=>({...b,...I}))},addSupplier:()=>{l(I=>({...I,verifiedSuppliers:I.verifiedSuppliers+1}))},addVendor:()=>{l(I=>({...I,activeVendors:I.activeVendors+1}))},addCity:()=>{l(I=>({...I,citiesCovered:I.citiesCovered+1}))},addRating:I=>{l(b=>{const G=(b.averageRating*(b.verifiedSuppliers||1)+I)/(b.verifiedSuppliers+1);return{...b,averageRating:parseFloat(G.toFixed(1))}})},resetStats:()=>{l({verifiedSuppliers:0,activeVendors:0,citiesCovered:0,averageRating:0})}};return r.jsx(sf.Provider,{value:O,children:d})},af=w.createContext(),ds=()=>{const d=w.useContext(af);if(!d)throw new Error(\"useCart must be used within a CartProvider\");return console.log(\"useCart hook called, cart state:\",d.cart),d},Ep=({children:d})=>{const[h,l]=w.useState([]),m=I=>{console.log(\"CartContext: Adding item to cart:\",I),l(b=>{if(b.find(J=>J.id===I.id)){const J=b.map(R=>R.id===I.id?{...R,quantity:R.quantity+(I.quantity||1)}:R);return console.log(\"CartContext: Updated existing item, new cart:\",J),J}const G=[...b,{...I,quantity:I.quantity||1}];return console.log(\"CartContext: Added new item, new cart:\",G),G})},g=I=>{l(b=>b.filter(V=>V.id!==I))},O={cart:h,addToCart:m,removeFromCart:g,updateQuantity:(I,b)=>{if(b<=0){g(I);return}l(V=>V.map(G=>G.id===I?{...G,quantity:b}:G))},clearCart:()=>{l([])},getCartTotal:()=>h.reduce((I,b)=>{const V=typeof b.price==\"string\"?parseInt(b.price.replace(/[^\\d]/g,\"\")):b.price;return I+V*b.quantity},0),getCartCount:()=>h.reduce((I,b)=>I+b.quantity,0)};return r.jsx(af.Provider,{value:O,children:d})};class Ip{constructor(){this.baseUrl=\"/api/products\",this.storageKey=\"vendorMitraProducts\",this.initialize()}initialize(){if(!localStorage.getItem(this.storageKey)){const l=[{id:1,name:\"Red Onions\",price:30,quantity:75,stock:75,unit:\"kg\",supplierId:2,supplierName:\"Farm Fresh Co\",supplierRating:4.2,category:\"vegetables\",description:\"Premium red onions from Farm Fresh Co\",isOrganic:!1,image:\"https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop\",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];localStorage.setItem(this.storageKey,JSON.stringify(l))}}async delay(h=100){return new Promise(l=>setTimeout(l,h))}async getAllProducts(){await this.delay();try{const h=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),l=h.filter((m,g,_)=>g===_.findIndex(y=>y.id===m.id));return l.length!==h.length&&(console.log(`Removed ${h.length-l.length} duplicate products from storage`),localStorage.setItem(this.storageKey,JSON.stringify(l))),{success:!0,data:l,message:\"Products fetched successfully\"}}catch(h){return{success:!1,data:[],message:\"Failed to fetch products\",error:h.message}}}async getProductById(h){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\").find(g=>g.id===h);return m?{success:!0,data:m,message:\"Product fetched successfully\"}:{success:!1,data:null,message:\"Product not found\"}}catch(l){return{success:!1,data:null,message:\"Failed to fetch product\",error:l.message}}}async getProductsBySupplier(h){await this.delay();try{return{success:!0,data:JSON.parse(localStorage.getItem(this.storageKey)||\"[]\").filter(g=>g.supplierId===h),message:\"Supplier products fetched successfully\"}}catch(l){return{success:!1,data:[],message:\"Failed to fetch supplier products\",error:l.message}}}async createProduct(h){await this.delay();try{const l=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),g={id:(l.length>0?Math.max(...l.map(_=>_.id)):0)+1,...h,image:h.image||\"https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop\",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return l.push(g),localStorage.setItem(this.storageKey,JSON.stringify(l)),this.emitProductUpdate(\"create\",g),{success:!0,data:g,message:\"Product created successfully\"}}catch(l){return{success:!1,data:null,message:\"Failed to create product\",error:l.message}}}async updateProduct(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),g=m.findIndex(_=>_.id===h);return g===-1?{success:!1,data:null,message:\"Product not found\"}:(m[g]={...m[g],...l,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate(\"update\",m[g]),{success:!0,data:m[g],message:\"Product updated successfully\"})}catch(m){return{success:!1,data:null,message:\"Failed to update product\",error:m.message}}}async deleteProduct(h){await this.delay();try{const l=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),m=l.findIndex(_=>_.id===h);if(m===-1)return{success:!1,data:null,message:\"Product not found\"};const g=l[m];return l.splice(m,1),localStorage.setItem(this.storageKey,JSON.stringify(l)),console.log(\"Emitting delete event for product:\",g.id),this.emitProductUpdate(\"delete\",g),{success:!0,data:g,message:\"Product deleted successfully\"}}catch(l){return{success:!1,data:null,message:\"Failed to delete product\",error:l.message}}}async decreaseStock(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),g=m.findIndex(N=>N.id===h);if(g===-1)return{success:!1,data:null,message:\"Product not found\"};const _=m[g],y=_.stock||_.quantity||0;if(y<l)return{success:!1,data:null,message:`Insufficient stock. Available: ${y}, Requested: ${l}`};const S=y-l;return m[g]={..._,stock:S,quantity:S,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate(\"stock_update\",{...m[g],newStock:S}),{success:!0,data:m[g],message:`Stock decreased by ${l}. New stock: ${S}`}}catch(m){return{success:!1,data:null,message:\"Failed to decrease stock\",error:m.message}}}async increaseStock(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\"),g=m.findIndex(N=>N.id===h);if(g===-1)return{success:!1,data:null,message:\"Product not found\"};const _=m[g],S=(_.stock||_.quantity||0)+l;return m[g]={..._,stock:S,quantity:S,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate(\"stock_update\",{...m[g],newStock:S}),{success:!0,data:m[g],message:`Stock increased by ${l}. New stock: ${S}`}}catch(m){return{success:!1,data:null,message:\"Failed to increase stock\",error:m.message}}}async getAvailableStock(h){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||\"[]\").find(g=>g.id===h);return m?{success:!0,data:{stock:m.stock||m.quantity||0},message:\"Stock fetched successfully\"}:{success:!1,data:{stock:0},message:\"Product not found\"}}catch(l){return{success:!1,data:{stock:0},message:\"Failed to fetch stock\",error:l.message}}}emitProductUpdate(h,l){const m=new CustomEvent(\"productUpdate\",{detail:{action:h,product:l,timestamp:Date.now()}});window.dispatchEvent(m);const g=`vendorMitra_sync_product_${Date.now()}`;localStorage.setItem(g,JSON.stringify({action:h,product:l,timestamp:Date.now()})),setTimeout(()=>{localStorage.removeItem(g)},1e3)}subscribeToUpdates(h){const l=g=>{console.log(\"ProductAPI subscription received event:\",g.detail),h(g.detail)},m=g=>{if(g.key&&g.key.startsWith(\"vendorMitra_sync_product_\")){const _=JSON.parse(g.newValue);console.log(\"ProductAPI storage sync received:\",_),h(_)}};return window.addEventListener(\"productUpdate\",l),window.addEventListener(\"storage\",m),()=>{window.removeEventListener(\"productUpdate\",l),window.removeEventListener(\"storage\",m)}}}const ns=new Ip,of=w.createContext(),Il=()=>{const d=w.useContext(of);if(!d)throw new Error(\"useProducts must be used within a ProductProvider\");return d},Tp=({children:d})=>{const[h,l]=w.useState([]),[m,g]=w.useState(!1),[_,y]=w.useState(null),S=async()=>{g(!0),y(null);try{const B=await ns.getAllProducts();if(B.success){const $=B.data.filter((D,A,ee)=>A===ee.findIndex(ue=>ue.id===D.id));console.log(\"Loading products with duplicate removal:\",$.length,\"unique products\"),l($),localStorage.setItem(\"vendorMitraProducts\",JSON.stringify($))}else y(B.message)}catch(B){y(\"Failed to load products\"),console.error(\"Error loading products:\",B)}finally{g(!1)}},N=async B=>{g(!0),y(null);try{const $=await ns.createProduct(B);return $.success?(l(D=>[...D,$.data]),$.data):(y($.message),null)}catch($){return y(\"Failed to add product\"),console.error(\"Error adding product:\",$),null}finally{g(!1)}},O=async(B,$)=>{g(!0),y(null);try{const D=await ns.updateProduct(B,$);return D.success?(l(A=>A.map(ee=>ee.id===B?D.data:ee)),D.data):(y(D.message),null)}catch(D){return y(\"Failed to update product\"),console.error(\"Error updating product:\",D),null}finally{g(!1)}},I=async B=>{g(!0),y(null);try{const $=await ns.deleteProduct(B);return $.success?(l(D=>D.filter(A=>A.id!==B)),!0):(y($.message),!1)}catch($){return y(\"Failed to delete product\"),console.error(\"Error deleting product:\",$),!1}finally{g(!1)}},b=B=>h.filter($=>$.supplierId===B),V=B=>h.filter($=>$.category?.toLowerCase()===B?.toLowerCase()),G=B=>{const $=B.toLowerCase();return h.filter(D=>D.name.toLowerCase().includes($)||D.description?.toLowerCase().includes($)||D.category?.toLowerCase().includes($)||D.supplierName?.toLowerCase().includes($))},J=async(B,$,D={})=>{try{const A=await ns.decreaseStock(B,$);if(A.success){if(l(ee=>ee.map(ue=>ue.id===B?{...ue,stock:A.data.stock,quantity:A.data.quantity}:ue)),D.vendorId&&D.deliveryAddress){const{updateProductStockAfterPurchase:ee}=await Ni(async()=>{const{updateProductStockAfterPurchase:ue}=await import(\"./purchaseHandler-C4lbH6d-.js\");return{updateProductStockAfterPurchase:ue}},[]);await ee(B,$,D)}return A}else return y(A.message),A}catch(A){return y(\"Failed to update stock\"),console.error(\"Error updating stock:\",A),{success:!1,data:null,message:\"Failed to update stock\",error:A.message}}},R=async(B,$)=>{try{const D=await ns.increaseStock(B,$);return D.success?(l(A=>A.map(ee=>ee.id===B?{...ee,stock:D.data.stock,quantity:D.data.quantity}:ee)),D):(y(D.message),D)}catch(D){return y(\"Failed to update stock\"),console.error(\"Error updating stock:\",D),{success:!1,data:null,message:\"Failed to update stock\",error:D.message}}},z=B=>{const $=h.find(D=>D.id===B);return $&&($.stock||$.quantity)||0};w.useEffect(()=>{const B=localStorage.getItem(\"vendorMitraProducts\");if(B)try{const $=JSON.parse(B);console.log(\"Loading products from localStorage:\",$.length,\"products\"),l($)}catch($){console.error(\"Error parsing saved products:\",$)}S()},[]),w.useEffect(()=>ns.subscribeToUpdates($=>{switch(console.log(\"Real-time product update received:\",$),$.action){case\"create\":l(D=>D.find(ee=>ee.id===$.product.id)?(console.log(\"Product already exists in context, skipping duplicate:\",$.product.id),D):(console.log(\"Adding new product to context:\",$.product.id),[...D,$.product]));break;case\"update\":l(D=>D.map(A=>A.id===$.product.id?$.product:A));break;case\"delete\":console.log(\"Deleting product from context:\",$.product.id),l(D=>{const A=D.filter(ee=>ee.id!==$.product.id);return console.log(\"Products after deletion:\",A.length),A});break;default:S()}}),[]);const Q={products:h,loading:m,error:_,loadProducts:S,addProduct:N,updateProduct:O,deleteProduct:I,getProductsBySupplier:b,getProductsByCategory:V,searchProducts:G,decreaseStock:J,increaseStock:R,getAvailableStock:z};return r.jsx(of.Provider,{value:Q,children:d})};var Mp={xmlns:\"http://www.w3.org/2000/svg\",width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:2,strokeLinecap:\"round\",strokeLinejoin:\"round\"};const Op=d=>d.replace(/([a-z0-9])([A-Z])/g,\"$1-$2\").toLowerCase(),Rp=(d,h)=>{const l=w.forwardRef(({color:m=\"currentColor\",size:g=24,strokeWidth:_=2,absoluteStrokeWidth:y,children:S,...N},O)=>w.createElement(\"svg\",{ref:O,...Mp,width:g,height:g,stroke:m,strokeWidth:y?Number(_)*24/Number(g):_,className:`lucide lucide-${Op(d)}`,...N},[...h.map(([I,b])=>w.createElement(I,b)),...(Array.isArray(S)?S:[S])||[]]));return l.displayName=`${d}`,l};var ze=Rp;const Oh=ze(\"AlertCircle\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"8\",y2:\"12\",key:\"1pkeuh\"}],[\"line\",{x1:\"12\",x2:\"12.01\",y1:\"16\",y2:\"16\",key:\"4dfq90\"}]]),zp=ze(\"AlertTriangle\",[[\"path\",{d:\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",key:\"c3ski4\"}],[\"path\",{d:\"M12 9v4\",key:\"juzpu7\"}],[\"path\",{d:\"M12 17h.01\",key:\"p32p05\"}]]),Rh=ze(\"ArrowLeft\",[[\"path\",{d:\"m12 19-7-7 7-7\",key:\"1l729n\"}],[\"path\",{d:\"M19 12H5\",key:\"x3x0zl\"}]]),lf=ze(\"Award\",[[\"circle\",{cx:\"12\",cy:\"8\",r:\"6\",key:\"1vp47v\"}],[\"path\",{d:\"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11\",key:\"em7aur\"}]]),Ap=ze(\"Banknote\",[[\"rect\",{width:\"20\",height:\"12\",x:\"2\",y:\"6\",rx:\"2\",key:\"9lu3g6\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"2\",key:\"1c9p78\"}],[\"path\",{d:\"M6 12h.01M18 12h.01\",key:\"113zkx\"}]]),kl=ze(\"BarChart3\",[[\"path\",{d:\"M3 3v18h18\",key:\"1s2lah\"}],[\"path\",{d:\"M18 17V9\",key:\"2bz60n\"}],[\"path\",{d:\"M13 17V5\",key:\"1frdt8\"}],[\"path\",{d:\"M8 17v-3\",key:\"17ska0\"}]]),cf=ze(\"Camera\",[[\"path\",{d:\"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",key:\"1tc9qg\"}],[\"circle\",{cx:\"12\",cy:\"13\",r:\"3\",key:\"1vg3eu\"}]]),ss=ze(\"CheckCircle\",[[\"path\",{d:\"M22 11.08V12a10 10 0 1 1-5.93-9.14\",key:\"g774vq\"}],[\"polyline\",{points:\"22 4 12 14.01 9 11.01\",key:\"6xbx8j\"}]]),Dp=ze(\"ChevronDown\",[[\"path\",{d:\"m6 9 6 6 6-6\",key:\"qrunsl\"}]]),Tl=ze(\"Clock\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"polyline\",{points:\"12 6 12 12 16 14\",key:\"68esgv\"}]]),pu=ze(\"CreditCard\",[[\"rect\",{width:\"20\",height:\"14\",x:\"2\",y:\"5\",rx:\"2\",key:\"ynyp8z\"}],[\"line\",{x1:\"2\",x2:\"22\",y1:\"10\",y2:\"10\",key:\"1b3vmo\"}]]),uf=ze(\"DollarSign\",[[\"line\",{x1:\"12\",x2:\"12\",y1:\"2\",y2:\"22\",key:\"7eqyqh\"}],[\"path\",{d:\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\",key:\"1b0p4s\"}]]),gu=ze(\"EyeOff\",[[\"path\",{d:\"M9.88 9.88a3 3 0 1 0 4.24 4.24\",key:\"1jxqfv\"}],[\"path\",{d:\"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68\",key:\"9wicm4\"}],[\"path\",{d:\"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61\",key:\"1jreej\"}],[\"line\",{x1:\"2\",x2:\"22\",y1:\"2\",y2:\"22\",key:\"a6p6uj\"}]]),xu=ze(\"Eye\",[[\"path\",{d:\"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\",key:\"rwhkz3\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",key:\"1v7zrd\"}]]),Lu=ze(\"Filter\",[[\"polygon\",{points:\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\",key:\"1yg77f\"}]]),Bp=ze(\"Globe\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"line\",{x1:\"2\",x2:\"22\",y1:\"12\",y2:\"12\",key:\"1dnqot\"}],[\"path\",{d:\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\",key:\"nb9nel\"}]]),Fp=ze(\"Home\",[[\"path\",{d:\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",key:\"y5dka4\"}],[\"polyline\",{points:\"9 22 9 12 15 12 15 22\",key:\"e2us08\"}]]),zh=ze(\"Image\",[[\"rect\",{width:\"18\",height:\"18\",x:\"3\",y:\"3\",rx:\"2\",ry:\"2\",key:\"1m3agn\"}],[\"circle\",{cx:\"9\",cy:\"9\",r:\"2\",key:\"af1f0g\"}],[\"path\",{d:\"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\",key:\"1xmnt7\"}]]),Up=ze(\"Leaf\",[[\"path\",{d:\"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",key:\"nnexq3\"}],[\"path\",{d:\"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\",key:\"mt58a7\"}]]),vu=ze(\"Lock\",[[\"rect\",{width:\"18\",height:\"11\",x:\"3\",y:\"11\",rx:\"2\",ry:\"2\",key:\"1w4ew1\"}],[\"path\",{d:\"M7 11V7a5 5 0 0 1 10 0v4\",key:\"fwvmzm\"}]]),yu=ze(\"LogOut\",[[\"path\",{d:\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\",key:\"1uf3rs\"}],[\"polyline\",{points:\"16 17 21 12 16 7\",key:\"1gabdz\"}],[\"line\",{x1:\"21\",x2:\"9\",y1:\"12\",y2:\"12\",key:\"1uyos4\"}]]),Eu=ze(\"Mail\",[[\"rect\",{width:\"20\",height:\"16\",x:\"2\",y:\"4\",rx:\"2\",key:\"18n3k1\"}],[\"path\",{d:\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\",key:\"1ocrg3\"}]]),ta=ze(\"MapPin\",[[\"path\",{d:\"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\",key:\"2oe9fu\"}],[\"circle\",{cx:\"12\",cy:\"10\",r:\"3\",key:\"ilqhr7\"}]]),df=ze(\"Menu\",[[\"line\",{x1:\"4\",x2:\"20\",y1:\"12\",y2:\"12\",key:\"1e0a9i\"}],[\"line\",{x1:\"4\",x2:\"20\",y1:\"6\",y2:\"6\",key:\"1owob3\"}],[\"line\",{x1:\"4\",x2:\"20\",y1:\"18\",y2:\"18\",key:\"yk5zj1\"}]]),as=ze(\"MessageSquare\",[[\"path\",{d:\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\",key:\"1lielz\"}]]),hf=ze(\"Minus\",[[\"path\",{d:\"M5 12h14\",key:\"1ays0h\"}]]),os=ze(\"Package\",[[\"path\",{d:\"M16.5 9.4 7.55 4.24\",key:\"10qotr\"}],[\"path\",{d:\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\",key:\"yt0hxn\"}],[\"polyline\",{points:\"3.29 7 12 12 20.71 7\",key:\"ousv84\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"22\",y2:\"12\",key:\"a4e8g8\"}]]),_u=ze(\"PenSquare\",[[\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\",key:\"1qinfi\"}],[\"path\",{d:\"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z\",key:\"w2jsv5\"}]]),ff=ze(\"Phone\",[[\"path\",{d:\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",key:\"foiqr5\"}]]),na=ze(\"Plus\",[[\"path\",{d:\"M5 12h14\",key:\"1ays0h\"}],[\"path\",{d:\"M12 5v14\",key:\"s699le\"}]]),Zp=ze(\"RefreshCw\",[[\"path\",{d:\"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\",key:\"v9h5vc\"}],[\"path\",{d:\"M21 3v5h-5\",key:\"1q7to0\"}],[\"path\",{d:\"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\",key:\"3uifl3\"}],[\"path\",{d:\"M8 16H3v5\",key:\"1cv678\"}]]),Ah=ze(\"RotateCcw\",[[\"path\",{d:\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\",key:\"1357e3\"}],[\"path\",{d:\"M3 3v5h5\",key:\"1xhq8a\"}]]),mf=ze(\"Save\",[[\"path\",{d:\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\",key:\"1owoqh\"}],[\"polyline\",{points:\"17 21 17 13 7 13 7 21\",key:\"1md35c\"}],[\"polyline\",{points:\"7 3 7 8 15 8\",key:\"8nz8an\"}]]),Iu=ze(\"Search\",[[\"circle\",{cx:\"11\",cy:\"11\",r:\"8\",key:\"4ej97u\"}],[\"path\",{d:\"m21 21-4.3-4.3\",key:\"1qie3q\"}]]),wu=ze(\"Settings\",[[\"path\",{d:\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",key:\"1qme2f\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",key:\"1v7zrd\"}]]),ki=ze(\"ShoppingCart\",[[\"circle\",{cx:\"8\",cy:\"21\",r:\"1\",key:\"jimo8o\"}],[\"circle\",{cx:\"19\",cy:\"21\",r:\"1\",key:\"13723u\"}],[\"path\",{d:\"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12\",key:\"9zh506\"}]]),$p=ze(\"Smartphone\",[[\"rect\",{width:\"14\",height:\"20\",x:\"5\",y:\"2\",rx:\"2\",ry:\"2\",key:\"1yt0o3\"}],[\"path\",{d:\"M12 18h.01\",key:\"mhygvu\"}]]),wn=ze(\"Star\",[[\"polygon\",{points:\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",key:\"8f66p6\"}]]),pf=ze(\"Store\",[[\"path\",{d:\"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7\",key:\"ztvudi\"}],[\"path\",{d:\"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8\",key:\"1b2hhj\"}],[\"path\",{d:\"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4\",key:\"2ebpfo\"}],[\"path\",{d:\"M2 7h20\",key:\"1fcdvo\"}],[\"path\",{d:\"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7\",key:\"jon5kx\"}]]),Pl=ze(\"Trash2\",[[\"path\",{d:\"M3 6h18\",key:\"d0wm0j\"}],[\"path\",{d:\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\",key:\"4alrt4\"}],[\"path\",{d:\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\",key:\"v07s0e\"}],[\"line\",{x1:\"10\",x2:\"10\",y1:\"11\",y2:\"17\",key:\"1uufr5\"}],[\"line\",{x1:\"14\",x2:\"14\",y1:\"11\",y2:\"17\",key:\"xtxkd\"}]]),gf=ze(\"TrendingUp\",[[\"polyline\",{points:\"22 7 13.5 15.5 8.5 10.5 2 17\",key:\"126l90\"}],[\"polyline\",{points:\"16 7 22 7 22 13\",key:\"kwv8wd\"}]]),Nu=ze(\"Truck\",[[\"path\",{d:\"M10 17h4V5H2v12h3\",key:\"1jq12e\"}],[\"path\",{d:\"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5\",key:\"1xb3ft\"}],[\"path\",{d:\"M14 17h1\",key:\"nufu4t\"}],[\"circle\",{cx:\"7.5\",cy:\"17.5\",r:\"2.5\",key:\"a7aife\"}],[\"circle\",{cx:\"17.5\",cy:\"17.5\",r:\"2.5\",key:\"1mdrzq\"}]]),Vp=ze(\"Upload\",[[\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\",key:\"ih7n3h\"}],[\"polyline\",{points:\"17 8 12 3 7 8\",key:\"t8dd8p\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"3\",y2:\"15\",key:\"widbto\"}]]),sa=ze(\"User\",[[\"path\",{d:\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\",key:\"975kel\"}],[\"circle\",{cx:\"12\",cy:\"7\",r:\"4\",key:\"17ys0d\"}]]),xf=ze(\"Users\",[[\"path\",{d:\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\",key:\"1yyitq\"}],[\"circle\",{cx:\"9\",cy:\"7\",r:\"4\",key:\"nufk8\"}],[\"path\",{d:\"M22 21v-2a4 4 0 0 0-3-3.87\",key:\"kshegd\"}],[\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\",key:\"1da9ce\"}]]),On=ze(\"X\",[[\"path\",{d:\"M18 6 6 18\",key:\"1bl5f8\"}],[\"path\",{d:\"m6 6 12 12\",key:\"d8bk6v\"}]]),Si=ze(\"Zap\",[[\"polygon\",{points:\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\",key:\"45s27k\"}]]),yn=()=>{const[d,h]=w.useState(!1),[l,m]=w.useState(!1),{user:g,logout:_}=ln(),{getCartCount:y}=ds(),S=us(),N=[{name:\"Home\",href:\"/\",icon:Fp},{name:\"Find Items\",href:\"/find-items\",icon:os},{name:\"Flash Sales\",href:\"/find-sales\",icon:Si},{name:\"Suppliers\",href:\"/suppliers\",icon:ta},{name:\"Organic\",href:\"/organic\",icon:pf},{name:\"Bargains\",href:\"/bargains\",icon:as}],O=()=>g&&(g.type===\"supplier\"||g.userType===\"supplier\")?[]:N,I=()=>{_(),h(!1)};return r.jsxs(\"nav\",{className:\"bg-white shadow-lg\",children:[r.jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:r.jsxs(\"div\",{className:\"flex justify-between h-16\",children:[r.jsx(\"div\",{className:\"flex items-center\",children:r.jsxs(tt,{to:\"/\",className:\"flex-shrink-0 flex items-center\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-bold text-lg\",children:\"VM\"})}),r.jsx(\"span\",{className:\"ml-2 text-xl font-bold text-gray-900\",children:\"Vendor Mitra\"})]})}),r.jsx(\"div\",{className:\"hidden md:flex items-center space-x-8\",children:O().map(b=>{const V=b.icon;return r.jsxs(tt,{to:b.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${S.pathname===b.href?\"text-primary-600 bg-primary-50\":\"text-gray-700 hover:text-primary-600 hover:bg-gray-50\"}`,children:[r.jsx(V,{className:\"w-4 h-4 mr-1\"}),b.name]},b.name)})}),r.jsxs(\"div\",{className:\"hidden md:flex items-center space-x-4\",children:[(!g||g.type!==\"supplier\"&&g.userType!==\"supplier\")&&r.jsx(\"div\",{className:\"relative\",children:r.jsxs(tt,{to:\"/cart\",className:\"flex items-center gap-1 hover:text-primary-600 transition-colors\",children:[r.jsx(ki,{className:\"w-5 h-5 text-gray-700\"}),y()>0&&r.jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:y()}),r.jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",y(),\")\"]})]})}),g?r.jsxs(\"div\",{className:\"relative\",children:[r.jsxs(\"button\",{onClick:()=>m(!l),className:\"flex items-center space-x-2 text-gray-700 hover:text-primary-600 bg-gray-50 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-semibold text-sm\",children:g.name?.charAt(0)||\"U\"})}),r.jsx(\"span\",{className:\"font-medium\",children:g.name}),r.jsx(Dp,{className:\"w-4 h-4\"})]}),l&&r.jsxs(\"div\",{className:\"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\",children:[r.jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-100\",children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:g.name}),r.jsx(\"p\",{className:\"text-sm text-gray-500\",children:g.email})]}),(g.type===\"supplier\"||g.userType===\"supplier\")&&r.jsxs(tt,{to:\"/supplier-dashboard\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\",onClick:()=>m(!1),children:[r.jsx(kl,{className:\"w-4 h-4 mr-3\"}),\"My Dashboard\"]}),r.jsxs(tt,{to:\"/profile\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\",onClick:()=>m(!1),children:[r.jsx(sa,{className:\"w-4 h-4 mr-3\"}),\"Profile Settings\"]}),r.jsxs(tt,{to:\"/settings\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\",onClick:()=>m(!1),children:[r.jsx(wu,{className:\"w-4 h-4 mr-3\"}),\"Settings\"]}),r.jsx(\"div\",{className:\"border-t border-gray-100 mt-1\",children:r.jsxs(\"button\",{onClick:()=>{I(),m(!1)},className:\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50\",children:[r.jsx(yu,{className:\"w-4 h-4 mr-3\"}),\"Sign Out\"]})})]})]}):r.jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[r.jsx(tt,{to:\"/login\",className:\"text-gray-700 hover:text-primary-600\",children:\"Login\"}),r.jsx(tt,{to:\"/register\",className:\"btn-primary\",children:\"Register\"})]})]}),r.jsx(\"div\",{className:\"md:hidden flex items-center\",children:r.jsx(\"button\",{onClick:()=>h(!d),className:\"text-gray-700 hover:text-primary-600\",children:d?r.jsx(On,{className:\"w-6 h-6\"}):r.jsx(df,{className:\"w-6 h-6\"})})})]})}),d&&r.jsx(\"div\",{className:\"md:hidden\",children:r.jsxs(\"div\",{className:\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t\",children:[O().map(b=>{const V=b.icon;return r.jsxs(tt,{to:b.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium ${S.pathname===b.href?\"text-primary-600 bg-primary-50\":\"text-gray-700 hover:text-primary-600 hover:bg-gray-50\"}`,onClick:()=>h(!1),children:[r.jsx(V,{className:\"w-4 h-4 mr-2\"}),b.name]},b.name)}),(!g||g.type!==\"supplier\"&&g.userType!==\"supplier\")&&r.jsxs(tt,{to:\"/cart\",className:\"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50\",onClick:()=>h(!1),children:[r.jsx(ki,{className:\"w-4 h-4 mr-2\"}),\"Cart (\",y(),\")\"]}),g?r.jsxs(\"div\",{className:\"pt-4 border-t border-gray-200\",children:[(g.type===\"supplier\"||g.userType===\"supplier\")&&r.jsxs(tt,{to:\"/supplier-dashboard\",className:\"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600\",onClick:()=>h(!1),children:[r.jsx(kl,{className:\"w-4 h-4 mr-2\"}),\"Dashboard\"]}),r.jsxs(tt,{to:\"/profile\",className:\"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600\",onClick:()=>h(!1),children:[r.jsx(sa,{className:\"w-4 h-4 mr-2\"}),g.name]}),r.jsx(\"button\",{onClick:I,className:\"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600\",children:\"Logout\"})]}):r.jsxs(\"div\",{className:\"pt-4 border-t border-gray-200 space-y-2\",children:[r.jsx(tt,{to:\"/login\",className:\"block px-3 py-2 text-gray-700 hover:text-primary-600\",onClick:()=>h(!1),children:\"Login\"}),r.jsx(tt,{to:\"/register\",className:\"block px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\",onClick:()=>h(!1),children:\"Register\"})]})]})})]})},_n=()=>r.jsx(\"footer\",{className:\"bg-gray-900 text-white\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:[r.jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[r.jsxs(\"div\",{children:[r.jsxs(\"div\",{className:\"flex items-center mb-4\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-bold text-lg\",children:\"VM\"})}),r.jsx(\"span\",{className:\"ml-2 text-xl font-bold\",children:\"Vendor Mitra\"})]}),r.jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Connecting trusted food suppliers with vendors across India. Verified suppliers, smart bargaining, and real-time tracking.\"})]}),r.jsxs(\"div\",{children:[r.jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Contact Us\"}),r.jsxs(\"div\",{className:\"space-y-2\",children:[r.jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[r.jsx(ff,{className:\"w-4 h-4 mr-2\"}),r.jsx(\"span\",{children:\"+91 9155564974\"})]}),r.jsxs(\"div\",{className:\"flex items-center text-gray-300\",children:[r.jsx(Eu,{className:\"w-4 h-4 mr-2\"}),r.jsx(\"span\",{children:\"vendormitra@gmail.com\"})]})]})]})]}),r.jsx(\"div\",{className:\"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400\",children:r.jsx(\"p\",{children:\"Â© 2025 Vendor Mitra. All rights reserved.\"})})]})}),Hp=({children:d})=>{const[h,l]=w.useState(!1),{user:m,logout:g}=ln(),_=us(),y=[{name:\"Dashboard\",href:\"/supplier-dashboard\",icon:kl}],S=()=>{g(),l(!1)};return r.jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[r.jsx(\"header\",{className:\"bg-white shadow-sm border-b\",children:r.jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:r.jsxs(\"div\",{className:\"flex justify-between h-16\",children:[r.jsx(\"div\",{className:\"flex items-center\",children:r.jsxs(tt,{to:\"/supplier-dashboard\",className:\"flex-shrink-0 flex items-center\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-bold text-lg\",children:\"VM\"})}),r.jsx(\"span\",{className:\"ml-2 text-xl font-bold text-gray-900\",children:\"Vendor Mitra\"})]})}),r.jsx(\"div\",{className:\"hidden md:flex items-center space-x-8\",children:y.map(N=>{const O=N.icon;return r.jsxs(tt,{to:N.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${_.pathname===N.href?\"text-green-600 bg-green-50\":\"text-gray-700 hover:text-green-600 hover:bg-gray-50\"}`,children:[r.jsx(O,{className:\"w-4 h-4 mr-1\"}),N.name]},N.name)})}),r.jsxs(\"div\",{className:\"hidden md:flex items-center space-x-4\",children:[r.jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\",children:r.jsx(sa,{className:\"w-4 h-4 text-green-600\"})}),r.jsxs(\"div\",{className:\"text-sm\",children:[r.jsx(\"p\",{className:\"font-medium text-gray-900\",children:m?.name}),r.jsx(\"p\",{className:\"text-gray-500\",children:\"Supplier\"})]})]}),r.jsx(tt,{to:\"/profile\",className:\"text-gray-700 hover:text-green-600\",children:r.jsx(wu,{className:\"w-5 h-5\"})}),r.jsx(\"button\",{onClick:S,className:\"text-gray-700 hover:text-red-600\",children:r.jsx(yu,{className:\"w-5 h-5\"})})]}),r.jsx(\"div\",{className:\"md:hidden flex items-center\",children:r.jsx(\"button\",{onClick:()=>l(!h),className:\"text-gray-700 hover:text-green-600\",children:h?r.jsx(On,{className:\"w-6 h-6\"}):r.jsx(df,{className:\"w-6 h-6\"})})})]})})}),h&&r.jsx(\"div\",{className:\"md:hidden\",children:r.jsxs(\"div\",{className:\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t\",children:[y.map(N=>{const O=N.icon;return r.jsxs(tt,{to:N.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium ${_.pathname===N.href?\"text-green-600 bg-green-50\":\"text-gray-700 hover:text-green-600 hover:bg-gray-50\"}`,onClick:()=>l(!1),children:[r.jsx(O,{className:\"w-4 h-4 mr-2\"}),N.name]},N.name)}),r.jsxs(\"div\",{className:\"pt-4 border-t border-gray-200\",children:[r.jsxs(\"div\",{className:\"flex items-center px-3 py-2\",children:[r.jsx(\"div\",{className:\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3\",children:r.jsx(sa,{className:\"w-4 h-4 text-green-600\"})}),r.jsxs(\"div\",{children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:m?.name}),r.jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Supplier\"})]})]}),r.jsxs(tt,{to:\"/profile\",className:\"flex items-center px-3 py-2 text-gray-700 hover:text-green-600\",onClick:()=>l(!1),children:[r.jsx(wu,{className:\"w-4 h-4 mr-2\"}),\"Settings\"]}),r.jsxs(\"button\",{onClick:S,className:\"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600\",children:[r.jsx(yu,{className:\"w-4 h-4 mr-2\"}),\"Logout\"]})]})]})}),r.jsx(\"main\",{className:\"flex-1\",children:d}),r.jsx(\"footer\",{className:\"bg-white border-t mt-auto\",children:r.jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",children:r.jsxs(\"div\",{className:\"text-center text-sm text-gray-500\",children:[r.jsx(\"p\",{children:\"Â© 2025 Vendor Mitra Supplier Portal. All rights reserved.\"}),r.jsx(\"p\",{className:\"mt-1\",children:\"For support, contact: +91 9155564974 | vendormitra@gmail.com\"})]})})})]})},qp=()=>{const{user:d}=ln(),{stats:h}=Cp(),l=[{icon:ss,title:\"âœ… Verified Suppliers\",description:\"All suppliers are FSSAI verified and background checked for quality assurance\"},{icon:uf,title:\"ðŸ’° Best Prices\",description:\"Competitive pricing with smart bargaining tools to get the best deals\"},{icon:Nu,title:\"ðŸšš Quick Delivery\",description:\"Fast and reliable delivery with real-time tracking across India\"},{icon:Up,title:\"ðŸŒ± Organic Options\",description:\"Wide selection of certified organic produce directly from farmers\"}];return h.verifiedSuppliers,h.activeVendors,h.citiesCovered,h.averageRating.toFixed(1),r.jsxs(\"div\",{className:\"min-h-screen\",children:[r.jsxs(\"section\",{className:\"relative bg-gradient-to-br from-green-600 via-emerald-700 to-teal-800 text-white overflow-hidden\",children:[r.jsx(\"div\",{className:\"absolute inset-0 opacity-10\",children:r.jsx(\"div\",{className:\"absolute inset-0\",style:{backgroundImage:`url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`}})}),r.jsx(\"div\",{className:\"absolute top-20 left-10 w-20 h-20 bg-yellow-400 rounded-full opacity-20 animate-bounce\",style:{animationDelay:\"0s\"}}),r.jsx(\"div\",{className:\"absolute top-40 right-20 w-16 h-16 bg-orange-400 rounded-full opacity-20 animate-bounce\",style:{animationDelay:\"1s\"}}),r.jsx(\"div\",{className:\"absolute bottom-20 left-20 w-12 h-12 bg-red-400 rounded-full opacity-20 animate-bounce\",style:{animationDelay:\"2s\"}}),r.jsx(\"div\",{className:\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20\",children:r.jsxs(\"div\",{className:\"text-center\",children:[r.jsxs(\"h1\",{className:\"text-4xl md:text-6xl font-bold mb-6 leading-tight\",children:[\"Connect with \",r.jsx(\"span\",{className:\"text-yellow-300\",children:\"Trusted\"}),r.jsx(\"br\",{}),r.jsx(\"span\",{className:\"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent\",children:\"Food Suppliers\"})]}),r.jsx(\"p\",{className:\"text-xl md:text-2xl mb-8 text-green-100 max-w-3xl mx-auto\",children:\"ðŸ¥¬ Find verified suppliers, negotiate prices, and streamline your food supply chain with fresh, quality produce\"}),r.jsx(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center\",children:d?r.jsxs(r.Fragment,{children:[r.jsx(tt,{to:\"/find-items\",className:\"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"ðŸ›’ Browse Items\"}),r.jsx(tt,{to:\"/suppliers\",className:\"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"ðŸ” Find Suppliers\"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{to:\"/register\",className:\"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"ðŸš€ Get Started\"}),r.jsx(tt,{to:\"/login\",className:\"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg\",children:\"ðŸ‘¤ Login\"})]})})]})})]}),r.jsx(\"section\",{className:\"py-20 bg-white\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[r.jsxs(\"div\",{className:\"text-center mb-16\",children:[r.jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\",children:\"Why Choose Vendor Mitra?\"}),r.jsx(\"p\",{className:\"text-xl text-gray-600 max-w-3xl mx-auto\",children:\"Everything you need to streamline your food supply chain operations\"})]}),r.jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\",children:l.map((m,g)=>{const _=m.icon,y=[\"from-green-500 to-emerald-600\",\"from-yellow-500 to-orange-500\",\"from-blue-500 to-indigo-600\",\"from-purple-500 to-pink-600\"];return r.jsxs(\"div\",{className:\"text-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100\",children:[r.jsx(\"div\",{className:`w-20 h-20 bg-gradient-to-r ${y[g]} rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg`,children:r.jsx(_,{className:\"w-10 h-10 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-3\",children:m.title}),r.jsx(\"p\",{className:\"text-gray-600 leading-relaxed\",children:m.description})]},g)})})]})}),r.jsx(\"section\",{className:\"py-16 bg-gradient-to-r from-gray-50 to-gray-100\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[r.jsxs(\"div\",{className:\"text-center mb-12\",children:[r.jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\",children:\"ðŸ† Trusted by Thousands Across India\"}),r.jsx(\"p\",{className:\"text-xl text-gray-600\",children:\"Join our growing community of successful food suppliers and vendors\"})]}),r.jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12\",children:[r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"text-4xl md:text-5xl font-bold text-green-600 mb-2\",children:\"500+\"}),r.jsx(\"div\",{className:\"text-gray-600 font-medium\",children:\"Active Suppliers\"})]}),r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"text-4xl md:text-5xl font-bold text-blue-600 mb-2\",children:\"1000+\"}),r.jsx(\"div\",{className:\"text-gray-600 font-medium\",children:\"Happy Buyers\"})]}),r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"text-4xl md:text-5xl font-bold text-purple-600 mb-2\",children:\"25+\"}),r.jsx(\"div\",{className:\"text-gray-600 font-medium\",children:\"Cities Covered\"})]}),r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"text-4xl md:text-5xl font-bold text-orange-600 mb-2\",children:\"4.8â­\"}),r.jsx(\"div\",{className:\"text-gray-600 font-medium\",children:\"Average Rating\"})]})]})]})}),r.jsx(\"section\",{className:\"py-20 bg-white\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[r.jsxs(\"div\",{className:\"text-center mb-16\",children:[r.jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\",children:\"Platform Benefits\"}),r.jsx(\"p\",{className:\"text-xl text-gray-600\",children:\"Discover the advantages of using Vendor Mitra for your supply chain needs\"})]}),r.jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:[r.jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-xl border border-blue-200\",children:[r.jsx(\"div\",{className:\"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(ss,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Quality Assurance\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"All suppliers undergo FSSAI verification and quality checks. Only verified, trusted suppliers are allowed on our platform.\"})]}),r.jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-xl border border-green-200\",children:[r.jsx(\"div\",{className:\"bg-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(gf,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Real-Time Updates\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"Live inventory tracking, instant price updates, and real-time stock synchronization between suppliers and vendors.\"})]}),r.jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-xl border border-purple-200\",children:[r.jsx(\"div\",{className:\"bg-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(as,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Smart Negotiation\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"Built-in bargaining system allows direct communication and price negotiation between vendors and suppliers.\"})]}),r.jsxs(\"div\",{className:\"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-xl border border-orange-200\",children:[r.jsx(\"div\",{className:\"bg-orange-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(Tl,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Fast Delivery\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"Quick delivery within 2-4 hours with real-time tracking. Local suppliers ensure fresh produce reaches you faster.\"})]}),r.jsxs(\"div\",{className:\"bg-gradient-to-br from-teal-50 to-teal-100 p-8 rounded-xl border border-teal-200\",children:[r.jsx(\"div\",{className:\"bg-teal-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(Bp,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Wide Coverage\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"Available across 25+ cities in India with expanding network. Find suppliers and vendors in your local area.\"})]}),r.jsxs(\"div\",{className:\"bg-gradient-to-br from-pink-50 to-pink-100 p-8 rounded-xl border border-pink-200\",children:[r.jsx(\"div\",{className:\"bg-pink-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\",children:r.jsx(lf,{className:\"w-8 h-8 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 text-center\",children:\"Trusted Platform\"}),r.jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"4.8-star average rating with thousands of successful transactions. Join our community of trusted partners.\"})]})]})]})}),r.jsx(\"section\",{className:\"py-20 bg-gray-50\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[r.jsxs(\"div\",{className:\"text-center mb-16\",children:[r.jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\",children:\"How Vendor Mitra Works\"}),r.jsx(\"p\",{className:\"text-xl text-gray-600\",children:\"Simple steps to connect suppliers and vendors seamlessly\"})]}),r.jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-blue-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",children:r.jsx(xf,{className:\"w-10 h-10 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"1. Register & Verify\"}),r.jsx(\"p\",{className:\"text-gray-600 leading-relaxed\",children:\"Suppliers register and get FSSAI verified. Vendors create accounts to access the marketplace with quality assurance.\"})]}),r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",children:r.jsx(as,{className:\"w-10 h-10 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"2. Connect & Negotiate\"}),r.jsx(\"p\",{className:\"text-gray-600 leading-relaxed\",children:\"Vendors find suppliers, browse products, and negotiate prices directly through our smart bargaining system.\"})]}),r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"bg-gradient-to-r from-orange-500 to-orange-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",children:r.jsx(Nu,{className:\"w-10 h-10 text-white\"})}),r.jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"3. Order & Deliver\"}),r.jsx(\"p\",{className:\"text-gray-600 leading-relaxed\",children:\"Place orders with real-time stock updates and get fast delivery with tracking across India.\"})]})]})]})}),r.jsx(\"section\",{className:\"py-20 bg-primary-600 text-white\",children:r.jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\",children:[r.jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold mb-4\",children:\"Ready to Transform Your Supply Chain?\"}),r.jsx(\"p\",{className:\"text-xl text-primary-100 mb-8 max-w-2xl mx-auto\",children:\"Join thousands of vendors and suppliers who trust Vendor Mitra for their food supply needs\"}),!d&&r.jsx(tt,{to:\"/register\",className:\"btn-secondary text-lg px-8 py-3\",children:\"Start Your Journey\"})]})})]})},Wp=()=>{const{user:d}=ln(),h=Ur();return w.useEffect(()=>{if(d&&(d.type===\"supplier\"||d.userType===\"supplier\")){h(\"/supplier-dashboard\");return}if(d&&(d.type===\"vendor\"||d.userType===\"vendor\")){h(\"/\");return}if(!d){h(\"/login\");return}},[d,h]),r.jsxs(\"div\",{className:\"max-w-4xl mx-auto py-8 px-4\",children:[r.jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Vendor Dashboard\"}),r.jsxs(\"div\",{className:\"flex gap-4 mb-8\",children:[r.jsx(tt,{to:\"/bargains\",className:\"btn-secondary\",children:\"Bargains\"}),r.jsx(tt,{to:\"/collaborative-orders\",className:\"btn-secondary\",children:\"Collaborative Orders\"})]}),r.jsx(\"div\",{className:\"flex items-center justify-center min-h-[60vh]\",children:r.jsxs(\"div\",{className:\"text-center\",children:[r.jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4\"}),r.jsx(\"p\",{className:\"text-gray-600\",children:\"Redirecting...\"})]})})]})},Dh=({onImageSelect:d,currentImage:h,onRemoveImage:l})=>{const[m,g]=w.useState(!1),[_,y]=w.useState(null),[S,N]=w.useState(!1),O=w.useRef(null),I=w.useRef(null),b=w.useRef(null),[V,G]=w.useState(null);w.useEffect(()=>()=>{V&&V.getTracks().forEach(A=>A.stop()),document.body.style.overflow=\"auto\"},[V]);const J=()=>{O.current?.click()},R=A=>{const ee=A.target.files[0];if(ee){const ue=new FileReader;ue.onload=Se=>{d(Se.target.result),g(!1)},ue.readAsDataURL(ee)}},z=async()=>{try{N(!0),document.body.style.overflow=\"hidden\";const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:\"environment\",width:{ideal:1280},height:{ideal:720}}});G(A),I.current&&(I.current.srcObject=A,I.current.onloadedmetadata=()=>{I.current.style.transform=\"scaleX(-1)\"})}catch(A){console.error(\"Error accessing camera:\",A),alert(\"Unable to access camera. Please check permissions.\"),N(!1),document.body.style.overflow=\"auto\"}},Q=()=>{V&&(V.getTracks().forEach(A=>A.stop()),G(null)),N(!1),y(null),document.body.style.overflow=\"auto\"},B=()=>{if(I.current&&b.current){const A=I.current,ee=b.current,ue=ee.getContext(\"2d\");ee.width=A.videoWidth,ee.height=A.videoHeight,ue.clearRect(0,0,ee.width,ee.height),ue.save(),ue.scale(-1,1),ue.translate(-ee.width,0),ue.drawImage(A,0,0,ee.width,ee.height),ue.restore();const Se=ee.toDataURL(\"image/jpeg\",.8);y(Se),d(Se),Q(),g(!1)}},$=()=>{y(null),z()},D=()=>{l(),y(null)};return r.jsxs(\"div\",{className:\"space-y-4\",children:[(h||_)&&r.jsxs(\"div\",{className:\"relative\",children:[r.jsx(\"img\",{src:_||h,alt:\"Product\",className:\"w-full h-48 object-cover rounded-lg border\"}),r.jsx(\"button\",{onClick:D,className:\"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors\",children:r.jsx(On,{className:\"w-4 h-4\"})})]}),!h&&!_&&r.jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\",children:r.jsxs(\"div\",{className:\"space-y-4\",children:[r.jsxs(\"div\",{className:\"text-gray-500\",children:[r.jsx(Vp,{className:\"w-12 h-12 mx-auto mb-2\"}),r.jsx(\"p\",{className:\"text-sm\",children:\"Upload product image\"})]}),r.jsx(\"div\",{className:\"flex gap-3 justify-center\",children:r.jsxs(\"button\",{onClick:()=>g(!0),className:\"btn-primary flex items-center gap-2\",children:[r.jsx(zh,{className:\"w-4 h-4\"}),\"Upload Image\"]})})]})}),m&&r.jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:r.jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[r.jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Upload Image\"}),r.jsx(\"button\",{onClick:()=>{g(!1),Q()},className:\"text-gray-500 hover:text-gray-700\",children:r.jsx(On,{className:\"w-5 h-5\"})})]}),r.jsxs(\"div\",{className:\"space-y-3\",children:[r.jsxs(\"button\",{onClick:J,className:\"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3\",children:[r.jsx(zh,{className:\"w-6 h-6 text-blue-600\"}),r.jsxs(\"div\",{className:\"text-left\",children:[r.jsx(\"div\",{className:\"font-medium\",children:\"Choose from Gallery\"}),r.jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Select an existing photo\"})]})]}),r.jsxs(\"button\",{onClick:z,className:\"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3\",children:[r.jsx(cf,{className:\"w-6 h-6 text-green-600\"}),r.jsxs(\"div\",{className:\"text-left\",children:[r.jsx(\"div\",{className:\"font-medium\",children:\"Take Photo\"}),r.jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Use camera to capture\"})]})]})]}),r.jsx(\"input\",{ref:O,type:\"file\",accept:\"image/*\",onChange:R,className:\"hidden\"})]})}),S&&r.jsxs(\"div\",{className:\"fixed inset-0 bg-black flex flex-col z-50\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-black text-white z-10\",children:[r.jsx(\"button\",{onClick:Q,className:\"text-white hover:text-gray-300 p-2\",children:r.jsx(On,{className:\"w-6 h-6\"})}),r.jsx(\"span\",{className:\"text-lg font-medium\",children:\"Take Photo\"}),r.jsx(\"div\",{className:\"w-10\"}),\" \"]}),r.jsxs(\"div\",{className:\"flex-1 relative overflow-hidden\",children:[r.jsx(\"video\",{ref:I,autoPlay:!0,playsInline:!0,muted:!0,className:\"w-full h-full object-cover\",style:{transform:\"scaleX(-1)\"}}),r.jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center pointer-events-none\",children:r.jsx(\"div\",{className:\"border-2 border-white rounded-lg w-64 h-64 opacity-50\"})}),r.jsx(\"div\",{className:\"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg\",children:r.jsx(\"p\",{className:\"text-sm\",children:\"Position your product in the frame\"})})]}),r.jsx(\"div\",{className:\"bg-black bg-opacity-90 p-6\",children:r.jsxs(\"div\",{className:\"flex items-center justify-center gap-8\",children:[r.jsx(\"button\",{onClick:Q,className:\"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all\",children:r.jsx(On,{className:\"w-6 h-6 text-white\"})}),r.jsx(\"button\",{onClick:B,className:\"bg-white p-6 rounded-full hover:bg-gray-100 transition-all shadow-lg\",children:r.jsx(\"div\",{className:\"w-16 h-16 border-4 border-gray-800 rounded-full\"})}),r.jsx(\"button\",{onClick:$,className:\"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all\",children:r.jsx(Ah,{className:\"w-6 h-6 text-white\"})})]})}),r.jsx(\"canvas\",{ref:b,className:\"hidden\"})]}),_&&!S&&r.jsxs(\"div\",{className:\"fixed inset-0 bg-black flex flex-col z-50\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-black text-white\",children:[r.jsxs(\"button\",{onClick:$,className:\"text-white hover:text-gray-300 flex items-center gap-2\",children:[r.jsx(Ah,{className:\"w-4 h-4\"}),\"Retake\"]}),r.jsx(\"span\",{className:\"text-lg font-medium\",children:\"Preview\"}),r.jsx(\"button\",{onClick:()=>{y(null),g(!1)},className:\"text-white hover:text-gray-300\",children:r.jsx(On,{className:\"w-6 h-6\"})})]}),r.jsx(\"div\",{className:\"flex-1 flex items-center justify-center p-4\",children:r.jsx(\"img\",{src:_,alt:\"Captured\",className:\"max-w-full max-h-full object-contain\"})}),r.jsx(\"div\",{className:\"p-4 bg-black\",children:r.jsx(\"button\",{onClick:()=>{d(_),y(null),g(!1)},className:\"w-full bg-blue-600 text-white py-3 rounded-lg font-medium\",children:\"Use This Photo\"})})]})]})},Tu=({endTime:d,onExpired:h})=>{const[l,m]=w.useState(\"Loading...\"),[g,_]=w.useState(!1);return w.useEffect(()=>{if(!d){m(\"Ended\");return}const y=()=>{let N;try{N=new Date(d)}catch(b){console.error(\"Invalid endTime:\",d,b),m(\"Ended\");return}const I=N-new Date;if(isNaN(I)||I<=0)m(\"Ended\"),!g&&h&&(_(!0),h());else{const b=Math.floor(I/36e5),V=Math.floor(I%36e5/6e4),G=Math.floor(I%6e4/1e3);b>0?m(`${b}h ${V}m ${G}s`):V>0?m(`${V}m ${G}s`):m(`${G}s`)}};y();const S=setInterval(y,1e3);return()=>clearInterval(S)},[d]),r.jsx(\"span\",{className:\"text-xs font-medium\",children:l})};function Gp(){const{user:d}=ln(),{products:h,addProduct:l,updateProduct:m,deleteProduct:g,getProductsBySupplier:_,loading:y}=Il(),[S,N]=_p(),[O,I]=w.useState(\"overview\"),[b,V]=w.useState([]),[G,J]=w.useState([]),[R,z]=w.useState([]),[Q,B]=w.useState([]),[$,D]=w.useState([]),[A,ee]=w.useState(null),[ue,Se]=w.useState(!1),[rt,Y]=w.useState(!1),[me,Ie]=w.useState(null),[Ue,Ze]=w.useState(null),[de,ke]=w.useState({name:\"\",price:\"\",quantity:\"\",unit:\"kg\",description:\"\",image:\"\",isOrganic:!1,licenseNumber:\"\",isVerified:!1,category:\"vegetables\"}),[ce,C]=w.useState({product:\"\",oldPrice:\"\",newPrice:\"\",discount:\"\",totalQuantity:\"\",quantityUnit:\"kg\",durationDays:\"\",durationHours:\"\",durationMinutes:\"\",image:\"\"}),[se,K]=w.useState(null),[k,X]=w.useState(\"\"),[xe,ye]=w.useState(\"\");w.useEffect(()=>{const T=S.get(\"tab\");T&&[\"overview\",\"products\",\"bargains\",\"flashsales\",\"reviews\",\"deliveries\"].includes(T)&&I(T)},[S]),w.useEffect(()=>{if(d&&d.id){(()=>{try{const st=ut.getBargainsBySupplier(d.id);J(st);const bt=Nt.getReviewsBySupplier(d.id);z(bt);const Ut=on.getDeliveriesBySupplier(d.id);B(Ut);const At=qe.getFlashSalesBySupplier(d.id);D(At)}catch(st){console.error(\"Error loading supplier data:\",st)}})();const Be=ft.subscribe(\"bargain_update\",st=>{if(st&&st.supplierId===d.id){const bt=ut.getBargainsBySupplier(d.id);J(bt),se&&st.bargain&&se.id===st.bargain.id&&K(st.bargain)}}),pt=ft.subscribe(\"review_update\",st=>{if(st&&st.supplierId===d.id){const bt=Nt.getReviewsBySupplier(d.id);z(bt)}}),Xt=ft.subscribe(\"flash_sale_update\",st=>{if(st&&st.supplierId===d.id){const bt=qe.getFlashSalesBySupplier(d.id);D(bt)}});return()=>{Be(),pt(),Xt()}}},[d]),w.useEffect(()=>{if(d&&d.id){const T=_(d.id);console.log(\"Loading products for supplier from context:\",d.id,T);const Be=T.filter((pt,Xt,st)=>Xt===st.findIndex(bt=>bt.id===pt.id));V(Be)}},[d,h,_]);const pe=T=>{Ie(T),ke({name:T.name,price:T.price.toString(),quantity:T.quantity,unit:T.unit||\"kg\",description:T.description,image:T.image,isOrganic:T.isOrganic,licenseNumber:T.licenseNumber||\"\",isVerified:T.isVerified,category:T.category||\"vegetables\"}),Se(!0)},fe=async()=>{if(!de.name||!de.price||!de.quantity||!de.unit){alert(\"Please fill all required fields\");return}const T={...de,price:parseFloat(de.price),quantity:parseInt(de.quantity),stock:parseInt(de.quantity),supplierId:d.id,supplierName:d.name,supplierRating:d.rating||4.5,image:de.image||\"ðŸ¥¬\",category:de.category||\"vegetables\"},Be=await l(T);console.log(\"Product added via API:\",Be),alert(Be?\"Product added successfully!\":\"Failed to add product. Please try again.\"),ke({name:\"\",price:\"\",quantity:\"\",unit:\"kg\",description:\"\",category:\"vegetables\",isOrganic:!1}),Se(!1)},De=async()=>{if(!de.name||!de.price||!de.quantity||!de.unit){alert(\"Please fill all required fields\");return}const T={name:de.name,price:parseFloat(de.price),quantity:parseInt(de.quantity),stock:parseInt(de.quantity),unit:de.unit,description:de.description,image:de.image||me.image,isOrganic:de.isOrganic,licenseNumber:de.isOrganic?null:de.licenseNumber,isVerified:de.isOrganic?!0:de.isVerified,category:de.category};await m(me.id,T)&&alert(\"Product updated successfully!\"),ke({name:\"\",price:\"\",quantity:\"\",description:\"\",image:\"\",isOrganic:!1,licenseNumber:\"\",isVerified:!1,category:\"vegetables\"}),Se(!1)},Te=async T=>{if(window.confirm(\"Are you sure you want to delete this product?\")){const Be=await g(T);alert(Be?\"Product deleted successfully!\":\"Failed to delete product\")}},We=async T=>new Promise(Be=>{setTimeout(()=>{const pt=T.length>=8&&T.match(/^[A-Z0-9]+$/);Be({isValid:pt,message:pt?\"License verified successfully\":\"Invalid license number\"})},1e3)}),it=T=>{ke({...de,name:T})},Tt=T=>{ke({...de,isOrganic:T})},cn=async()=>{if(!de.licenseNumber.trim()){alert(\"Please enter a license number\");return}try{const T=await We(de.licenseNumber);T.isValid?(ke({...de,isVerified:!0}),alert(\"âœ… \"+T.message)):(ke({...de,isVerified:!1}),alert(\"âŒ \"+T.message))}catch{alert(\"Error verifying license. Please try again.\")}},kt=async()=>{if(ce.product&&ce.newPrice){const T=new Date,Be=parseInt(ce.durationDays)||0,pt=parseInt(ce.durationHours)||0,Xt=parseInt(ce.durationMinutes)||0,st=new Date(T.getTime()+Be*24*60*60*1e3+pt*60*60*1e3+Xt*60*1e3).toISOString(),bt=ce.image,Ut={product:ce.product,oldPrice:parseFloat(ce.oldPrice),price:parseFloat(ce.newPrice),discount:parseFloat(ce.discount),total:parseInt(ce.totalQuantity),quantityUnit:ce.quantityUnit,endTime:st,supplier:d.name,supplierId:d.id,image:bt},At=qe.addFlashSale(Ut);D([...$,At]),C({product:\"\",oldPrice:\"\",newPrice:\"\",discount:\"\",totalQuantity:\"\",quantityUnit:\"kg\",durationDays:\"\",durationHours:\"\",durationMinutes:\"\",image:\"\"}),Y(!1)}else alert(\"Please fill in all required fields (product name and new price)\")},Wn=T=>{C({product:T.product,oldPrice:T.oldPrice.toString(),newPrice:T.price.toString(),discount:T.discount.toString(),totalQuantity:T.total.toString(),durationHours:\"\",durationMinutes:\"\",image:T.image||\"\"}),Ze(T),Y(!0)},te=async()=>{if(ce.product&&ce.newPrice&&Ue){const T=new Date,Be=parseInt(ce.durationHours)||0,pt=parseInt(ce.durationMinutes)||0,Xt=new Date(T.getTime()+Be*60*60*1e3+pt*60*1e3).toISOString(),st=ce.image||Ue.image,bt={product:ce.product,oldPrice:parseFloat(ce.oldPrice),price:parseFloat(ce.newPrice),discount:parseFloat(ce.discount),total:parseInt(ce.totalQuantity),endTime:Xt,image:st},Ut=qe.updateFlashSale(Ue.id,bt);Ut&&(D($.map(At=>At.id===Ue.id?Ut:At)),Ze(null),C({product:\"\",oldPrice:\"\",newPrice:\"\",discount:\"\",totalQuantity:\"\",durationHours:\"\",durationMinutes:\"\",image:\"\"}),Y(!1))}else alert(\"Please fill in all required fields\")},Oe=T=>{window.confirm(\"Are you sure you want to delete this flash sale?\")&&(qe.deleteFlashSale(T)?(D($.filter(pt=>pt.id!==T)),alert(\"Flash sale deleted successfully\")):alert(\"Failed to delete flash sale\"))},Ke=T=>{K(T),X(\"\"),ye(\"\")},un=()=>{if(!xe&&!k)return;ut.addMessage(se.id,{sender:\"supplier\",offer:xe?parseFloat(xe):void 0,message:k});const T=ut.getBargainById(se.id);K(T),X(\"\"),ye(\"\")},xt=d?.userType===\"farmer\"||d?.type===\"farmer\",mt={totalProducts:b.length,activeBargains:G.filter(T=>T.status===\"pending\").length,activeFlashSales:$.filter(T=>T.status===\"active\").length,totalRevenue:25e3,totalOrders:45,averageRating:R.length>0?(R.reduce((T,Be)=>T+Be.rating,0)/R.length).toFixed(1):0,totalReviews:R.length};return r.jsxs(\"div\",{className:\"max-w-7xl mx-auto py-8 px-4\",children:[r.jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[r.jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:r.jsxs(\"div\",{className:\"flex items-center\",children:[r.jsx(os,{className:\"w-8 h-8 text-blue-600\"}),r.jsxs(\"div\",{className:\"ml-4\",children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Products\"}),r.jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:mt.totalProducts})]})]})}),r.jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:r.jsxs(\"div\",{className:\"flex items-center\",children:[r.jsx(uf,{className:\"w-8 h-8 text-green-600\"}),r.jsxs(\"div\",{className:\"ml-4\",children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Revenue\"}),r.jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[\"â‚¹\",mt.totalRevenue]})]})]})}),r.jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:r.jsxs(\"div\",{className:\"flex items-center\",children:[r.jsx(ki,{className:\"w-8 h-8 text-orange-600\"}),r.jsxs(\"div\",{className:\"ml-4\",children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Orders\"}),r.jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:mt.totalOrders})]})]})}),r.jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:r.jsxs(\"div\",{className:\"flex items-center\",children:[r.jsx(wn,{className:\"w-8 h-8 text-yellow-600\"}),r.jsxs(\"div\",{className:\"ml-4\",children:[r.jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Avg Rating\"}),r.jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:mt.averageRating}),r.jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[mt.totalReviews,\" reviews\"]})]})]})})]}),r.jsx(\"div\",{className:\"bg-white rounded-lg shadow mb-8\",children:r.jsx(\"div\",{className:\"border-b border-gray-200\",children:r.jsx(\"nav\",{className:\"flex space-x-8 px-6\",children:[{id:\"overview\",name:\"Overview\",icon:kl},{id:\"products\",name:\"Product Catalog\",icon:os},{id:\"bargains\",name:\"Bargain Requests\",icon:as},{id:\"flashsales\",name:\"Flash Sales\",icon:Si},{id:\"reviews\",name:\"Reviews\",icon:wn},{id:\"deliveries\",name:\"Deliveries\",icon:Nu}].map(T=>{const Be=T.icon;return r.jsxs(\"button\",{onClick:()=>I(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${O===T.id?\"border-primary-500 text-primary-600\":\"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}`,children:[r.jsx(Be,{className:\"w-4 h-4\"}),T.name]},T.id)})})})}),r.jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[O===\"overview\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Business Overview\"}),r.jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[r.jsxs(\"div\",{children:[r.jsx(\"h3\",{className:\"font-medium mb-3\",children:\"Recent Activity\"}),r.jsxs(\"div\",{className:\"space-y-3\",children:[r.jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-gray-50 rounded\",children:[r.jsx(as,{className:\"w-5 h-5 text-blue-600\"}),r.jsxs(\"div\",{children:[r.jsx(\"p\",{className:\"text-sm font-medium\",children:\"New bargain request from Restaurant ABC\"}),r.jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"2 hours ago\"})]})]}),r.jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-gray-50 rounded\",children:[r.jsx(wn,{className:\"w-5 h-5 text-yellow-600\"}),r.jsxs(\"div\",{children:[r.jsx(\"p\",{className:\"text-sm font-medium\",children:\"5-star review received for Organic Tomatoes\"}),r.jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"1 day ago\"})]})]})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"h3\",{className:\"font-medium mb-3\",children:\"Quick Actions\"}),r.jsxs(\"div\",{className:\"space-y-2\",children:[r.jsx(\"button\",{onClick:()=>I(\"products\"),className:\"w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded transition-colors\",children:r.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[r.jsx(na,{className:\"w-4 h-4\"}),\"Add New Product\"]})}),r.jsx(\"button\",{onClick:()=>I(\"flashsales\"),className:\"w-full text-left p-3 bg-orange-50 hover:bg-orange-100 rounded transition-colors\",children:r.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[r.jsx(Si,{className:\"w-4 h-4\"}),\"Create Flash Sale\"]})})]})]})]})]}),O===\"products\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Product Catalog\"}),!xt&&r.jsxs(\"button\",{onClick:()=>{Ie(null),Se(!0)},className:\"btn-primary flex items-center gap-2\",children:[r.jsx(na,{className:\"w-4 h-4\"}),\"Add Product\"]})]}),r.jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:b.map(T=>r.jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[T.image&&T.image!==\"ðŸ¥¬\"?r.jsx(\"img\",{src:T.image,alt:T.name,className:\"w-full h-32 object-cover rounded mb-3\",onError:Be=>{Be.target.style.display=\"none\",Be.target.nextSibling.style.display=\"flex\"}}):null,r.jsx(\"div\",{className:\"w-full h-32 bg-green-100 rounded mb-3 flex items-center justify-center\",style:{display:T.image&&T.image!==\"ðŸ¥¬\"?\"none\":\"flex\"},children:r.jsx(\"span\",{className:\"text-4xl\",children:\"ðŸ¥¬\"})}),r.jsx(\"h3\",{className:\"font-medium mb-2\",children:T.name}),r.jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:T.description}),r.jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[r.jsxs(\"span\",{className:\"font-medium\",children:[\"â‚¹\",T.price,\"/\",T.unit||\"kg\"]}),r.jsxs(\"span\",{className:\"text-sm text-blue-600 font-medium\",children:[\"Stock: \",T.quantity,\" \",T.unit||\"kg\"]})]}),r.jsxs(\"div\",{className:\"flex gap-2 mb-3\",children:[!T.isOrganic&&T.isVerified&&r.jsxs(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1\",children:[r.jsx(ss,{className:\"w-3 h-3\"}),\"FSSAI Verified\"]}),!T.isOrganic&&T.licenseNumber&&!T.isVerified&&r.jsxs(\"span\",{className:\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded flex items-center gap-1\",children:[r.jsx(Oh,{className:\"w-3 h-3\"}),\"License Pending\"]}),T.isOrganic&&r.jsxs(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1\",children:[r.jsx(ss,{className:\"w-3 h-3\"}),\"Organic\"]})]}),!xt&&r.jsxs(\"div\",{className:\"flex gap-2\",children:[r.jsxs(\"button\",{onClick:()=>pe(T),className:\"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1\",children:[r.jsx(_u,{className:\"w-3 h-3\"}),\"Edit\"]}),r.jsxs(\"button\",{onClick:()=>Te(T.id),className:\"text-sm text-red-600 hover:text-red-800 flex items-center gap-1\",children:[r.jsx(Pl,{className:\"w-3 h-3\"}),\"Delete\"]})]})]},T.id))})]}),O===\"bargains\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold mb-6\",children:\"Bargain Requests\"}),G.length===0?r.jsx(\"div\",{className:\"text-gray-400 text-center\",children:\"No bargains yet.\"}):r.jsx(\"div\",{className:\"space-y-4\",children:G.map(T=>r.jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[r.jsxs(\"div\",{children:[r.jsx(\"h3\",{className:\"font-medium\",children:T.vendorName}),r.jsx(\"p\",{className:\"text-sm text-gray-600\",children:T.productName})]}),r.jsx(\"button\",{onClick:()=>Ke(T),className:\"btn-primary\",children:\"Open Chat\"})]}),r.jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Status: \",T.status]})]},T.id))}),se&&r.jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:r.jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[r.jsxs(\"h3\",{className:\"text-lg font-semibold\",children:[\"Bargain Chat for \",se.productName]}),r.jsx(\"button\",{onClick:()=>K(null),className:\"text-gray-500 hover:text-gray-700\",children:\"âœ•\"})]}),r.jsx(\"div\",{className:\"mb-4 h-64 overflow-y-auto border rounded p-2 bg-gray-50\",children:se.messages.length===0?r.jsx(\"div\",{className:\"text-gray-400 text-center\",children:\"No messages yet.\"}):se.messages.map((T,Be)=>r.jsx(\"div\",{className:`mb-2 ${T.sender===\"supplier\"?\"text-right\":\"text-left\"}`,children:r.jsxs(\"div\",{className:`inline-block px-3 py-2 rounded-lg ${T.sender===\"supplier\"?\"bg-green-100\":\"bg-blue-100\"}`,children:[r.jsx(\"div\",{className:\"text-xs text-gray-500 mb-1\",children:T.sender===\"supplier\"?\"You\":se.vendorName}),T.offer!==void 0&&r.jsxs(\"div\",{className:\"font-bold\",children:[\"Offer: â‚¹\",T.offer]}),T.message&&r.jsx(\"div\",{children:T.message}),r.jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:new Date(T.timestamp).toLocaleString()})]})},Be))}),r.jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[r.jsx(\"input\",{type:\"number\",placeholder:\"Offer (â‚¹)\",value:xe,onChange:T=>ye(T.target.value),className:\"flex-1 border rounded p-2\"}),r.jsx(\"input\",{type:\"text\",placeholder:\"Message\",value:k,onChange:T=>X(T.target.value),className:\"flex-1 border rounded p-2\"}),r.jsx(\"button\",{onClick:un,className:\"btn-primary\",children:\"Send\"})]})]})})]}),O===\"flashsales\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Flash Sales\"}),r.jsxs(\"button\",{onClick:()=>Y(!0),className:\"btn-primary flex items-center gap-2\",children:[r.jsx(na,{className:\"w-4 h-4\"}),\"Create Flash Sale\"]})]}),r.jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:$.map(T=>r.jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[r.jsx(\"h3\",{className:\"font-medium\",children:T.product}),r.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[r.jsxs(\"span\",{className:\"text-sm bg-red-100 text-red-800 px-2 py-1 rounded\",children:[T.discount,\"% OFF\"]}),r.jsxs(\"div\",{className:\"flex gap-1\",children:[r.jsx(\"button\",{onClick:()=>Wn(T),className:\"text-blue-600 hover:text-blue-800 p-1\",title:\"Edit\",children:r.jsx(_u,{className:\"w-4 h-4\"})}),r.jsx(\"button\",{onClick:()=>Oe(T.id),className:\"text-red-600 hover:text-red-800 p-1\",title:\"Delete\",children:r.jsx(Pl,{className:\"w-4 h-4\"})})]})]})]}),T.image&&r.jsx(\"div\",{className:\"mb-3\",children:r.jsx(\"img\",{src:T.image,alt:T.product,className:\"w-full h-32 object-cover rounded\",onError:Be=>{Be.target.src=\"https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop\"}})}),r.jsxs(\"div\",{className:\"space-y-2 mb-3\",children:[r.jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[r.jsxs(\"span\",{className:\"line-through text-gray-500\",children:[\"â‚¹\",T.oldPrice]}),r.jsxs(\"span\",{className:\"font-medium text-green-600\",children:[\"â‚¹\",T.price]})]}),r.jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[r.jsxs(\"span\",{children:[\"Sold: \",T.sold,\"/\",T.total]}),r.jsx(\"span\",{className:\"text-yellow-600 font-medium\",children:r.jsx(Tu,{endTime:T.endTime})})]})]}),r.jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:r.jsx(\"div\",{className:\"bg-green-500 h-2 rounded-full\",style:{width:`${T.sold/T.total*100}%`}})})]},T.id))})]}),O===\"reviews\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold mb-6\",children:\"Customer Reviews\"}),r.jsx(\"button\",{onClick:()=>{const T=Nt.getReviewsBySupplier(d.id);console.log(\"Manual refresh reviews for supplier\",d.id,T),z(T)},className:\"mb-4 btn-secondary\",children:\"Refresh Reviews\"}),R.length===0?r.jsxs(\"div\",{className:\"text-center py-12\",children:[r.jsx(wn,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),r.jsx(\"p\",{className:\"text-gray-500 text-lg\",children:\"No reviews yet.\"}),r.jsx(\"p\",{className:\"text-gray-400 text-sm mt-2\",children:\"Reviews from vendors will appear here.\"})]}):r.jsx(\"div\",{className:\"space-y-4\",children:R.map(T=>r.jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[r.jsxs(\"div\",{children:[r.jsx(\"h3\",{className:\"font-medium\",children:T.vendorName}),r.jsx(\"p\",{className:\"text-sm text-gray-600\",children:T.productName})]}),r.jsx(\"div\",{className:\"flex items-center gap-1\",children:[1,2,3,4,5].map(Be=>r.jsx(wn,{className:`w-4 h-4 ${Be<=T.rating?\"text-yellow-400 fill-current\":\"text-gray-300\"}`},Be))})]}),r.jsx(\"p\",{className:\"text-gray-700 mb-2\",children:T.comment}),r.jsxs(\"div\",{className:\"flex justify-between items-center text-sm text-gray-500\",children:[r.jsx(\"span\",{children:T.date}),r.jsx(\"span\",{className:\"text-green-600\",children:\"Published\"})]})]},T.id))})]}),O===\"deliveries\"&&r.jsxs(\"div\",{className:\"p-6\",children:[r.jsx(\"h2\",{className:\"text-xl font-semibold mb-6\",children:\"Delivery Management\"}),Q.length===0?r.jsx(\"div\",{className:\"text-gray-400 text-center\",children:\"No deliveries yet.\"}):r.jsx(\"div\",{className:\"space-y-4\",children:Q.map(T=>r.jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[r.jsxs(\"div\",{children:[r.jsxs(\"h3\",{className:\"font-medium\",children:[\"Order #\",T.orderId]}),r.jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Customer: \",T.customer]}),r.jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Products: \",T.products.join(\", \")]})]}),r.jsx(\"span\",{className:`text-sm px-2 py-1 rounded ${T.status===\"in-transit\"?\"bg-yellow-100 text-yellow-800\":\"bg-green-100 text-green-800\"}`,children:T.status})]}),r.jsxs(\"div\",{className:\"flex justify-between items-center text-sm text-gray-500\",children:[r.jsxs(\"span\",{children:[\"Delivery Date: \",T.deliveryDate]}),r.jsxs(\"span\",{children:[\"Total: â‚¹\",T.totalAmount]})]})]},T.id))})]})]}),ue&&r.jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:r.jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[r.jsx(\"h3\",{className:\"text-lg font-semibold\",children:me?\"Edit Product\":\"Add New Product\"}),r.jsx(\"button\",{onClick:()=>{Se(!1),Ie(null),ke({name:\"\",price:\"\",quantity:\"\",unit:\"kg\",description:\"\",image:\"\",isOrganic:!1,licenseNumber:\"\",isVerified:!1,category:\"vegetables\"})},className:\"text-gray-500 hover:text-gray-700\",children:r.jsx(On,{className:\"w-5 h-5\"})})]}),r.jsxs(\"div\",{className:\"space-y-4\",children:[r.jsx(\"input\",{type:\"text\",placeholder:\"Product Name\",value:de.name,onChange:T=>it(T.target.value),className:\"w-full p-2 border rounded\"}),r.jsxs(\"div\",{className:\"flex gap-2\",children:[r.jsx(\"input\",{type:\"number\",placeholder:\"Price per unit\",value:de.price,onChange:T=>ke({...de,price:T.target.value}),className:\"flex-1 p-2 border rounded\"}),r.jsxs(\"select\",{value:de.unit,onChange:T=>ke({...de,unit:T.target.value}),className:\"w-32 p-2 border rounded\",children:[r.jsx(\"option\",{value:\"kg\",children:\"Kg\"}),r.jsx(\"option\",{value:\"litre\",children:\"Litre\"}),r.jsx(\"option\",{value:\"dozen\",children:\"Dozen\"}),r.jsx(\"option\",{value:\"piece\",children:\"Piece\"}),r.jsx(\"option\",{value:\"grams\",children:\"Grams\"}),r.jsx(\"option\",{value:\"ml\",children:\"ML\"}),r.jsx(\"option\",{value:\"quintal\",children:\"Quintal\"}),r.jsx(\"option\",{value:\"ton\",children:\"Ton\"}),r.jsx(\"option\",{value:\"box\",children:\"Box\"}),r.jsx(\"option\",{value:\"bag\",children:\"Bag\"})]})]}),r.jsx(\"input\",{type:\"number\",placeholder:\"Total quantity available\",value:de.quantity,onChange:T=>ke({...de,quantity:T.target.value}),className:\"w-full p-2 border rounded\"}),r.jsx(\"textarea\",{placeholder:\"Description\",value:de.description,onChange:T=>ke({...de,description:T.target.value}),className:\"w-full p-2 border rounded\",rows:\"3\"}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Product Type\"}),r.jsxs(\"div\",{className:\"flex gap-4\",children:[r.jsxs(\"label\",{className:\"flex items-center\",children:[r.jsx(\"input\",{type:\"radio\",name:\"productType\",value:\"organic\",checked:de.isOrganic,onChange:()=>Tt(!0),className:\"mr-2\"}),\"Organic\"]}),r.jsxs(\"label\",{className:\"flex items-center\",children:[r.jsx(\"input\",{type:\"radio\",name:\"productType\",value:\"non-organic\",checked:!de.isOrganic,onChange:()=>Tt(!1),className:\"mr-2\"}),\"Non-Organic\"]})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Product Category\"}),r.jsxs(\"select\",{value:de.category,onChange:T=>ke({...de,category:T.target.value}),className:\"w-full p-2 border rounded\",children:[r.jsx(\"option\",{value:\"vegetables\",children:\"Vegetables\"}),r.jsx(\"option\",{value:\"fruits\",children:\"Fruits\"}),r.jsx(\"option\",{value:\"grains\",children:\"Grains\"}),r.jsx(\"option\",{value:\"dairy\",children:\"Dairy Products\"}),r.jsx(\"option\",{value:\"nuts\",children:\"Nuts & Flours\"}),r.jsx(\"option\",{value:\"other\",children:\"Other Materials\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Product Image (Optional)\"}),r.jsx(Dh,{onImageSelect:T=>ke({...de,image:T}),currentImage:de.image,onRemoveImage:()=>ke({...de,image:\"\"})})]}),!de.isOrganic&&r.jsx(\"div\",{className:\"space-y-3\",children:r.jsxs(\"div\",{children:[r.jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"FSSAI License Number (Required for Non-Organic Products)\"}),r.jsxs(\"div\",{className:\"flex gap-2\",children:[r.jsx(\"input\",{type:\"text\",placeholder:\"Enter FSSAI license number\",value:de.licenseNumber,onChange:T=>ke({...de,licenseNumber:T.target.value}),className:\"flex-1 p-2 border rounded\"}),r.jsx(\"button\",{type:\"button\",onClick:cn,className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"Verify\"})]}),de.isVerified&&r.jsxs(\"p\",{className:\"text-sm text-green-600 mt-1 flex items-center gap-1\",children:[r.jsx(ss,{className:\"w-4 h-4\"}),\"License verified successfully\"]}),de.licenseNumber&&!de.isVerified&&r.jsxs(\"p\",{className:\"text-sm text-yellow-600 mt-1 flex items-center gap-1\",children:[r.jsx(Oh,{className:\"w-4 h-4\"}),\"Please verify your license number\"]})]})}),de.isOrganic&&r.jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-3\",children:r.jsxs(\"p\",{className:\"text-sm text-green-800\",children:[r.jsx(ss,{className:\"w-4 h-4 inline mr-1\"}),\"Organic products do not require FSSAI verification\"]})})]}),r.jsxs(\"div\",{className:\"flex gap-2 mt-6\",children:[r.jsxs(\"button\",{onClick:me?De:fe,className:\"btn-primary flex-1 flex items-center justify-center gap-2\",children:[me?r.jsx(mf,{className:\"w-4 h-4\"}):r.jsx(na,{className:\"w-4 h-4\"}),me?\"Update Product\":\"Add Product\"]}),r.jsx(\"button\",{onClick:()=>{Se(!1),Ie(null),ke({name:\"\",price:\"\",quantity:\"\",description:\"\",image:\"\",isOrganic:!1,licenseNumber:\"\",isVerified:!1})},className:\"btn-secondary flex-1\",children:\"Cancel\"})]})]})}),rt&&r.jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:r.jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[r.jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[r.jsx(\"h3\",{className:\"text-lg font-semibold\",children:Ue?\"Edit Flash Sale\":\"Create Flash Sale\"}),r.jsx(\"button\",{onClick:()=>{Y(!1),Ze(null),C({product:\"\",oldPrice:\"\",newPrice:\"\",discount:\"\",totalQuantity:\"\",durationHours:\"\",durationMinutes:\"\",image:\"\"})},className:\"text-gray-500 hover:text-gray-700\",children:r.jsx(On,{className:\"w-5 h-5\"})})]}),r.jsxs(\"div\",{className:\"space-y-4\",children:[r.jsx(\"input\",{type:\"text\",placeholder:\"Product Name\",value:ce.product,onChange:T=>C({...ce,product:T.target.value}),className:\"w-full p-2 border rounded\"}),r.jsx(\"input\",{type:\"number\",placeholder:\"Original Price\",value:ce.oldPrice,onChange:T=>C({...ce,oldPrice:T.target.value}),className:\"w-full p-2 border rounded\"}),r.jsx(\"input\",{type:\"number\",placeholder:\"Sale Price\",value:ce.newPrice,onChange:T=>C({...ce,newPrice:T.target.value}),className:\"w-full p-2 border rounded\"}),r.jsx(\"input\",{type:\"number\",placeholder:\"Discount %\",value:ce.discount,onChange:T=>C({...ce,discount:T.target.value}),className:\"w-full p-2 border rounded\"}),r.jsxs(\"div\",{className:\"flex gap-2\",children:[r.jsx(\"input\",{type:\"number\",placeholder:\"Total Quantity\",value:ce.totalQuantity,onChange:T=>C({...ce,totalQuantity:T.target.value}),className:\"flex-1 p-2 border rounded\"}),r.jsxs(\"select\",{value:ce.quantityUnit,onChange:T=>C({...ce,quantityUnit:T.target.value}),className:\"w-20 p-2 border rounded\",children:[r.jsx(\"option\",{value:\"kg\",children:\"Kg\"}),r.jsx(\"option\",{value:\"g\",children:\"g\"}),r.jsx(\"option\",{value:\"litre\",children:\"L\"}),r.jsx(\"option\",{value:\"ml\",children:\"mL\"}),r.jsx(\"option\",{value:\"piece\",children:\"Pc\"}),r.jsx(\"option\",{value:\"dozen\",children:\"Dz\"}),r.jsx(\"option\",{value:\"box\",children:\"Box\"}),r.jsx(\"option\",{value:\"bag\",children:\"Bag\"}),r.jsx(\"option\",{value:\"quintal\",children:\"Q\"}),r.jsx(\"option\",{value:\"ton\",children:\"Ton\"})]})]}),r.jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[r.jsx(\"input\",{type:\"number\",placeholder:\"Days\",value:ce.durationDays,onChange:T=>C({...ce,durationDays:T.target.value}),className:\"p-2 border rounded\"}),r.jsx(\"input\",{type:\"number\",placeholder:\"Hours\",value:ce.durationHours,onChange:T=>C({...ce,durationHours:T.target.value}),className:\"p-2 border rounded\"}),r.jsx(\"input\",{type:\"number\",placeholder:\"Minutes\",value:ce.durationMinutes,onChange:T=>C({...ce,durationMinutes:T.target.value}),className:\"p-2 border rounded\"})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Product Image (Optional)\"}),r.jsx(Dh,{onImageSelect:T=>C({...ce,image:T}),currentImage:ce.image,onRemoveImage:()=>C({...ce,image:\"\"})})]})]}),r.jsxs(\"div\",{className:\"flex gap-2 mt-6\",children:[r.jsx(\"button\",{onClick:Ue?te:kt,className:\"btn-primary flex-1\",children:Ue?\"Update Sale\":\"Create Sale\"}),r.jsx(\"button\",{onClick:()=>{Y(!1),Ze(null),C({product:\"\",oldPrice:\"\",newPrice:\"\",discount:\"\",totalQuantity:\"\",durationHours:\"\",durationMinutes:\"\",image:\"\"})},className:\"btn-secondary flex-1\",children:\"Cancel\"})]})]})})]})}const Qp=()=>{const{login:d,user:h}=ln(),l=Ur(),[m,g]=w.useState({email:\"\",password:\"\"}),[_,y]=w.useState(!1),[S,N]=w.useState(\"\"),[O,I]=w.useState(!1),b=async G=>{G.preventDefault(),N(\"\"),I(!0);try{await d(m.email,m.password),h&&(h.type===\"supplier\"||h.userType===\"supplier\")?l(\"/supplier-dashboard\"):l(\"/dashboard\")}catch{N(\"Invalid email or password\")}finally{I(!1)}},V=G=>{g({...m,[G.target.name]:G.target.value})};return r.jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:r.jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[r.jsxs(\"div\",{children:[r.jsx(\"div\",{className:\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-bold text-xl\",children:\"VM\"})}),r.jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Sign in to your account\"}),r.jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"Or\",\" \",r.jsx(tt,{to:\"/register\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"create a new account\"})]})]}),r.jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:b,children:[S&&r.jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",children:S}),r.jsxs(\"div\",{className:\"space-y-4\",children:[r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:!0,value:m.email,onChange:V,className:\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your email\"}),r.jsx(Eu,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"password\",name:\"password\",type:_?\"text\":\"password\",autoComplete:\"current-password\",required:!0,value:m.password,onChange:V,className:\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your password\"}),r.jsx(vu,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"}),r.jsx(\"button\",{type:\"button\",onClick:()=>y(!_),className:\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",children:_?r.jsx(gu,{className:\"h-5 w-5\"}):r.jsx(xu,{className:\"h-5 w-5\"})})]})]})]}),r.jsx(\"div\",{children:r.jsx(\"button\",{type:\"submit\",disabled:O,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:O?\"Signing in...\":\"Sign in\"})})]})]})})},Kp=()=>{const{register:d}=ln(),h=Ur(),[l,m]=w.useState({name:\"\",email:\"\",phone:\"\",password:\"\",confirmPassword:\"\",userType:\"vendor\"}),[g,_]=w.useState(!1),[y,S]=w.useState(!1),[N,O]=w.useState(\"\"),[I,b]=w.useState(!1),V=async J=>{if(J.preventDefault(),O(\"\"),l.password!==l.confirmPassword){O(\"Passwords do not match\");return}b(!0);try{await d(l),l.userType===\"supplier\"?h(\"/supplier-dashboard\"):h(\"/dashboard\")}catch{O(\"Registration failed. Please try again.\")}finally{b(!1)}},G=J=>{m({...l,[J.target.name]:J.target.value})};return r.jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:r.jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[r.jsxs(\"div\",{children:[r.jsx(\"div\",{className:\"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center\",children:r.jsx(\"span\",{className:\"text-white font-bold text-xl\",children:\"VM\"})}),r.jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Create your account\"}),r.jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"Or\",\" \",r.jsx(tt,{to:\"/login\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"sign in to your existing account\"})]})]}),r.jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:V,children:[N&&r.jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",children:N}),r.jsxs(\"div\",{className:\"space-y-4\",children:[r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium text-gray-700\",children:\"Full Name\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\",autoComplete:\"name\",required:!0,value:l.name,onChange:G,className:\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your full name\"}),r.jsx(sa,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:!0,value:l.email,onChange:G,className:\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your email\"}),r.jsx(Eu,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"phone\",className:\"block text-sm font-medium text-gray-700\",children:\"Phone Number\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",autoComplete:\"tel\",required:!0,value:l.phone,onChange:G,className:\"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your phone number\"}),r.jsx(ff,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"userType\",className:\"block text-sm font-medium text-gray-700\",children:\"User Type\"}),r.jsxs(\"select\",{id:\"userType\",name:\"userType\",value:l.userType,onChange:G,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",children:[r.jsx(\"option\",{value:\"vendor\",children:\"Vendor\"}),r.jsx(\"option\",{value:\"supplier\",children:\"Supplier\"})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"password\",name:\"password\",type:g?\"text\":\"password\",autoComplete:\"new-password\",required:!0,value:l.password,onChange:G,className:\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your password\"}),r.jsx(vu,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"}),r.jsx(\"button\",{type:\"button\",onClick:()=>_(!g),className:\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",children:g?r.jsx(gu,{className:\"h-5 w-5\"}):r.jsx(xu,{className:\"h-5 w-5\"})})]})]}),r.jsxs(\"div\",{children:[r.jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"block text-sm font-medium text-gray-700\",children:\"Confirm Password\"}),r.jsxs(\"div\",{className:\"mt-1 relative\",children:[r.jsx(\"input\",{id:\"confirmPassword\",name:\"confirmPassword\",type:y?\"text\":\"password\",autoComplete:\"new-password\",required:!0,value:l.confirmPassword,onChange:G,className:\"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Confirm your password\"}),r.jsx(vu,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"}),r.jsx(\"button\",{type:\"button\",onClick:()=>S(!y),className:\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",children:y?r.jsx(gu,{className:\"h-5 w-5\"}):r.jsx(xu,{className:\"h-5 w-5\"})})]})]})]}),r.jsx(\"div\",{children:r.jsx(\"button\",{type:\"submit\",disabled:I,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:I?\"Creating account...\":\"Create account\"})})]})]})})};function vf(d,h){const l=w.useRef(h);w.useEffect(function(){h!==l.current&&d.attributionControl!=null&&(l.current!=null&&d.attributionControl.removeAttribution(l.current),h!=null&&d.attributionControl.addAttribution(h)),l.current=h},[d,h])}function Jp(d,h,l){h.center!==l.center&&d.setLatLng(h.center),h.radius!=null&&h.radius!==l.radius&&d.setRadius(h.radius)}const Yp=1;function Xp(d){return Object.freeze({__version:Yp,map:d})}function yf(d,h){return Object.freeze({...d,...h})}const _f=w.createContext(null),wf=_f.Provider;function Mu(){const d=w.useContext(_f);if(d==null)throw new Error(\"No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>\");return d}function Nf(d){function h(l,m){const{instance:g,context:_}=d(l).current;return w.useImperativeHandle(m,()=>g),l.children==null?null:ra.createElement(wf,{value:_},l.children)}return w.forwardRef(h)}function eg(d){function h(l,m){const[g,_]=w.useState(!1),{instance:y}=d(l,_).current;w.useImperativeHandle(m,()=>y),w.useEffect(function(){g&&y.update()},[y,g,l.children]);const S=y._contentNode;return S?xm.createPortal(l.children,S):null}return w.forwardRef(h)}function tg(d){function h(l,m){const{instance:g}=d(l).current;return w.useImperativeHandle(m,()=>g),null}return w.forwardRef(h)}function Ou(d,h){const l=w.useRef();w.useEffect(function(){return h!=null&&d.instance.on(h),l.current=h,function(){l.current!=null&&d.instance.off(l.current),l.current=null}},[d,h])}function Ml(d,h){const l=d.pane??h.pane;return l?{...d,pane:l}:d}function ng(d,h){return function(m,g){const _=Mu(),y=d(Ml(m,_),_);return vf(_.map,m.attribution),Ou(y.current,m.eventHandlers),h(y.current,_,m,g),y}}var no={exports:{}};/* @preserve\n * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com\n * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade\n */var rg=no.exports,Bh;function ig(){return Bh||(Bh=1,function(d,h){(function(l,m){m(h)})(rg,function(l){var m=\"1.9.4\";function g(t){var i,a,c,p;for(a=1,c=arguments.length;a<c;a++){p=arguments[a];for(i in p)t[i]=p[i]}return t}var _=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function y(t,i){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var c=a.call(arguments,2);return function(){return t.apply(i,c.length?c.concat(a.call(arguments)):arguments)}}var S=0;function N(t){return\"_leaflet_id\"in t||(t._leaflet_id=++S),t._leaflet_id}function O(t,i,a){var c,p,v,P;return P=function(){c=!1,p&&(v.apply(a,p),p=!1)},v=function(){c?p=arguments:(t.apply(a,arguments),setTimeout(P,i),c=!0)},v}function I(t,i,a){var c=i[1],p=i[0],v=c-p;return t===c&&a?t:((t-p)%v+v)%v+p}function b(){return!1}function V(t,i){if(i===!1)return t;var a=Math.pow(10,i===void 0?6:i);return Math.round(t*a)/a}function G(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}function J(t){return G(t).split(/\\s+/)}function R(t,i){Object.prototype.hasOwnProperty.call(t,\"options\")||(t.options=t.options?_(t.options):{});for(var a in i)t.options[a]=i[a];return t.options}function z(t,i,a){var c=[];for(var p in t)c.push(encodeURIComponent(a?p.toUpperCase():p)+\"=\"+encodeURIComponent(t[p]));return(!i||i.indexOf(\"?\")===-1?\"?\":\"&\")+c.join(\"&\")}var Q=/\\{ *([\\w_ -]+) *\\}/g;function B(t,i){return t.replace(Q,function(a,c){var p=i[c];if(p===void 0)throw new Error(\"No value provided for variable \"+a);return typeof p==\"function\"&&(p=p(i)),p})}var $=Array.isArray||function(t){return Object.prototype.toString.call(t)===\"[object Array]\"};function D(t,i){for(var a=0;a<t.length;a++)if(t[a]===i)return a;return-1}var A=\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\";function ee(t){return window[\"webkit\"+t]||window[\"moz\"+t]||window[\"ms\"+t]}var ue=0;function Se(t){var i=+new Date,a=Math.max(0,16-(i-ue));return ue=i+a,window.setTimeout(t,a)}var rt=window.requestAnimationFrame||ee(\"RequestAnimationFrame\")||Se,Y=window.cancelAnimationFrame||ee(\"CancelAnimationFrame\")||ee(\"CancelRequestAnimationFrame\")||function(t){window.clearTimeout(t)};function me(t,i,a){if(a&&rt===Se)t.call(i);else return rt.call(window,y(t,i))}function Ie(t){t&&Y.call(window,t)}var Ue={__proto__:null,extend:g,create:_,bind:y,get lastId(){return S},stamp:N,throttle:O,wrapNum:I,falseFn:b,formatNum:V,trim:G,splitWords:J,setOptions:R,getParamString:z,template:B,isArray:$,indexOf:D,emptyImageUrl:A,requestFn:rt,cancelFn:Y,requestAnimFrame:me,cancelAnimFrame:Ie};function Ze(){}Ze.extend=function(t){var i=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,c=_(a);c.constructor=i,i.prototype=c;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!==\"prototype\"&&p!==\"__super__\"&&(i[p]=this[p]);return t.statics&&g(i,t.statics),t.includes&&(de(t.includes),g.apply(null,[c].concat(t.includes))),g(c,t),delete c.statics,delete c.includes,c.options&&(c.options=a.options?_(a.options):{},g(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,P=c._initHooks.length;v<P;v++)c._initHooks[v].call(this)}},i},Ze.include=function(t){var i=this.prototype.options;return g(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Ze.mergeOptions=function(t){return g(this.prototype.options,t),this},Ze.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),a=typeof t==\"function\"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function de(t){if(!(typeof L>\"u\"||!L||!L.Mixin)){t=$(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn(\"Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.\",new Error().stack)}}var ke={on:function(t,i,a){if(typeof t==\"object\")for(var c in t)this._on(c,t[c],i);else{t=J(t);for(var p=0,v=t.length;p<v;p++)this._on(t[p],i,a)}return this},off:function(t,i,a){if(!arguments.length)delete this._events;else if(typeof t==\"object\")for(var c in t)this._off(c,t[c],i);else{t=J(t);for(var p=arguments.length===1,v=0,P=t.length;v<P;v++)p?this._off(t[v]):this._off(t[v],i,a)}return this},_on:function(t,i,a,c){if(typeof i!=\"function\"){console.warn(\"wrong listener type: \"+typeof i);return}if(this._listens(t,i,a)===!1){a===this&&(a=void 0);var p={fn:i,ctx:a};c&&(p.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(p)}},_off:function(t,i,a){var c,p,v;if(this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(p=0,v=c.length;p<v;p++)c[p].fn=b;delete this._events[t];return}if(typeof i!=\"function\"){console.warn(\"wrong listener type: \"+typeof i);return}var P=this._listens(t,i,a);if(P!==!1){var F=c[P];this._firingCount&&(F.fn=b,this._events[t]=c=c.slice()),c.splice(P,1)}}},fire:function(t,i,a){if(!this.listens(t,a))return this;var c=g({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var p=this._events[t];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,P=p.length;v<P;v++){var F=p[v],q=F.fn;F.once&&this.off(t,q,F.ctx),q.call(F.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(t,i,a,c){typeof t!=\"string\"&&console.warn('\"string\" type argument expected');var p=i;typeof i!=\"function\"&&(c=!!i,p=void 0,a=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,p,a)!==!1)return!0;if(c){for(var P in this._eventParents)if(this._eventParents[P].listens(t,i,a,c))return!0}return!1},_listens:function(t,i,a){if(!this._events)return!1;var c=this._events[t]||[];if(!i)return!!c.length;a===this&&(a=void 0);for(var p=0,v=c.length;p<v;p++)if(c[p].fn===i&&c[p].ctx===a)return p;return!1},once:function(t,i,a){if(typeof t==\"object\")for(var c in t)this._on(c,t[c],i,!0);else{t=J(t);for(var p=0,v=t.length;p<v;p++)this._on(t[p],i,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[N(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[N(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,g({layer:t.target,propagatedFrom:t.target},t),!0)}};ke.addEventListener=ke.on,ke.removeEventListener=ke.clearAllEventListeners=ke.off,ke.addOneTimeEventListener=ke.once,ke.fireEvent=ke.fire,ke.hasEventListeners=ke.listens;var ce=Ze.extend(ke);function C(t,i,a){this.x=a?Math.round(t):t,this.y=a?Math.round(i):i}var se=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(K(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(K(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new C(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new C(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(t){t=K(t);var i=t.x-this.x,a=t.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(t){return t=K(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=K(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return\"Point(\"+V(this.x)+\", \"+V(this.y)+\")\"}};function K(t,i,a){return t instanceof C?t:$(t)?new C(t[0],t[1]):t==null?t:typeof t==\"object\"&&\"x\"in t&&\"y\"in t?new C(t.x,t.y):new C(t,i,a)}function k(t,i){if(t)for(var a=i?[t,i]:t,c=0,p=a.length;c<p;c++)this.extend(a[c])}k.prototype={extend:function(t){var i,a;if(!t)return this;if(t instanceof C||typeof t[0]==\"number\"||\"x\"in t)i=a=K(t);else if(t=X(t),i=t.min,a=t.max,!i||!a)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=a.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,a;return typeof t[0]==\"number\"||t instanceof C?t=K(t):t=X(t),t instanceof k?(i=t.min,a=t.max):i=a=t,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=X(t);var i=this.min,a=this.max,c=t.min,p=t.max,v=p.x>=i.x&&c.x<=a.x,P=p.y>=i.y&&c.y<=a.y;return v&&P},overlaps:function(t){t=X(t);var i=this.min,a=this.max,c=t.min,p=t.max,v=p.x>i.x&&c.x<a.x,P=p.y>i.y&&c.y<a.y;return v&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,a=this.max,c=Math.abs(i.x-a.x)*t,p=Math.abs(i.y-a.y)*t;return X(K(i.x-c,i.y-p),K(a.x+c,a.y+p))},equals:function(t){return t?(t=X(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function X(t,i){return!t||t instanceof k?t:new k(t,i)}function xe(t,i){if(t)for(var a=i?[t,i]:t,c=0,p=a.length;c<p;c++)this.extend(a[c])}xe.prototype={extend:function(t){var i=this._southWest,a=this._northEast,c,p;if(t instanceof pe)c=t,p=t;else if(t instanceof xe){if(c=t._southWest,p=t._northEast,!c||!p)return this}else return t?this.extend(fe(t)||ye(t)):this;return!i&&!a?(this._southWest=new pe(c.lat,c.lng),this._northEast=new pe(p.lat,p.lng)):(i.lat=Math.min(c.lat,i.lat),i.lng=Math.min(c.lng,i.lng),a.lat=Math.max(p.lat,a.lat),a.lng=Math.max(p.lng,a.lng)),this},pad:function(t){var i=this._southWest,a=this._northEast,c=Math.abs(i.lat-a.lat)*t,p=Math.abs(i.lng-a.lng)*t;return new xe(new pe(i.lat-c,i.lng-p),new pe(a.lat+c,a.lng+p))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]==\"number\"||t instanceof pe||\"lat\"in t?t=fe(t):t=ye(t);var i=this._southWest,a=this._northEast,c,p;return t instanceof xe?(c=t.getSouthWest(),p=t.getNorthEast()):c=p=t,c.lat>=i.lat&&p.lat<=a.lat&&c.lng>=i.lng&&p.lng<=a.lng},intersects:function(t){t=ye(t);var i=this._southWest,a=this._northEast,c=t.getSouthWest(),p=t.getNorthEast(),v=p.lat>=i.lat&&c.lat<=a.lat,P=p.lng>=i.lng&&c.lng<=a.lng;return v&&P},overlaps:function(t){t=ye(t);var i=this._southWest,a=this._northEast,c=t.getSouthWest(),p=t.getNorthEast(),v=p.lat>i.lat&&c.lat<a.lat,P=p.lng>i.lng&&c.lng<a.lng;return v&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(\",\")},equals:function(t,i){return t?(t=ye(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(t,i){return t instanceof xe?t:new xe(t,i)}function pe(t,i,a){if(isNaN(t)||isNaN(i))throw new Error(\"Invalid LatLng object: (\"+t+\", \"+i+\")\");this.lat=+t,this.lng=+i,a!==void 0&&(this.alt=+a)}pe.prototype={equals:function(t,i){if(!t)return!1;t=fe(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(i===void 0?1e-9:i)},toString:function(t){return\"LatLng(\"+V(this.lat,t)+\", \"+V(this.lng,t)+\")\"},distanceTo:function(t){return Te.distance(this,fe(t))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,a=i/Math.cos(Math.PI/180*this.lat);return ye([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function fe(t,i,a){return t instanceof pe?t:$(t)&&typeof t[0]!=\"object\"?t.length===3?new pe(t[0],t[1],t[2]):t.length===2?new pe(t[0],t[1]):null:t==null?t:typeof t==\"object\"&&\"lat\"in t?new pe(t.lat,\"lng\"in t?t.lng:t.lon,t.alt):i===void 0?null:new pe(t,i,a)}var De={latLngToPoint:function(t,i){var a=this.projection.project(t),c=this.scale(i);return this.transformation._transform(a,c)},pointToLatLng:function(t,i){var a=this.scale(i),c=this.transformation.untransform(t,a);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(t),c=this.transformation.transform(i.min,a),p=this.transformation.transform(i.max,a);return new k(c,p)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?I(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?I(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new pe(a,i,c)},wrapLatLngBounds:function(t){var i=t.getCenter(),a=this.wrapLatLng(i),c=i.lat-a.lat,p=i.lng-a.lng;if(c===0&&p===0)return t;var v=t.getSouthWest(),P=t.getNorthEast(),F=new pe(v.lat-c,v.lng-p),q=new pe(P.lat-c,P.lng-p);return new xe(F,q)}},Te=g({},De,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var a=Math.PI/180,c=t.lat*a,p=i.lat*a,v=Math.sin((i.lat-t.lat)*a/2),P=Math.sin((i.lng-t.lng)*a/2),F=v*v+Math.cos(c)*Math.cos(p)*P*P,q=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*q}}),We=6378137,it={R:We,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,t.lat),-a),p=Math.sin(c*i);return new C(this.R*t.lng*i,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(t){var i=180/Math.PI;return new pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=We*Math.PI;return new k([-t,-t],[t,t])}()};function Tt(t,i,a,c){if($(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=a,this._d=c}Tt.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new C((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function cn(t,i,a,c){return new Tt(t,i,a,c)}var kt=g({},Te,{code:\"EPSG:3857\",projection:it,transformation:function(){var t=.5/(Math.PI*it.R);return cn(t,.5,-t,.5)}()}),Wn=g({},kt,{code:\"EPSG:900913\"});function te(t){return document.createElementNS(\"http://www.w3.org/2000/svg\",t)}function Oe(t,i){var a=\"\",c,p,v,P,F,q;for(c=0,v=t.length;c<v;c++){for(F=t[c],p=0,P=F.length;p<P;p++)q=F[p],a+=(p?\"L\":\"M\")+q.x+\" \"+q.y;a+=i?Ne.svg?\"z\":\"x\":\"\"}return a||\"M0 0\"}var Ke=document.documentElement.style,un=\"ActiveXObject\"in window,xt=un&&!document.addEventListener,mt=\"msLaunchUri\"in navigator&&!(\"documentMode\"in document),T=Vt(\"webkit\"),Be=Vt(\"android\"),pt=Vt(\"android 2\")||Vt(\"android 3\"),Xt=parseInt(/WebKit\\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=Be&&Vt(\"Google\")&&Xt<537&&!(\"AudioNode\"in window),bt=!!window.opera,Ut=!mt&&Vt(\"chrome\"),At=Vt(\"gecko\")&&!T&&!bt&&!un,hs=!Ut&&Vt(\"safari\"),ar=Vt(\"phantom\"),or=\"OTransition\"in Ke,ca=navigator.platform.indexOf(\"Win\")===0,Pi=un&&\"transition\"in Ke,Zr=\"WebKitCSSMatrix\"in window&&\"m11\"in new window.WebKitCSSMatrix&&!pt,fs=\"MozPerspective\"in Ke,U=!window.L_DISABLE_3D&&(Pi||Zr||fs)&&!or&&!ar,le=typeof orientation<\"u\"||Vt(\"mobile\"),He=le&&T,$e=le&&Zr,Pe=!window.PointerEvent&&window.MSPointerEvent,je=!!(window.PointerEvent||Pe),Xe=\"ontouchstart\"in window||!!window.TouchEvent,Nn=!window.L_NO_TOUCH&&(Xe||je),en=le&&bt,lr=le&&At,oo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lo=function(){var t=!1;try{var i=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"testPassiveEventSupport\",b,i),window.removeEventListener(\"testPassiveEventSupport\",b,i)}catch{}return t}(),ua=function(){return!!document.createElement(\"canvas\").getContext}(),ms=!!(document.createElementNS&&te(\"svg\").createSVGRect),Ci=!!ms&&function(){var t=document.createElement(\"div\");return t.innerHTML=\"<svg/>\",(t.firstChild&&t.firstChild.namespaceURI)===\"http://www.w3.org/2000/svg\"}(),da=!ms&&function(){try{var t=document.createElement(\"div\");t.innerHTML='<v:shape adj=\"1\"/>';var i=t.firstChild;return i.style.behavior=\"url(#default#VML)\",i&&typeof i.adj==\"object\"}catch{return!1}}(),Li=navigator.platform.indexOf(\"Mac\")===0,zl=navigator.platform.indexOf(\"Linux\")===0;function Vt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ne={ie:un,ielt9:xt,edge:mt,webkit:T,android:Be,android23:pt,androidStock:st,opera:bt,chrome:Ut,gecko:At,safari:hs,phantom:ar,opera12:or,win:ca,ie3d:Pi,webkit3d:Zr,gecko3d:fs,any3d:U,mobile:le,mobileWebkit:He,mobileWebkit3d:$e,msPointer:Pe,pointer:je,touch:Nn,touchNative:Xe,mobileOpera:en,mobileGecko:lr,retina:oo,passiveEvents:lo,canvas:ua,svg:ms,vml:da,inlineSvg:Ci,mac:Li,linux:zl},Ei=Ne.msPointer?\"MSPointerDown\":\"pointerdown\",ps=Ne.msPointer?\"MSPointerMove\":\"pointermove\",co=Ne.msPointer?\"MSPointerUp\":\"pointerup\",uo=Ne.msPointer?\"MSPointerCancel\":\"pointercancel\",ha={touchstart:Ei,touchmove:ps,touchend:co,touchcancel:uo},cr={touchstart:vt,touchmove:gs,touchend:gs,touchcancel:gs},wr={},fa=!1;function Al(t,i,a){return i===\"touchstart\"&&Dl(),cr[i]?(a=cr[i].bind(this,a),t.addEventListener(ha[i],a,!1),a):(console.warn(\"wrong event specified:\",i),b)}function ho(t,i,a){if(!ha[i]){console.warn(\"wrong event specified:\",i);return}t.removeEventListener(ha[i],a,!1)}function fo(t){wr[t.pointerId]=t}function mo(t){wr[t.pointerId]&&(wr[t.pointerId]=t)}function ma(t){delete wr[t.pointerId]}function Dl(){fa||(document.addEventListener(Ei,fo,!0),document.addEventListener(ps,mo,!0),document.addEventListener(co,ma,!0),document.addEventListener(uo,ma,!0),fa=!0)}function gs(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||\"mouse\")){i.touches=[];for(var a in wr)i.touches.push(wr[a]);i.changedTouches=[i],t(i)}}function vt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&yt(i),gs(t,i)}function Bl(t){var i={},a,c;for(c in t)a=t[c],i[c]=a&&a.bind?a.bind(t):a;return t=i,i.type=\"dblclick\",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var pa=200;function po(t,i){t.addEventListener(\"dblclick\",i);var a=0,c;function p(v){if(v.detail!==1){c=v.detail;return}if(!(v.pointerType===\"mouse\"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var P=jr(v);if(!(P.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!P.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var F=Date.now();F-a<=pa?(c++,c===2&&i(Bl(v))):c=1,a=F}}}return t.addEventListener(\"click\",p),{dblclick:i,simDblclick:p}}function xs(t,i){t.removeEventListener(\"dblclick\",i.dblclick),t.removeEventListener(\"click\",i.simDblclick)}var ga=qr([\"transform\",\"webkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"]),$r=qr([\"webkitTransition\",\"transition\",\"OTransition\",\"MozTransition\",\"msTransition\"]),Ii=$r===\"webkitTransition\"||$r===\"OTransition\"?$r+\"End\":\"transitionend\";function bn(t){return typeof t==\"string\"?document.getElementById(t):t}function Ti(t,i){var a=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!a||a===\"auto\")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);a=c?c[i]:null}return a===\"auto\"?null:a}function Fe(t,i,a){var c=document.createElement(t);return c.className=i||\"\",a&&a.appendChild(c),c}function dt(t){var i=t.parentNode;i&&i.removeChild(t)}function vs(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Gn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Hr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var a=ys(t);return a.length>0&&new RegExp(\"(^|\\\\s)\"+i+\"(\\\\s|$)\").test(a)}function Ae(t,i){if(t.classList!==void 0)for(var a=J(i),c=0,p=a.length;c<p;c++)t.classList.add(a[c]);else if(!Hr(t,i)){var v=ys(t);xa(t,(v?v+\" \":\"\")+i)}}function lt(t,i){t.classList!==void 0?t.classList.remove(i):xa(t,G((\" \"+ys(t)+\" \").replace(\" \"+i+\" \",\" \")))}function xa(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function ys(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ht(t,i){\"opacity\"in t.style?t.style.opacity=i:\"filter\"in t.style&&go(t,i)}function go(t,i){var a=!1,c=\"DXImageTransform.Microsoft.Alpha\";try{a=t.filters.item(c)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):t.style.filter+=\" progid:\"+c+\"(opacity=\"+i+\")\"}function qr(t){for(var i=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in i)return t[a];return!1}function jn(t,i,a){var c=i||new C(0,0);t.style[ga]=(Ne.ie3d?\"translate(\"+c.x+\"px,\"+c.y+\"px)\":\"translate3d(\"+c.x+\"px,\"+c.y+\"px,0)\")+(a?\" scale(\"+a+\")\":\"\")}function jt(t,i){t._leaflet_pos=i,Ne.any3d?jn(t,i):(t.style.left=i.x+\"px\",t.style.top=i.y+\"px\")}function Qn(t){return t._leaflet_pos||new C(0,0)}var Je,Wr,_s;if(\"onselectstart\"in document)Je=function(){Me(window,\"selectstart\",yt)},Wr=function(){at(window,\"selectstart\",yt)};else{var Nr=qr([\"userSelect\",\"WebkitUserSelect\",\"OUserSelect\",\"MozUserSelect\",\"msUserSelect\"]);Je=function(){if(Nr){var t=document.documentElement.style;_s=t[Nr],t[Nr]=\"none\"}},Wr=function(){Nr&&(document.documentElement.style[Nr]=_s,_s=void 0)}}function ws(){Me(window,\"dragstart\",yt)}function Ns(){at(window,\"dragstart\",yt)}var Mi,Oi;function Gr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Sn(),Mi=t,Oi=t.style.outlineStyle,t.style.outlineStyle=\"none\",Me(window,\"keydown\",Sn))}function Sn(){Mi&&(Mi.style.outlineStyle=Oi,Mi=void 0,Oi=void 0,at(window,\"keydown\",Sn))}function Kn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Rn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Ri={__proto__:null,TRANSFORM:ga,TRANSITION:$r,TRANSITION_END:Ii,get:bn,getStyle:Ti,create:Fe,remove:dt,empty:vs,toFront:Vr,toBack:Gn,hasClass:Hr,addClass:Ae,removeClass:lt,setClass:xa,getClass:ys,setOpacity:Ht,testProp:qr,setTransform:jn,setPosition:jt,getPosition:Qn,get disableTextSelection(){return Je},get enableTextSelection(){return Wr},disableImageDrag:ws,enableImageDrag:Ns,preventOutline:Gr,restoreOutline:Sn,getSizedParentNode:Kn,getScale:Rn};function Me(t,i,a,c){if(i&&typeof i==\"object\")for(var p in i)ya(t,p,i[p],a);else{i=J(i);for(var v=0,P=i.length;v<P;v++)ya(t,i[v],a,c)}return this}var Mt=\"_leaflet_events\";function at(t,i,a,c){if(arguments.length===1)va(t),delete t[Mt];else if(i&&typeof i==\"object\")for(var p in i)bs(t,p,i[p],a);else if(i=J(i),arguments.length===2)va(t,function(F){return D(i,F)!==-1});else for(var v=0,P=i.length;v<P;v++)bs(t,i[v],a,c);return this}function va(t,i){for(var a in t[Mt]){var c=a.split(/\\d/)[0];(!i||i(c))&&bs(t,c,null,null,a)}}var br={mouseenter:\"mouseover\",mouseleave:\"mouseout\",wheel:!(\"onwheel\"in window)&&\"mousewheel\"};function ya(t,i,a,c){var p=i+N(a)+(c?\"_\"+N(c):\"\");if(t[Mt]&&t[Mt][p])return this;var v=function(F){return a.call(c||t,F||window.event)},P=v;!Ne.touchNative&&Ne.pointer&&i.indexOf(\"touch\")===0?v=Al(t,i,v):Ne.touch&&i===\"dblclick\"?v=po(t,v):\"addEventListener\"in t?i===\"touchstart\"||i===\"touchmove\"||i===\"wheel\"||i===\"mousewheel\"?t.addEventListener(br[i]||i,v,Ne.passiveEvents?{passive:!1}:!1):i===\"mouseenter\"||i===\"mouseleave\"?(v=function(F){F=F||window.event,Di(t,F)&&P(F)},t.addEventListener(br[i],v,!1)):t.addEventListener(i,P,!1):t.attachEvent(\"on\"+i,v),t[Mt]=t[Mt]||{},t[Mt][p]=v}function bs(t,i,a,c,p){p=p||i+N(a)+(c?\"_\"+N(c):\"\");var v=t[Mt]&&t[Mt][p];if(!v)return this;!Ne.touchNative&&Ne.pointer&&i.indexOf(\"touch\")===0?ho(t,i,v):Ne.touch&&i===\"dblclick\"?xs(t,v):\"removeEventListener\"in t?t.removeEventListener(br[i]||i,v,!1):t.detachEvent(\"on\"+i,v),t[Mt][p]=null}function zn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function js(t){return ya(t,\"wheel\",zn),this}function zi(t){return Me(t,\"mousedown touchstart dblclick contextmenu\",zn),t._leaflet_disable_click=!0,this}function yt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function kn(t){return yt(t),zn(t),this}function jr(t){if(t.composedPath)return t.composedPath();for(var i=[],a=t.target;a;)i.push(a),a=a.parentNode;return i}function Ai(t,i){if(!i)return new C(t.clientX,t.clientY);var a=Rn(i),c=a.boundingClientRect;return new C((t.clientX-c.left)/a.x-i.clientLeft,(t.clientY-c.top)/a.y-i.clientTop)}var Fl=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xo(t){return Ne.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Fl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Di(t,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var Ss={__proto__:null,on:Me,off:at,stopPropagation:zn,disableScrollPropagation:js,disableClickPropagation:zi,preventDefault:yt,stop:kn,getPropagationPath:jr,getMousePosition:Ai,getWheelDelta:xo,isExternalTarget:Di,addListener:Me,removeListener:at},ks=ce.extend({run:function(t,i,a,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Qn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire(\"start\"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=me(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var a=this._startPos.add(this._offset.multiplyBy(t));i&&a._round(),jt(this._el,a),this.fire(\"step\")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire(\"end\")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Qe=ce.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=R(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(fe(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$r&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Ii,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(fe(t),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=g({animate:a.animate},a.zoom),a.pan=g({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,a.zoom):this._tryAnimatedPan(t,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,a){var c=this.getZoomScale(i),p=this.getSize().divideBy(2),v=t instanceof C?t:this.latLngToContainerPoint(t),P=v.subtract(p).multiplyBy(1-1/c),F=this.containerPointToLatLng(p.add(P));return this.setView(F,i,{zoom:a})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ye(t);var a=K(i.paddingTopLeft||i.padding||[0,0]),c=K(i.paddingBottomRight||i.padding||[0,0]),p=this.getBoundsZoom(t,!1,a.add(c));if(p=typeof i.maxZoom==\"number\"?Math.min(i.maxZoom,p):p,p===1/0)return{center:t.getCenter(),zoom:p};var v=c.subtract(a).divideBy(2),P=this.project(t.getSouthWest(),p),F=this.project(t.getNorthEast(),p),q=this.unproject(P.add(F).divideBy(2).add(v),p);return{center:q,zoom:p}},fitBounds:function(t,i){if(t=ye(t),!t.isValid())throw new Error(\"Bounds are not valid.\");var a=this._getBoundsCenterZoom(t,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=K(t).round(),i=i||{},!t.x&&!t.y)return this.fire(\"moveend\");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire(\"movestart\"),i.animate!==!1){Ae(this._mapPane,\"leaflet-pan-anim\");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire(\"move\").fire(\"moveend\");return this},flyTo:function(t,i,a){if(a=a||{},a.animate===!1||!Ne.any3d)return this.setView(t,i,a);this._stop();var c=this.project(this.getCenter()),p=this.project(t),v=this.getSize(),P=this._zoom;t=fe(t),i=i===void 0?P:i;var F=Math.max(v.x,v.y),q=F*this.getZoomScale(P,i),ne=p.distanceTo(c)||1,he=1.42,Ce=he*he;function Ve(nt){var ci=nt?-1:1,ec=nt?q:F,tc=q*q-F*F+ci*Ce*Ce*ne*ne,Ir=2*ec*Ce*ne,Tr=tc/Ir,Mr=Math.sqrt(Tr*Tr+1)-Tr,Fs=Mr<1e-9?-18:Math.log(Mr);return Fs}function Ot(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function Lt(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function rn(nt){return Ot(nt)/Lt(nt)}var Wt=Ve(0);function oi(nt){return F*(Lt(Wt)/Lt(Wt+he*nt))}function Fa(nt){return F*(Lt(Wt)*rn(Wt+he*nt)-Ot(Wt))/Ce}function xr(nt){return 1-Math.pow(1-nt,1.5)}var Do=Date.now(),Er=(Ve(1)-Wt)/he,Fn=a.duration?1e3*a.duration:1e3*Er*.8;function li(){var nt=(Date.now()-Do)/Fn,ci=xr(nt)*Er;nt<=1?(this._flyToFrame=me(li,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(Fa(ci)/ne)),P),this.getScaleZoom(F/oi(ci),P),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),li.call(this),this},flyToBounds:function(t,i){var a=this._getBoundsCenterZoom(t,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(t){return t=ye(t),this.listens(\"moveend\",this._panInsideMaxBounds)&&this.off(\"moveend\",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on(\"moveend\",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire(\"zoomlevelschange\"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire(\"zoomlevelschange\"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,ye(t));return a.equals(c)||this.panTo(c,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var a=K(i.paddingTopLeft||i.padding||[0,0]),c=K(i.paddingBottomRight||i.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(t),P=this.getPixelBounds(),F=X([P.min.add(a),P.max.subtract(c)]),q=F.getSize();if(!F.contains(v)){this._enforcingBounds=!0;var ne=v.subtract(F.getCenter()),he=F.extend(v).getSize().subtract(q);p.x+=ne.x<0?-he.x:he.x,p.y+=ne.y<0?-he.y:he.y,this.panTo(this.unproject(p),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=g({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=i.divideBy(2).round(),p=a.divideBy(2).round(),v=c.subtract(p);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire(\"move\"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,\"moveend\"),200)):this.fire(\"moveend\")),this.fire(\"resize\",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(\"viewreset\"),this._stop()},locate:function(t){if(t=this._locateOptions=g({timeout:1e4,watch:!1},t),!(\"geolocation\"in navigator))return this._handleGeolocationError({code:0,message:\"Geolocation not supported.\"}),this;var i=y(this._handleGeolocationResponse,this),a=y(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,t):navigator.geolocation.getCurrentPosition(i,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,a=t.message||(i===1?\"permission denied\":i===2?\"position unavailable\":\"timeout\");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(\"locationerror\",{code:i,message:\"Geolocation error: \"+a+\".\"})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,a=t.coords.longitude,c=new pe(i,a),p=c.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var P=this.getBoundsZoom(p);this.setView(c,v.maxZoom?Math.min(P,v.maxZoom):P)}var F={latlng:c,bounds:p,timestamp:t.timestamp};for(var q in t.coords)typeof t.coords[q]==\"number\"&&(F[q]=t.coords[q]);this.fire(\"locationfound\",F)}},addHandler:function(t,i){if(!i)return this;var a=this[t]=new i(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off(\"moveend\",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error(\"Map container is being reused by another instance\");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire(\"unload\");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)dt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var a=\"leaflet-pane\"+(t?\" leaflet-\"+t.replace(\"Pane\",\"\")+\"-pane\":\"\"),c=Fe(\"div\",a,i||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new xe(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,a){t=ye(t),a=K(a||[0,0]);var c=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),P=t.getNorthWest(),F=t.getSouthEast(),q=this.getSize().subtract(a),ne=X(this.project(F,c),this.project(P,c)).getSize(),he=Ne.any3d?this.options.zoomSnap:1,Ce=q.x/ne.x,Ve=q.y/ne.y,Ot=i?Math.max(Ce,Ve):Math.min(Ce,Ve);return c=this.getScaleZoom(Ot,c),he&&(c=Math.round(c/(he/100))*(he/100),c=i?Math.ceil(c/he)*he:Math.floor(c/he)*he),Math.max(p,Math.min(v,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var a=this._getTopLeftPoint(t,i);return new k(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t==\"string\"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(t)/a.scale(i)},getScaleZoom:function(t,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var c=a.zoom(t*a.scale(i));return isNaN(c)?1/0:c},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(fe(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(K(t),i)},layerPointToLatLng:function(t){var i=K(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(fe(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(fe(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ye(t))},distance:function(t,i){return this.options.crs.distance(fe(t),fe(i))},containerPointToLayerPoint:function(t){return K(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return K(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(K(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(t)))},mouseEventToContainerPoint:function(t){return Ai(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=bn(t);if(i){if(i._leaflet_id)throw new Error(\"Map container is already initialized.\")}else throw new Error(\"Map container not found.\");Me(i,\"scroll\",this._onScroll,this),this._containerId=N(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Ae(t,\"leaflet-container\"+(Ne.touch?\" leaflet-touch\":\"\")+(Ne.retina?\" leaflet-retina\":\"\")+(Ne.ielt9?\" leaflet-oldie\":\"\")+(Ne.safari?\" leaflet-safari\":\"\")+(this._fadeAnimated?\" leaflet-fade-anim\":\"\"));var i=Ti(t,\"position\");i!==\"absolute\"&&i!==\"relative\"&&i!==\"fixed\"&&i!==\"sticky\"&&(t.style.position=\"relative\"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(\"mapPane\",this._container),jt(this._mapPane,new C(0,0)),this.createPane(\"tilePane\"),this.createPane(\"overlayPane\"),this.createPane(\"shadowPane\"),this.createPane(\"markerPane\"),this.createPane(\"tooltipPane\"),this.createPane(\"popupPane\"),this.options.markerZoomAnimation||(Ae(t.markerPane,\"leaflet-zoom-hide\"),Ae(t.shadowPane,\"leaflet-zoom-hide\"))},_resetView:function(t,i,a){jt(this._mapPane,new C(0,0));var c=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire(\"viewprereset\");var p=this._zoom!==i;this._moveStart(p,a)._move(t,i)._moveEnd(p),this.fire(\"viewreset\"),c&&this.fire(\"load\")},_moveStart:function(t,i){return t&&this.fire(\"zoomstart\"),i||this.fire(\"movestart\"),this},_move:function(t,i,a,c){i===void 0&&(i=this._zoom);var p=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?a&&a.pinch&&this.fire(\"zoom\",a):((p||a&&a.pinch)&&this.fire(\"zoom\",a),this.fire(\"move\",a)),this},_moveEnd:function(t){return t&&this.fire(\"zoomend\"),this.fire(\"moveend\")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){jt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error(\"Set map center and zoom first.\")},_initEvents:function(t){this._targets={},this._targets[N(this._container)]=this;var i=t?at:Me;i(this._container,\"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup\",this._handleDOMEvent,this),this.options.trackResize&&i(window,\"resize\",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,\"moveend\",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=me(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var a=[],c,p=i===\"mouseout\"||i===\"mouseover\",v=t.target||t.srcElement,P=!1;v;){if(c=this._targets[N(v)],c&&(i===\"click\"||i===\"preclick\")&&this._draggableMoved(c)){P=!0;break}if(c&&c.listens(i,!0)&&(p&&!Di(v,t)||(a.push(c),p))||v===this._container)break;v=v.parentNode}return!a.length&&!P&&!p&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type===\"click\"&&this._isClickDisabled(i))){var a=t.type;a===\"mousedown\"&&Gr(i),this._fireDOMEvent(t,a)}},_mouseEvents:[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"contextmenu\"],_fireDOMEvent:function(t,i,a){if(t.type===\"click\"){var c=g({},t);c.type=\"preclick\",this._fireDOMEvent(c,c.type,a)}var p=this._findEventTargets(t,i);if(a){for(var v=[],P=0;P<a.length;P++)a[P].listens(i,!0)&&v.push(a[P]);p=v.concat(p)}if(p.length){i===\"contextmenu\"&&yt(t);var F=p[0],q={originalEvent:t};if(t.type!==\"keypress\"&&t.type!==\"keydown\"&&t.type!==\"keyup\"){var ne=F.getLatLng&&(!F._radius||F._radius<=10);q.containerPoint=ne?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(t),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=ne?F.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(P=0;P<p.length;P++)if(p[P].fire(i,q,!0),q.originalEvent._stopped||p[P].options.bubblingMouseEvents===!1&&D(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on(\"load\",t,i),this},_getMapPanePos:function(){return Qn(this._mapPane)||new C(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var a=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var a=this.getSize()._divideBy(2);return this.project(t,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,a){var c=this._getNewPixelOrigin(a,i);return this.project(t,i)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,i,a){var c=this._getNewPixelOrigin(a,i);return X([this.project(t.getSouthWest(),i)._subtract(c),this.project(t.getNorthWest(),i)._subtract(c),this.project(t.getSouthEast(),i)._subtract(c),this.project(t.getNorthEast(),i)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,a){if(!a)return t;var c=this.project(t,i),p=this.getSize().divideBy(2),v=new k(c.subtract(p),c.add(p)),P=this._getBoundsOffset(v,a,i);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?t:this.unproject(c.add(P),i)},_limitOffset:function(t,i){if(!i)return t;var a=this.getPixelBounds(),c=new k(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(c,i))},_getBoundsOffset:function(t,i,a){var c=X(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),p=c.min.subtract(t.min),v=c.max.subtract(t.max),P=this._rebound(p.x,-v.x),F=this._rebound(p.y,-v.y);return new C(P,F)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),a=this.getMaxZoom(),c=Ne.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(i,Math.min(a,t))},_onPanTransitionStep:function(){this.fire(\"move\")},_onPanTransitionEnd:function(){lt(this._mapPane,\"leaflet-pan-anim\"),this.fire(\"moveend\")},_tryAnimatedPan:function(t,i){var a=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var t=this._proxy=Fe(\"div\",\"leaflet-proxy leaflet-zoom-animated\");this._panes.mapPane.appendChild(t),this.on(\"zoomanim\",function(i){var a=ga,c=this._proxy.style[a];jn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on(\"load moveend\",this._animMoveEnd,this),this._on(\"unload\",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off(\"load moveend\",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();jn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf(\"transform\")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(\"leaflet-zoom-animated\").length},_tryAnimatedZoom:function(t,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(i),p=this._getCenterOffset(t)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(p)?!1:(me(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ae(this._mapPane,\"leaflet-zoom-anim\")),this.fire(\"zoomanim\",{center:t,zoom:i,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,\"leaflet-zoom-anim\"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire(\"zoom\"),delete this._tempFireZoomEvent,this.fire(\"move\"),this._moveEnd(!0))}});function ur(t,i){return new Qe(t,i)}var tn=Ze.extend({options:{position:\"topright\"},initialize:function(t){R(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),a=this.getPosition(),c=t._controlCorners[a];return Ae(i,\"leaflet-control\"),a.indexOf(\"bottom\")!==-1?c.insertBefore(i,c.firstChild):c.appendChild(i),this._map.on(\"unload\",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off(\"unload\",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),dr=function(t){return new tn(t)};Qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i=\"leaflet-\",a=this._controlContainer=Fe(\"div\",i+\"control-container\",this._container);function c(p,v){var P=i+p+\" \"+i+v;t[p+v]=Fe(\"div\",P,a)}c(\"top\",\"left\"),c(\"top\",\"right\"),c(\"bottom\",\"left\"),c(\"bottom\",\"right\")},_clearControlPos:function(){for(var t in this._controlCorners)dt(this._controlCorners[t]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _a=tn.extend({options:{collapsed:!0,position:\"topright\",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,a,c){return a<c?-1:c<a?1:0}},initialize:function(t,i,a){R(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in i)this._addLayer(i[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on(\"zoomend\",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on(\"add remove\",this._onLayerChange,this);return this._container},addTo:function(t){return tn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(\"zoomend\",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off(\"add remove\",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off(\"add remove\",this._onLayerChange,this);var i=this._getLayer(N(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ae(this._container,\"leaflet-control-layers-expanded\"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ae(this._section,\"leaflet-control-layers-scrollbar\"),this._section.style.height=t+\"px\"):lt(this._section,\"leaflet-control-layers-scrollbar\"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,\"leaflet-control-layers-expanded\"),this},_initLayout:function(){var t=\"leaflet-control-layers\",i=this._container=Fe(\"div\",t),a=this.options.collapsed;i.setAttribute(\"aria-haspopup\",!0),zi(i),js(i);var c=this._section=Fe(\"section\",t+\"-list\");a&&(this._map.on(\"click\",this.collapse,this),Me(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Fe(\"a\",t+\"-toggle\",i);p.href=\"#\",p.title=\"Layers\",p.setAttribute(\"role\",\"button\"),Me(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){yt(v),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Fe(\"div\",t+\"-base\",c),this._separator=Fe(\"div\",t+\"-separator\",c),this._overlaysList=Fe(\"div\",t+\"-overlays\",c),i.appendChild(c)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&N(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,a){this._map&&t.on(\"add remove\",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(y(function(c,p){return this.options.sortFunction(c.layer,p.layer,c.name,p.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vs(this._baseLayersList),vs(this._overlaysList),this._layerControlInputs=[];var t,i,a,c,p=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),i=i||c.overlay,t=t||!c.overlay,p+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&p>1,this._baseLayersList.style.display=t?\"\":\"none\"),this._separator.style.display=i&&t?\"\":\"none\",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(N(t.target)),a=i.overlay?t.type===\"add\"?\"overlayadd\":\"overlayremove\":t.type===\"add\"?\"baselayerchange\":null;a&&this._map.fire(a,i)},_createRadioElement:function(t,i){var a='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'+t+'\"'+(i?' checked=\"checked\"':\"\")+\"/>\",c=document.createElement(\"div\");return c.innerHTML=a,c.firstChild},_addItem:function(t){var i=document.createElement(\"label\"),a=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement(\"input\"),c.type=\"checkbox\",c.className=\"leaflet-control-layers-selector\",c.defaultChecked=a):c=this._createRadioElement(\"leaflet-base-layers_\"+N(this),a),this._layerControlInputs.push(c),c.layerId=N(t.layer),Me(c,\"click\",this._onInputClick,this);var p=document.createElement(\"span\");p.innerHTML=\" \"+t.name;var v=document.createElement(\"span\");i.appendChild(v),v.appendChild(c),v.appendChild(p);var P=t.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,a,c=[],p=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)i=t[v],a=this._getLayer(i.layerId).layer,i.checked?c.push(a):i.checked||p.push(a);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<c.length;v++)this._map.hasLayer(c[v])||this._map.addLayer(c[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,a,c=this._map.getZoom(),p=t.length-1;p>=0;p--)i=t[p],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Me(t,\"click\",yt),this.expand();var i=this;setTimeout(function(){at(t,\"click\",yt),i._preventClick=!1})}}),Ps=function(t,i,a){return new _a(t,i,a)},Qr=tn.extend({options:{position:\"topleft\",zoomInText:'<span aria-hidden=\"true\">+</span>',zoomInTitle:\"Zoom in\",zoomOutText:'<span aria-hidden=\"true\">&#x2212;</span>',zoomOutTitle:\"Zoom out\"},onAdd:function(t){var i=\"leaflet-control-zoom\",a=Fe(\"div\",i+\" leaflet-bar\"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,i+\"-in\",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,i+\"-out\",a,this._zoomOut),this._updateDisabled(),t.on(\"zoomend zoomlevelschange\",this._updateDisabled,this),a},onRemove:function(t){t.off(\"zoomend zoomlevelschange\",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,a,c,p){var v=Fe(\"a\",a,c);return v.innerHTML=t,v.href=\"#\",v.title=i,v.setAttribute(\"role\",\"button\"),v.setAttribute(\"aria-label\",i),zi(v),Me(v,\"click\",kn),Me(v,\"click\",p,this),Me(v,\"click\",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,i=\"leaflet-disabled\";lt(this._zoomInButton,i),lt(this._zoomOutButton,i),this._zoomInButton.setAttribute(\"aria-disabled\",\"false\"),this._zoomOutButton.setAttribute(\"aria-disabled\",\"false\"),(this._disabled||t._zoom===t.getMinZoom())&&(Ae(this._zoomOutButton,i),this._zoomOutButton.setAttribute(\"aria-disabled\",\"true\")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ae(this._zoomInButton,i),this._zoomInButton.setAttribute(\"aria-disabled\",\"true\"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qr,this.addControl(this.zoomControl))});var vo=function(t){return new Qr(t)},qt=tn.extend({options:{position:\"bottomleft\",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i=\"leaflet-control-scale\",a=Fe(\"div\",i),c=this.options;return this._addScales(c,i+\"-line\",a),t.on(c.updateWhenIdle?\"moveend\":\"move\",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?\"moveend\":\"move\",this._update,this)},_addScales:function(t,i,a){t.metric&&(this._mScale=Fe(\"div\",i,a)),t.imperial&&(this._iScale=Fe(\"div\",i,a))},_update:function(){var t=this._map,i=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),a=i<1e3?i+\" m\":i/1e3+\" km\";this._updateScale(this._mScale,a,i/t)},_updateImperial:function(t){var i=t*3.2808399,a,c,p;i>5280?(a=i/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+\" mi\",c/a)):(p=this._getRoundNum(i),this._updateScale(this._iScale,p+\" ft\",p/i))},_updateScale:function(t,i,a){t.style.width=Math.round(this.options.maxWidth*a)+\"px\",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+\"\").length-1),a=t/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),Kr=function(t){return new qt(t)},wa='<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" class=\"leaflet-attribution-flag\"><path fill=\"#4C7BE1\" d=\"M0 0h12v4H0z\"/><path fill=\"#FFD500\" d=\"M0 4h12v3H0z\"/><path fill=\"#E0BC00\" d=\"M0 7h12v1H0z\"/></svg>',Sr=tn.extend({options:{position:\"bottomright\",prefix:'<a href=\"https://leafletjs.com\" title=\"A JavaScript library for interactive maps\">'+(Ne.inlineSvg?wa+\" \":\"\")+\"Leaflet</a>\"},initialize:function(t){R(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Fe(\"div\",\"leaflet-control-attribution\"),zi(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on(\"layeradd\",this._addAttribution,this),this._container},onRemove:function(t){t.off(\"layeradd\",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once(\"remove\",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(\", \")),this._container.innerHTML=a.join(' <span aria-hidden=\"true\">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new Sr().addTo(this)});var Ul=function(t){return new Sr(t)};tn.Layers=_a,tn.Zoom=Qr,tn.Scale=qt,tn.Attribution=Sr,dr.layers=Ps,dr.zoom=vo,dr.scale=Kr,dr.attribution=Ul;var dn=Ze.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(t,i){return t.addHandler(i,this),this};var Na={Events:ke},Jr=Ne.touch?\"touchstart mousedown\":\"mousedown\",Pn=ce.extend({options:{clickTolerance:3},initialize:function(t,i,a,c){R(this,c),this._element=t,this._dragStartTarget=i||t,this._preventOutline=a},enable:function(){this._enabled||(Me(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hr(this._element,\"leaflet-zoom-anim\"))){if(t.touches&&t.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Pn._dragging=this,this._preventOutline&&Gr(this._element),ws(),Je(),!this._moving)){this.fire(\"down\");var i=t.touches?t.touches[0]:t,a=Kn(this._element);this._startPoint=new C(i.clientX,i.clientY),this._startPos=Qn(this._element),this._parentScale=Rn(a);var c=t.type===\"mousedown\";Me(document,c?\"mousemove\":\"touchmove\",this._onMove,this),Me(document,c?\"mouseup\":\"touchend touchcancel\",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,a=new C(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,yt(t),this._moved||(this.fire(\"dragstart\"),this._moved=!0,Ae(document.body,\"leaflet-dragging\"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,\"leaflet-drag-target\")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire(\"predrag\",t),jt(this._element,this._newPos),this.fire(\"drag\",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,\"leaflet-dragging\"),this._lastTarget&&(lt(this._lastTarget,\"leaflet-drag-target\"),this._lastTarget=null),at(document,\"mousemove touchmove\",this._onMove,this),at(document,\"mouseup touchend touchcancel\",this._onUp,this),Ns(),Wr();var i=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,i&&this.fire(\"dragend\",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ba(t,i,a){var c,p=[1,4,2,8],v,P,F,q,ne,he,Ce,Ve;for(v=0,he=t.length;v<he;v++)t[v]._code=kr(t[v],i);for(F=0;F<4;F++){for(Ce=p[F],c=[],v=0,he=t.length,P=he-1;v<he;P=v++)q=t[v],ne=t[P],q._code&Ce?ne._code&Ce||(Ve=Ls(ne,q,Ce,i,a),Ve._code=kr(Ve,i),c.push(Ve)):(ne._code&Ce&&(Ve=Ls(ne,q,Ce,i,a),Ve._code=kr(Ve,i),c.push(Ve)),c.push(q));t=c}return t}function yo(t,i){var a,c,p,v,P,F,q,ne,he;if(!t||t.length===0)throw new Error(\"latlngs not passed\");hn(t)||(console.warn(\"latlngs are not flat! Only the first ring will be used\"),t=t[0]);var Ce=fe([0,0]),Ve=ye(t),Ot=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());Ot<1700&&(Ce=ja(t));var Lt=t.length,rn=[];for(a=0;a<Lt;a++){var Wt=fe(t[a]);rn.push(i.project(fe([Wt.lat-Ce.lat,Wt.lng-Ce.lng])))}for(F=q=ne=0,a=0,c=Lt-1;a<Lt;c=a++)p=rn[a],v=rn[c],P=p.y*v.x-v.y*p.x,q+=(p.x+v.x)*P,ne+=(p.y+v.y)*P,F+=P*3;F===0?he=rn[0]:he=[q/F,ne/F];var oi=i.unproject(K(he));return fe([oi.lat+Ce.lat,oi.lng+Ce.lng])}function ja(t){for(var i=0,a=0,c=0,p=0;p<t.length;p++){var v=fe(t[p]);i+=v.lat,a+=v.lng,c++}return fe([i/c,a/c])}var Zl={__proto__:null,clipPolygon:ba,polygonCenter:yo,centroid:ja};function Cs(t,i){if(!i||!t.length)return t.slice();var a=i*i;return t=Hl(t,a),t=Vl(t,a),t}function _o(t,i,a){return Math.sqrt(Pr(t,i,a,!0))}function $l(t,i,a){return Pr(t,i,a)}function Vl(t,i){var a=t.length,c=typeof Uint8Array<\"u\"?Uint8Array:Array,p=new c(a);p[0]=p[a-1]=1,Sa(t,p,i,0,a-1);var v,P=[];for(v=0;v<a;v++)p[v]&&P.push(t[v]);return P}function Sa(t,i,a,c,p){var v=0,P,F,q;for(F=c+1;F<=p-1;F++)q=Pr(t[F],t[c],t[p],!0),q>v&&(P=F,v=q);v>a&&(i[P]=1,Sa(t,i,a,c,P),Sa(t,i,a,P,p))}function Hl(t,i){for(var a=[t[0]],c=1,p=0,v=t.length;c<v;c++)ql(t[c],t[p])>i&&(a.push(t[c]),p=c);return p<v-1&&a.push(t[v-1]),a}var ka;function wo(t,i,a,c,p){var v=c?ka:kr(t,a),P=kr(i,a),F,q,ne;for(ka=P;;){if(!(v|P))return[t,i];if(v&P)return!1;F=v||P,q=Ls(t,i,F,a,p),ne=kr(q,a),F===v?(t=q,v=ne):(i=q,P=ne)}}function Ls(t,i,a,c,p){var v=i.x-t.x,P=i.y-t.y,F=c.min,q=c.max,ne,he;return a&8?(ne=t.x+v*(q.y-t.y)/P,he=q.y):a&4?(ne=t.x+v*(F.y-t.y)/P,he=F.y):a&2?(ne=q.x,he=t.y+P*(q.x-t.x)/v):a&1&&(ne=F.x,he=t.y+P*(F.x-t.x)/v),new C(ne,he,p)}function kr(t,i){var a=0;return t.x<i.min.x?a|=1:t.x>i.max.x&&(a|=2),t.y<i.min.y?a|=4:t.y>i.max.y&&(a|=8),a}function ql(t,i){var a=i.x-t.x,c=i.y-t.y;return a*a+c*c}function Pr(t,i,a,c){var p=i.x,v=i.y,P=a.x-p,F=a.y-v,q=P*P+F*F,ne;return q>0&&(ne=((t.x-p)*P+(t.y-v)*F)/q,ne>1?(p=a.x,v=a.y):ne>0&&(p+=P*ne,v+=F*ne)),P=t.x-p,F=t.y-v,c?P*P+F*F:new C(p,v)}function hn(t){return!$(t[0])||typeof t[0][0]!=\"object\"&&typeof t[0][0]<\"u\"}function No(t){return console.warn(\"Deprecated use of _flat, please use L.LineUtil.isFlat instead.\"),hn(t)}function bo(t,i){var a,c,p,v,P,F,q,ne;if(!t||t.length===0)throw new Error(\"latlngs not passed\");hn(t)||(console.warn(\"latlngs are not flat! Only the first ring will be used\"),t=t[0]);var he=fe([0,0]),Ce=ye(t),Ve=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());Ve<1700&&(he=ja(t));var Ot=t.length,Lt=[];for(a=0;a<Ot;a++){var rn=fe(t[a]);Lt.push(i.project(fe([rn.lat-he.lat,rn.lng-he.lng])))}for(a=0,c=0;a<Ot-1;a++)c+=Lt[a].distanceTo(Lt[a+1])/2;if(c===0)ne=Lt[0];else for(a=0,v=0;a<Ot-1;a++)if(P=Lt[a],F=Lt[a+1],p=P.distanceTo(F),v+=p,v>c){q=(v-c)/p,ne=[F.x-q*(F.x-P.x),F.y-q*(F.y-P.y)];break}var Wt=i.unproject(K(ne));return fe([Wt.lat+he.lat,Wt.lng+he.lng])}var jo={__proto__:null,simplify:Cs,pointToSegmentDistance:_o,closestPointOnSegment:$l,clipSegment:wo,_getEdgeIntersection:Ls,_getBitCode:kr,_sqClosestPointOnSegment:Pr,isFlat:hn,_flat:No,polylineCenter:bo},Pa={project:function(t){return new C(t.lng,t.lat)},unproject:function(t){return new pe(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Ca={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,a=this.R,c=t.lat*i,p=this.R_MINOR/a,v=Math.sqrt(1-p*p),P=v*Math.sin(c),F=Math.tan(Math.PI/4-c/2)/Math.pow((1-P)/(1+P),v/2);return c=-a*Math.log(Math.max(F,1e-10)),new C(t.lng*i*a,c)},unproject:function(t){for(var i=180/Math.PI,a=this.R,c=this.R_MINOR/a,p=Math.sqrt(1-c*c),v=Math.exp(-t.y/a),P=Math.PI/2-2*Math.atan(v),F=0,q=.1,ne;F<15&&Math.abs(q)>1e-7;F++)ne=p*Math.sin(P),ne=Math.pow((1-ne)/(1+ne),p/2),q=Math.PI/2-2*Math.atan(v*ne)-P,P+=q;return new pe(P*i,t.x*i/a)}},Wl={__proto__:null,LonLat:Pa,Mercator:Ca,SphericalMercator:it},Gl=g({},Te,{code:\"EPSG:3395\",projection:Ca,transformation:function(){var t=.5/(Math.PI*Ca.R);return cn(t,.5,-t,.5)}()}),So=g({},Te,{code:\"EPSG:4326\",projection:Pa,transformation:cn(1/180,1,-1/180,.5)}),Ql=g({},De,{projection:Pa,transformation:cn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var a=i.lng-t.lng,c=i.lat-t.lat;return Math.sqrt(a*a+c*c)},infinite:!0});De.Earth=Te,De.EPSG3395=Gl,De.EPSG3857=kt,De.EPSG900913=Wn,De.EPSG4326=So,De.Simple=Ql;va","size_bytes":360000},"dist/assets/purchaseHandler-C4lbH6d-.js":{"content":"import{p as u,r as l,d as p}from\"./index-DPQ5Vlnn.js\";const S=async(a,o,r={})=>{try{if(!a||o<=0)return{success:!1,error:\"Invalid product ID or purchase amount\",code:\"INVALID_INPUT\"};const e=u.getProductById(a);if(!e)return{success:!1,error:`Product with ID ${a} not found`,code:\"PRODUCT_NOT_FOUND\"};const d=parseInt(e.quantity||e.stock||0),t=parseInt(o);if(console.log(`Processing purchase: Product ${e.name}, Current Stock: ${d}, Purchase Amount: ${t}`),d<t)return{success:!1,error:`Insufficient stock. Available: ${d}, Requested: ${t}`,code:\"INSUFFICIENT_STOCK\",data:{productName:e.name,availableStock:d,requestedAmount:t,shortfall:t-d}};const s=Math.max(0,d-t);console.log(`Stock calculation: ${d} - ${t} = ${s}`);const c={...e,quantity:s,stock:s,availableStock:s,lastPurchase:{amount:t,timestamp:new Date().toISOString(),vendorId:r.vendorId,orderId:r.orderId},updatedAt:new Date().toISOString()};if(!u.updateProduct(a,c))return{success:!1,error:\"Failed to update product in database\",code:\"DATABASE_UPDATE_FAILED\"};if(l.emitStockUpdate(\"purchase\",{productId:a,productName:e.name,previousStock:d,newStock:s,quantityPurchased:t,product:c,vendorId:r.vendorId,orderId:r.orderId,timestamp:Date.now()}),r.vendorId&&r.deliveryAddress){const i={customer:r.vendorName||`Vendor ${r.vendorId}`,customerId:r.vendorId,supplier:e.supplierName||`Supplier ${e.supplierId}`,supplierId:e.supplierId,products:[{id:a,name:e.name,quantity:t,unit:e.unit||\"kg\",price:e.price,image:e.image}],totalAmount:e.price*t,paymentMethod:r.paymentMethod||\"UPI\",deliveryAddress:r.deliveryAddress,orderDate:new Date().toISOString()},n=p.addDelivery(i);console.log(\"Added delivery to supplier dashboard:\",n),l.emitOrderUpdate(\"new_order\",{vendorId:r.vendorId,order:n})}return m({productId:a,productName:e.name,previousStock:d,newStock:s,purchaseAmount:t,vendorId:r.vendorId,orderId:r.orderId,timestamp:new Date().toISOString()}),{success:!0,data:{productId:a,productName:e.name,previousStock:d,newStock:s,purchaseAmount:t,updatedProduct:c}}}catch(e){return console.error(\"Error updating product stock after purchase:\",e),{success:!1,error:e.message||\"Unknown error occurred\",code:\"UNEXPECTED_ERROR\"}}},m=a=>{try{const o=JSON.parse(localStorage.getItem(\"vendorMitraPurchaseLogs\")||\"[]\");o.push(a),o.length>1e3&&o.splice(0,o.length-1e3),localStorage.setItem(\"vendorMitraPurchaseLogs\",JSON.stringify(o))}catch(o){console.warn(\"Failed to log purchase transaction:\",o)}};export{S as default,S as updateProductStockAfterPurchase};\n","size_bytes":2492},"replit.md":{"content":"# Overview\n\nVendor Mitra is a React-based food supply chain platform that connects vendors (buyers) with suppliers (sellers) for fresh produce, dairy, and other food products. The platform provides real-time inventory management, location-based supplier discovery, and comprehensive product catalogs with image management capabilities.\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Frontend Architecture\n- **React 18** with Vite as the build tool and development server\n- **React Router** for client-side routing and navigation\n- **Tailwind CSS** for styling with custom color themes for food categories\n- **Lucide React** and **Heroicons** for consistent iconography\n- **React Dropzone** for file upload functionality including camera capture\n\n## State Management & Data Persistence\n- **localStorage-based database** system for persistent data storage\n- **Real-time synchronization** using localStorage events for cross-tab communication\n- **Custom stock management system** with automatic inventory updates\n- **Product database** with comprehensive CRUD operations\n\n## Authentication System\n- **Role-based authentication** supporting vendors and suppliers\n- **Predefined user accounts** for testing and demonstration\n- **Session management** with localStorage persistence\n\n## Image Management\n- **Automatic image fetching** from Unsplash API based on product names\n- **Camera integration** for direct product photography (1280x720 resolution)\n- **Image caching system** to minimize API calls\n- **Smart fallback images** with category-specific placeholders\n\n## Real-time Features\n- **Cross-tab synchronization** using localStorage events\n- **Live stock updates** when purchases are made\n- **Real-time inventory management** with automatic stock decrements\n\n## Internationalization\n- **i18next** for multi-language support (English and Hindi)\n- **React-i18next** for React component integration\n- Comprehensive translation files for all UI elements\n\n## Map Integration\n- **Leaflet** with React-Leaflet for interactive maps\n- **Supplier location tracking** with custom markers\n- **Proximity-based supplier discovery**\n\n# External Dependencies\n\n## Third-party APIs\n- **Unsplash API** for automatic product image fetching (requires free API key)\n- **Leaflet/OpenStreetMap** for mapping and location services\n\n## Core Libraries\n- **React ecosystem** (React 18, React DOM, React Router)\n- **Axios** for HTTP requests (though currently using mock APIs)\n- **Headless UI** for accessible UI components\n- **React Dropzone** for file uploads and camera integration\n\n## Development Tools\n- **Vite** for fast development and building\n- **ESLint** for code quality\n- **PostCSS** with Autoprefixer for CSS processing\n- **Tailwind CSS** for utility-first styling\n\n## Data Storage\n- **localStorage** for persistent data storage (no external database currently)\n- **JSON-based** data structures for products, users, and orders\n- **In-memory caching** for images and frequently accessed data","size_bytes":3033}},"version":1}